    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>pa:formate-proiect</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2013-02-10T02:43:49+0200"/>
<meta name="keywords" content="pa,formate-proiect"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../feed.php%3Fmode=list&amp;ns=pa"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="formate-proiect.html"/>
<link rel="canonical" href="../../../pa/formate-proiect.html"/>
<link rel="stylesheet" type="text/css" href="../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1479898000.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='pa';var JSINFO = {"id":"pa:formate-proiect","namespace":"pa","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../lib/exe/js.php%3Ftseed=1479898000"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="formate-proiect.html#formate_de_intrare_si_iesire">Formate de intrare şi ieşire</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="formate-proiect.html#formatul_de_intrare">Formatul de intrare</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="formate-proiect.html#parametrii">Parametrii</a></div></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="formate_de_intrare_si_iesire">Formate de intrare şi ieşire</h1>
<div class="level1">

</div>
<!-- EDIT1 SECTION "Formate de intrare şi ieşire" [1-46] -->
<h2 class="sectionedit2" id="formatul_de_intrare">Formatul de intrare</h2>
<div class="level2">

</div>
<!-- EDIT2 SECTION "Formatul de intrare" [47-79] -->
<h3 class="sectionedit3" id="parametrii">Parametrii</h3>
<div class="level3">

<p>
La începutul fiecărui joc, fiecărui bot îi sunt transmişi parametrii generali, care încep cu transmiterea liniei <code>turn 0</code>. Fiecare parametru este de forma
</p>
<pre class="code">type value</pre>

<p>
Tipul valorii este determinat de tipul parametrului. Toate valorile sunt întregi cu semn pe 32 biţi (mai puţin <code>player_seed</code> a cărui valoare este un întreg cu semn pe 64 biţi).
</p>
<ul>
<li class="level1"><div class="li">&#039;loadtime<code>       : în milisecunde, timpul în care botul trebuie să răspundă după ce i-a fost trimis </code>ready<code> (timpul maxim de pornire al botului)
  *&#039;turntime</code>       : în milisecunde, timpul în care botul trebuie să răspundă pentru fiecare tur (timpul maxim de gândire al botului)</div>
</li>
<li class="level1"><div class="li">&#039;rows<code>           : numărul de rânduri ale hărţii
  *&#039;cols</code>           : numărul de coloane ale hărţii</div>
</li>
<li class="level1"><div class="li">&#039;turns<code>          : numărul maxim de tururi ale jocului
  *&#039;viewradius2</code>    : raza de vizibilitate la pătrat</div>
</li>
<li class="level1"><div class="li">&#039;attackradius2<code>  : raza de atac la pătrat
  *&#039;spawnradius2</code>   : raza pentru colectarea mâncării la pătrat</div>
</li>
<li class="level1"><div class="li">&#039;player_seed<code>    : seedul pentru generarea numerelor aleatoare

După ce toţi parametrii au fost transmişi, se transmite </code>ready<code> pe o linie separată. După acest punct, botul este liber să se pregăteasca maxim </code>loadtime<code> milisecunde.

==== Tururi ====
Fiecare tur începe cu una din următoarele linii:
&lt;code&gt;turn turnNo
end&lt;/code&gt;

</code>end<code> indică faptul că jocul s-a încheiat iar câştigătorul va primi informaţii legate de ultima stare, în cazul în care doreşte să facă o testare locală.

Dacă jocul s-a încheiat, jucătorii vor primi informaţii legate de numărul de jucători şi scorurile obţinute în următorul format:
&lt;code&gt;players noPlayers
score p1Score … pnScore&lt;/code&gt;

Dacă nu s-a încheiat jocul, se vor transmite informaţii referitoare la căsuţele vizibile în următorul format:
&lt;code&gt;
w row col                            # apă
f row col                            # mâncare
h row col owner                      # muşuroi
a row col owner                      # furnică în viaţă
d row col owner                      # furnică moartă
&lt;/code&gt;

Sfârşitul unui tur este indicat de trimiterea unui </code>go<code>. 

Întotdeauna informaţiile se transmit ca şi când tu eşti jucătorul 0. Primul adversar văzut este jucătorul 1, al doilea este jucătorul 2 ş.a.m.d. Acest lucru asigură faptul că fiecare jucător nu ştie câţi adversari are.

Informaţia despre o căsuţă cu apă va fi transmisă doar prima oara când este vizibilă de către o furnică (pentru a se reduce cantitatea de date transferată).

Fiecare bot va primi informaţii referitoare la furnicile în viaţi, mâncare şi muşuroaie la fiecare tur, în cazul în care căsuţele respective se află în raza vizuală a unei furnici proprii aflată în viaţă. Mâncarea şi muşuroaiele nu se mută, iar informaţiile referitoare la ele vor fi transmise la fiecare tur. Dacă o bucată de mâncare este culeasă sau un muşuroi este distrus, iar acestea se întâmplă în afara razei vizuale a unui jucător, acel jucător nu va fi notificat de cele întâmplate. Când acel jucător va avea din nou vizibilitate asupra acelor căsuţe, nu va mai primi niciun fel de informaţie referitoare la mâncarea ce a fost colectată sau muşuroiul ce a fost distrus.

Se oferă informaţii legate de furnicile ce au murit din cauza unor coliziuni sau unei bătălii la turul anterior doar dacă furnicile respective se află pe o căsuţă vizibilă. Întotdeauna se oferă informaţii referitoare la furnicile proprii care au murit chiar dacă nu se mai află in raza de vizibilitate. 

Exemple găsiţi aici: <a href="http://aichallenge.org/specification.php#Bot-Input" class="urlextern" title="http://aichallenge.org/specification.php#Bot-Input"  rel="nofollow">http://aichallenge.org/specification.php#Bot-Input</a>

==== Fog of war ====

Fiecărui bot îi este transmis un parametru la începutul fiecărui joc, parametru ce indică pătratul vizibilităţii fiecărei furnici (cât de mult poate să vadă o furnică împrejurul ei). 

La fiecare tur, fiecare bot va primi informaţii pentru căsuţele ce sunt văzute la momentul respectiv de furnicile proprii aflate în viaţă.


==== Distanţa ====

Distanţele sunt folosite pentru vizibilitate, atac şi colectare mâncare. Este oferită raza la pătrat pentru a se evita calculul cu numerele reale. 

Distanţele sunt calculate folosindu-se metrica Euclidiană. Pentru două puncte, </code>a<code> şi </code>b<code>, distanţa se calculează astfel:

</code>dr = min(abs(a.row - b.row), rows - abs(a.row - b.row))</div>
</li>
</ul>

<p>
dc = min(abs(a.col - b.col), cols - abs(a.col - b.col))
distance = sqrt(pow(dr, 2), pow(dc, 2))<code>

Două căsuţe </code>a<code> şi </code>b<code> se află la o distanţă </code>b<code> dacă </code>distance(a, b) &lt;= r<code>.

===== Formatul de ieşire =====

După ce botul a primit parametrii de la începutul jocului şi a terminat să se pregătească, el indică acest lucru engine-ului prin afişarea </code>go<code>.

Fiecare bot poate să-şi mute un număr din furniciile proprii într-una din direcţiile nord, sud, est sau vest (dacă destinaţia nu este o căsuţă cu apă). Fiecare mutare se scrie pe o linie separată în următorul format:

&lt;code&gt;row col direction&lt;/code&gt;

Numerotarea liniile şi coloanelor începe de la 0, iar direcţiile sunt una din literele </code>N<code>, </code>E<code>, </code>S<code> or </code>W<code>. La sfârşitul fiecărui tur, botul trebuie să afişeze </code>go<code> pentru ca engine-ul să ştie că s-a încheiat trimiterea mutărilor.

Exemple găsiţi aici: <a href="http://aichallenge.org/specification.php#Bot-Output" class="urlextern" title="http://aichallenge.org/specification.php#Bot-Output"  rel="nofollow">http://aichallenge.org/specification.php#Bot-Output</a>

==== Blocarea ====

Numai mutarea furnicilor este blocată de apă. Furnicile pot să vadă şi se pot ataca peste apă. Dacă un bot mută o furnică peste o căsuţă cu apă, acea mutare este considerată invalidă si va fi ignorată.

De asemenea şi mâncarea va bloca mutarea furnicilor. Aceasta se întâmplă dacă mâncarea apare lângă o furnică. Dacă furnica nu va fi mutată, atunci acea bucată de mâncare va fi colectată la următorul tur.

==== Coliziunile ====

Se pot muta două furnici proprii în aceeaşi căsuţă. Însă dacă se întamplă acest lucru, ambele furnici vor muri. Dacă o furnică este trimisă către o căsuţă, iar un adversar îşi trimite o furnică către aceeaşi căsuţă, ambele furnici vor muri înainte de a se considera atacul. Acest lucru se poate întâmpla dacă o furnică se naşte lângă un adversar.

===== Formatul hărţii =====

O hartă este reprezentată sub forma unui grid dreptunghiular. Fiecare căsuţă poate conţine pământ, apă, mâncare, o singură furnică aflată în viaţă, mai multe furnici moarte sau un muşuroi. Furnicile se pot afla de asemenea pe muşuroi. Gridul este unul toroidal, adică dacă o furnică se deplasează în sus de pe primul rând al hărţii, ea va apărea pe ultimul rând; analog, se întâmplă pentru toate cele 4 direcţii.

Fişierul ce conţine o hartă este un fişier text obişnuit, doar că are extensia </code>.map<code>. Fişierul are următorul format:
&lt;code&gt;
rows noRows
cols noCols
players noPlayers
score s1 s2 …
hive h1 h2 …
m [.%*!?a-jA-J0-9]
&lt;/code&gt;

Simbolurile au următoarea semnificaţie:

</code>.<code>   : pământ
</code>%<code>   : apă
</code>*<code>   : mâncare
</code>!<code>   : furnici moarte
</code>?<code>   : teritoriu nevizitat
</code>a-j<code> : furnică
</code>A-J<code> : furnică aflată pe un muşuroi propriu
</code>0-9&#039;&#039; : muşuroi
</p>

<p>
Hărţile pot să descrie începutul fiecărui tur, excepţie făcând faptul că nu se ştie dacă sunt una sau mai multe furnici moarte pe o căsuţă anume, sau jucătorul ce deţine furnicile.
</p>

<p>
Pentru jocuri aflate în desfăşurare, hărţile generate sunt folosite pentru a descrie începutul jocului şi folosesc un subset al întregii hărţi. Mâncarea, furnicile şi furnicile moarte nu sunt incluse. Nicio căsuţă nu trebuie sa fie nevăzută. Scorurile şi numărul de jucători nu trebuie sa fie incluse. Hărţile trebuie sa fie simetrice.
</p>

<p>
Exemple găsiţi aici: <a href="http://aichallenge.org/specification.php#Map-Format" class="urlextern" title="http://aichallenge.org/specification.php#Map-Format"  rel="nofollow">http://aichallenge.org/specification.php#Map-Format</a>
</p>

</div>
<!-- EDIT3 SECTION "Parametrii" [80-] --></div>
</body>
</html>
