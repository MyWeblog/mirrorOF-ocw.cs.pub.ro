    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>pa:tools-proiect</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2013-02-10T02:43:49+0200"/>
<meta name="keywords" content="pa,tools-proiect"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../feed.php%3Fmode=list&amp;ns=pa"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="tools-proiect.html"/>
<link rel="canonical" href="../../../pa/tools-proiect.html"/>
<link rel="stylesheet" type="text/css" href="../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1479898000.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='pa';var JSINFO = {"id":"pa:tools-proiect","namespace":"pa","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../lib/exe/js.php%3Ftseed=1479898000"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="tools-proiect.html#tools">Tools</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tools-proiect.html#continutul_arhivei">Conţinutul arhivei</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="tools">Tools</h1>
<div class="level1">

<p>
Download: <a href="http://elf.cs.pub.ro/pa/proiect/tools-win.zip" class="urlextern" title="http://elf.cs.pub.ro/pa/proiect/tools-win.zip"  rel="nofollow">windows</a> | <a href="http://elf.cs.pub.ro/pa/proiect/tools-lin.zip" class="urlextern" title="http://elf.cs.pub.ro/pa/proiect/tools-lin.zip"  rel="nofollow">linux</a> <br/>

Download v2: <a href="http://elf.cs.pub.ro/pa/proiect/tools-win-new.zip" class="urlextern" title="http://elf.cs.pub.ro/pa/proiect/tools-win-new.zip"  rel="nofollow">windows</a> | <a href="http://elf.cs.pub.ro/pa/proiect/tools-lin-new.zip" class="urlextern" title="http://elf.cs.pub.ro/pa/proiect/tools-lin-new.zip"  rel="nofollow">linux</a>
</p>

</div>
<!-- EDIT1 SECTION "Tools" [1-287] -->
<h2 class="sectionedit2" id="continutul_arhivei">Conţinutul arhivei</h2>
<div class="level2">

<p>
În continuare este descris conţinutul arhivei de linux. Arhiva de windows are conţinut similar.
</p>
<ul>
<li class="level1"><div class="li">&#039;starter_bots<code><strong> - boţii pe baza cărora puteţi începe să codaţi
    *&#039;maps<code><strong> - toate hărţile care vor fi utilizate în campionat
    *&#039;mapgen<code><strong> - generator de hărţi
    *&#039;playgame.py<code><strong> - scriptul principal de rulare a meciurilor
    *&#039;play_one_game.sh<code><strong> - exemplu de rulare cu vizualizare non realtime
    *&#039;play_one_game_live.sh<code><strong> - exemplu de rulare cu vizualizare realtime
    *&#039;test_bot.sh<code><strong> - se ruleaza <code>test_bot.sh ./MyBot</code>. Dacă ieşirea scriptului de test nu conţine erori, verificarea iniţială a botului este trecută cu succes. Directorul <code>submission_test</code> conţine fişiere necesare pentru testare.
    *&#039;visualizer, visualizer.jar<code><strong> - fişiere pentru vizualizarea meciurilor în mod grafic
    *&#039;sample_bots<code><strong> - boţii oferiţi exemplu in Java şi python.
    *&#039;etapa1<code><strong> - adversarul pentru etapa 1
    *&#039;etapa2<code><strong> - adversarul pentru etapa 2
    *&#039;etapa3<code><strong> - adversarul pentru etapa 3
===== Rularea meciurilor =====
Pentru rularea meciurilor se foloseşte scriptul <code>playgame.py</code>

==== Prerequisites ====
Pentru folosirea corespunzătoare a instrumentelor este nevoie de Python 2.7.2.
Linux: <code>sudo apt-get install python</code> <br/>

Windows: <a href="http://python.org/download/releases/2.7.2/" class="urlextern" title="http://python.org/download/releases/2.7.2/"  rel="nofollow">http://python.org/download/releases/2.7.2/</a>

Pentru vizualizarea meciurilor în mod grafic este nevoie de JRE:
Linux: <code>sudo apt-get install openjdk-6-jre</code> <br/>

Windows: <a href="http://www.java.com/en/download/index.jsp" class="urlextern" title="http://www.java.com/en/download/index.jsp"  rel="nofollow">http://www.java.com/en/download/index.jsp</a>

Pentru compilarea surselor java este nevoie de JDK:
Linux: <code>sudo apt-get install openjdk-6-jdk</code> <br/>

Windows: <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk-7u2-download-1377129.html" class="urlextern" title="http://www.oracle.com/technetwork/java/javase/downloads/jdk-7u2-download-1377129.html"  rel="nofollow">http://www.oracle.com/technetwork/java/javase/downloads/jdk-7u2-download-1377129.html</a>

În Windows executabilele <code>python</code>, <code>java</code> şi <code>javac</code> trebuie adaugate la <code>PATH</code>.
De exemplu, se adauga la <code>PATH</code>: <code>C:\PROGRAM FILES\JAVA\JDK1.7.0_02\BIN;C:\PYTHON27\;</code>

Pentru rularea executabilelor puse la dispozitie pentru etapele 1, 2 si 3 pe Windows trebuie instalat Microsoft Visual C++ 2010 Redistributable Package:
x86 (32b): <a href="http://www.microsoft.com/download/en/details.aspx?id=5555" class="urlextern" title="http://www.microsoft.com/download/en/details.aspx?id=5555"  rel="nofollow">http://www.microsoft.com/download/en/details.aspx?id=5555</a> <br/>

x64 (64b): <a href="http://www.microsoft.com/download/en/details.aspx?id=14632" class="urlextern" title="http://www.microsoft.com/download/en/details.aspx?id=14632"  rel="nofollow">http://www.microsoft.com/download/en/details.aspx?id=14632</a>
==== Moduri de folosire ====
În următoarele rânduri este prezentat modul de folosire a scriptului playgame.py în Linux. Pentru Windows, diferenţele sunt prezentate la final.

# </strong>Basic<strong> <br/>
&lt;code&gt;./playgame.py –map_file maps/maze/maze_02p_01.map ”./MyBot” ”./MyBot”&lt;/code&gt; Harta şi comenzile de rulare ale boţilor trebuie întotdeauna specificate. <br/>
În acest mod nu vedem nimic, chiar daca boţii se luptă în spate. Deoarece implicit sunt 1000 de tururi, poate dura o vreme până ce lupta se termină.
# </strong>Basic Verbose<strong> <br/>
&lt;code&gt;./playgame.py –verbose –map_file maps/maze/maze_02p_01.map ”./MyBot” ”./MyBot”&lt;/code&gt; Acum vedem statistici legate de jocul aflat în desfăşurare. Totuşi, nu e prea frumos.
# </strong>Non Real Time Grafic<strong> <br/>
&lt;code&gt;./playgame.py –log_dir game_logs –map_file maps/maze/maze_02p_01.map ”./MyBot” ”./MyBot”&lt;/code&gt; În directorul “game_logs” se vor stoca fişierele: <br/>
- 0.replay: rezultatul meciului <br/>
- replay.0.html: pagina web pentru vizualizarea meciului <br/>
La sfârşitul meciului se va lansa browserul default pentru vizualizarea paginii web de replay.
# </strong>Real Time Grafic<strong> <br/>
&lt;code&gt;./playgame.py -So –log_dir game_logs –map_file maps/maze/maze_02p_01.map ”./MyBot” ”./MyBot” | java -jar visualizer.jar  &lt;/code&gt; În timpul rulării meciului acesta poate fi vizualizat. Vizualizatorul nu se închide la terminarea meciului.

Atenţie, binarele folosite trebuie să fie în acelaşi director cu playgame.py!
==== Vizualizatorul ====
Acesta se deschide în modurile 3 şi 4 de rulare.
Timelineul din partea de sus poate fi folosit pentru navigarea între tururi; pentru acelaşi scop se pot folosi şi tastele direcţionale. Alte informaţii utile oferite de vizualizator:
# </strong>Fog of war:<strong> în partea stângă se poate selecta afişarea celulelor vizibile de un anumit jucător.
# </strong>Bot In:** în partea dreapta jos butonul “Bot IN” generează inputul pentru un jucător. Apoi jucătorul poate fi rulat astfel: </code>./MyBot &lt;input.in<code> (În modul 4 acest buton se poate să nu funcţioneze)

==== Parametrii de joc ====
Numărul sau numerele din dreapta parametrului reprezintă valoarea implicită.
Acolo unde sunt menţionate două valori implicite, engine-ul va genera o valoare aleatoare între acele două valori (prima valoare reprezintă minimul şi a doua maximul).

  *Parametrii pentru playgame.py care în mod normal nu ar trebui modificaţi.
    *</code>--attack focus<code> : Tipul de atac (closest, focus, support, damage)
    *</code>--kill_points 2<code> : Numarul de puncte acordat pentru doborârea unui muşuroi advers.
    *</code>--food symmetric<code> : Tipul de generare a mancarii (none, random, sections, symmetric)
    *</code>--viewradius2 77<code> : Raza de vizibilitate la pătrat.
    *</code>--spawnradius2 1<code> : Raza de consum a mâncării la pătrat (numele are raţiuni istorice).
    *</code>--attackradius2 5<code> : Raza de atac la pătrat.
    *</code>--food_rate 5 11<code> : Numărătorul raţiei de măncare (raţia de mâncare = cantitatea de mâncare per tur per jucător).
    *</code>--food_turn 19 37<code> : Numitorul raţiei de măncare.
    *</code>--food_start 75 175<code> : Se garantează că 1/food_start din casuţele iniţiale vor conţine mâncare.
    *</code>--food_visible 3 5<code> : Câtă mâncare se garantează că va fi vizibilă fiecărui jucător la începutul meciului.

  *Parametrii pentru playgame.py care pot fi modificaţi pentru testare şi rulare.
    *</code>--turns 1000<code> : Numărul maxim de tururi dintr-un meci.
    *</code>--turntime 1000<code> : Timpul maxim de gândire per jucător per tur în milisecunde.
    *</code>--loadtime 3000<code> : Timpul maxim de pornire al unui bot.
    *</code>--rounds 1<code> : Numărul de meciuri.
    *</code>--player_seed<code> : Seed-ul oferit jucătorilor pentru generarea de numere aleatoare.
    *</code>--engine_seed<code> : Seed-ul pe care se bazează engine-ul pentru generarea de numere aleatoare. Acesta este folosit la generarea aleatorie a mâncării şi la generarea aleatorie a parametrilor </code>food_turn<code>, </code>food_start<code>, </code>food_visible<code>, </code>food_rate<code>.
    *</code>--strict false<code> : Modul strict nu permite mutari invalide ale botilor.
    *</code>--end_wait 0<code> : Numarul de secunde oferit boţilor la sfârşit pentru închidere.
    *</code>--nolaunch false<code> : Nu lansa vizualizatorul la sfârşitul meciului.
    *</code>--game_id 0<code> : Id-ul meciului cu care sa se înceapă numerotarea în loguri.
    *</code>--log_input false<code> :  Generează inputurile pentru boţi în directorul de loguri.

==== Windows ====

Un exemplu de rulare directă din linia de comandă este:
&lt;code&gt;python “playgame.py” –verbose –map_file “maps\maze\maze_p02_01.map” “python ”“sample_bots\python\GreedyBot.py””” “java -cp sample_bots\java RandomBot”&lt;/code&gt;

Diferenţa faţă de Linux constă în adăugarea ghilimelelor peste tot.

Pentru rularea din cadrul unui script trebuie adăugat </code>“%~dp0”<code> înaintea fiecărei căi. Un exemplu poate fi găsit în </code>play_one_game.cmd<code>

==== Paşi necesari pentru rularea în linia de comandă ====

Presupunând că sunt în directorul </code>tools-win\win&#039;&#039;, se pot urma paşii de mai jos pentru a vedea în timp real un joc între doi boţi scrişi în Java:

&lt;code&gt;
1. cd sample_bots\java
2. compile
3. cd ..\..
4. playgame.py -So –log_dir game_logs –map_file “maps\maze\maze_02p_01.map” “java -cp sample_bots\java RandomBot” “java -cp sample_bots\java RandomBot” | java -jar visualizer.jar
&lt;/code&gt;
</div>
</li>
</ul>

</div>
<!-- EDIT2 SECTION "Conţinutul arhivei" [288-] --></div>
</body>
</html>
