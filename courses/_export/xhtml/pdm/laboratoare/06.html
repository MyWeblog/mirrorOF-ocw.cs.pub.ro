    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>pdm:laboratoare:06</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2016-03-30T11:04:28+0300"/>
<meta name="keywords" content="pdm,laboratoare,06"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../../feed.php%3Fmode=list&amp;ns=pdm:laboratoare"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="06.html"/>
<link rel="canonical" href="../../../../pdm/laboratoare/06.html"/>
<link rel="stylesheet" type="text/css" href="../../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1479898000.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='pdm:laboratoare';var JSINFO = {"id":"pdm:laboratoare:06","namespace":"pdm:laboratoare","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../../lib/exe/js.php%3Ftseed=1479898000"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="06.html#laborator_6_-_biblioteci">Laborator 6 - Biblioteci</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="06.html#fragmente">Fragmente</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="06.html#ciclul_de_viata_al_unui_fragment">Ciclul de viață al unui fragment</a></div></li>
<li class="level3"><div class="li"><a href="06.html#crearea_unui_fragment">Crearea unui fragment</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="06.html#comuncatii_in_retea">Comuncații în rețea</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="06.html#specificarea_permisiunilor_de_utilizare_a_retelei">Specificarea Permisiunilor de Utilizare a Rețelei</a></div></li>
<li class="level3"><div class="li"><a href="06.html#comunicatia_prin_http">Comunicația prin HTTP</a></div>
<ul class="toc">
<li class="level4"><div class="li"><a href="06.html#structura_unei_cereri_http">Structura unei Cereri HTTP</a></div></li>
</ul>
</li>
<li class="level3"><div class="li"><a href="06.html#get_vs_post">GET vs. POST</a></div>
<ul class="toc">
<li class="level4"><div class="li"><a href="06.html#section"></a></div></li>
<li class="level4"><div class="li"><a href="06.html#structura_unui_raspuns_http">Structura unui Răspuns HTTP</a></div></li>
</ul>
</li>
<li class="level3"><div class="li"><a href="06.html#volley">Volley</a></div></li>
<li class="level3"><div class="li"><a href="06.html#prelucrarea_rezultatelor_intoarse_de_servicii_web">Prelucrarea Rezultatelor întoarse de Servicii Web</a></div>
<ul class="toc">
<li class="level4"><div class="li"><a href="06.html#formatul_json_javascript_object_notation">Formatul JSON (JavaScript Object Notation)</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level2"><div class="li"><a href="06.html#exercitii">Exercitii</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="laborator_6_-_biblioteci">Laborator 6 - Biblioteci</h1>
<div class="level1">

</div>
<!-- EDIT1 SECTION "Laborator 6 - Biblioteci" [1-40] -->
<h2 class="sectionedit2" id="fragmente">Fragmente</h2>
<div class="level2">

<p>
În laboratoarele precedente ați învățat despre activități, cum funcționează acestea, și cum le putem conecta între ele. Astăzi vom lucra cu Fragmente. În Android, un Fragment este o clasă ce reprezintă o componentă independentă ce se execută în contextul unei activități. 
</p>

<p>
<strong>De ce folosim fragmente?</strong> Fragmentele au fost introduse începând cu Android 3.0  (<abbr title="Application Programming Interface">API</abbr> level 11), iar scopul lor este de a facilita crearea de interefețe ce se pot adapta diferitelor tipuri de ecrane.
</p>

<p>
Mai pe scurt, un fragment poate fi văzut ca o porțiune de interfață ce poate fi refolosită în cadrul mai multor activități sau pentru o poziționare diferită a aceleiași interfețe - dacă folosim alte tipuri de ecrane (exemplu în figura de mai jos).  
</p>

<p>
<a href="http://ocw.cs.pub.ro/courses/_detail/fragments.png?id=pdm%3Alaboratoare%3A06" class="media wikilink2" title="fragments.png"><img src="http://ocw.cs.pub.ro/courses/_media/fragments.png?w=600&amp;tok=f75194" class="mediacenter" alt="" width="600" /></a>
</p>

</div>
<!-- EDIT2 SECTION "Fragmente" [41-859] -->
<h3 class="sectionedit3" id="ciclul_de_viata_al_unui_fragment">Ciclul de viață al unui fragment</h3>
<div class="level3">

<p>
Deși se execută în cadrul contextului unei activități, fragmentele au propriul lor ciclu de viață, propriile evenimente și pot fi adăugate sau șterse, chiar dacă activitatea de care aparține este în curs de execuție. Ciclul de viață al fragmentului este dependent de cel al activității sale. De aceea, dacă o activitate apelează onPause(), atunci toate fragmentele sale vor avea această stare. 
</p>

<p>
<a href="http://ocw.cs.pub.ro/courses/_detail/evenimente.png?id=pdm%3Alaboratoare%3A06" class="media wikilink2" title="evenimente.png"><img src="http://ocw.cs.pub.ro/courses/_media/evenimente.png" class="mediacenter" alt="" /></a>
</p>
<ul>
<li class="level1"><div class="li"> Metoda onCreate() este apelată după apelul onCreate() al activității.</div>
</li>
<li class="level1"><div class="li"> Metoda onCreateView() este apelată atunci când fragmentul trebuie să creeze interfața grafică.</div>
</li>
<li class="level1"><div class="li"> Metoda onActivityCreated() este apelată după metoda onCreateView(), atunci când activitatea a fost creată.</div>
</li>
<li class="level1"><div class="li"> Metoda onStart() este apelată odată ce fragmentul devine vizibil.</div>
</li>
</ul>

<p>
<p><div class="notewarning"> Atenție: Fragmentele nu moștenesc clasa Context. Pentru a avea acces la activitatea “gazdă”, trebuie să folosiți metoda getActivity()
</div></p>
</p>

</div>
<!-- EDIT3 SECTION "Ciclul de viață al unui fragment" [860-1885] -->
<h3 class="sectionedit4" id="crearea_unui_fragment">Crearea unui fragment</h3>
<div class="level3">

<p>
Pentru a scrie un fragment, trebuie să creați o clasă care să moștenească clasa Fragment. Așa cum ați văzut în laboratorul despre activități, puteți suprascrie diverse metode (descrise mai sus) care pot modifica un fragment de-a lungul ciclului său de viață. 
</p>
<pre class="code java"><span class="kw1">public</span> <span class="kw1">class</span> MyFirstFragment <span class="kw1">extends</span> Fragment <span class="br0">&#123;</span>
&nbsp;
  @Override
  <span class="kw1">public</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+view"><span class="kw3">View</span></a> onCreateView<span class="br0">&#40;</span>LayoutInflater inflater, ViewGroup container,
                           Bundle savedInstanceState<span class="br0">&#41;</span> <span class="br0">&#123;</span>
      <span class="co1">// Inflate the layout for this fragment</span>
      <span class="kw1">return</span> inflater.<span class="me1">inflate</span><span class="br0">&#40;</span>R.<span class="me1">layout</span>.<span class="me1">my_first_fragment</span>, container, <span class="kw2">false</span><span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>

<p>
În exemplul de mai sus am creat o clasă de tip Fragment, în care putem observa că am suprascris metoda onCreateView(). Așa cum am spus mai sus, această metodă este folosită pentru a crea componentele interfeței(din fișierul .xml) corespunzătoare fragmentului.
</p>

<p>
Parametrii acestei metode sunt următorii:
</p>
<ul>
<li class="level1"><div class="li"> inflater : încărcarea layout-ului (fișierul .xml) ;</div>
</li>
<li class="level1"><div class="li"> container : dacă este non null, corespunde unui view “părinte” unde ar trebui integrată interfața fragmentului</div>
</li>
<li class="level1"><div class="li"> savedInstanceState : dacă este non-null, fragmentul este reconstruit pe baza unei stări salvate anterior, transmisă prin acest parametru.</div>
</li>
</ul>

<p>
<p><div class="noteclassic">
Fragmentele sunt de două tipuri: statice(definite o singură dată în fișierul layout - nu pot fi suprimate sau inlocuite) și dinamice. În acest laborator nu vom intra în detalii în ceea ce privește fragmentele statice, însă este important să știți de existența lor. 
</div></p>
</p>

</div>
<!-- EDIT4 SECTION "Crearea unui fragment" [1886-3476] -->
<h2 class="sectionedit5" id="comuncatii_in_retea">Comuncații în rețea</h2>
<div class="level2">

<p>
Indiferent de protocolul pe care îl folosește pentru a accesa resursele disponibile prin intermediul rețelei, o aplicație Android trebuie să respecte anumite constrângeri:
</p>
<ol>
<li class="level1"><div class="li"> orice comunicație prin rețea trebuie să se realizeze prin intermediul unui fir de execuție dedicat;</div>
</li>
<li class="level1"><div class="li"> în fișierul <code>AndroidManifest.xml</code> trebuie să se specifice permisiunile necesare pentru a se putea accesa rețeaua de calculatoare.</div>
</li>
</ol>

</div>
<!-- EDIT5 SECTION "Comuncații în rețea" [3477-3939] -->
<h3 class="sectionedit6" id="specificarea_permisiunilor_de_utilizare_a_retelei">Specificarea Permisiunilor de Utilizare a Rețelei</h3>
<div class="level3">

<p>
O aplicație Android nu are acces la comunicația prin rețea decât prin intermediul unor permisiuni speciale, acestea fiind precizate în fișierul <code>AndroidManifest.xml</code>:
</p>
<ul>
<li class="level1"><div class="li"> <code>android.permission.INTERNET</code>: controlează drepturile de acces referitoare la comunicația prin rețea, chiar și în situația în care aceasta se realizează local sau pentru utilizarea unor servicii de rețea;</div>
</li>
<li class="level1"><div class="li"> <code>android.permission.ACCESS_NETWORK_STATE</code>: furnizează informații cu privire la conectivitatea dispozitivului mobil.</div>
</li>
</ul>
<pre class="code xml"><span class="sc3"><span class="re1">&lt;?xml</span> <span class="re0">version</span>=<span class="st0">&quot;1.0&quot;</span> <span class="re0">encoding</span>=<span class="st0">&quot;utf-8&quot;</span><span class="re2">?&gt;</span></span>
<span class="sc3"><span class="re1">&lt;manifest</span> <span class="re0">xmlns:android</span>=<span class="st0">&quot;http://schemas.android.com/apk/res/android&quot;</span></span>
<span class="sc3">  <span class="re0">package</span>=<span class="st0">&quot;org.rosedu.dandroid.messageme&quot;</span> <span class="re2">&gt;</span></span>
&nbsp;
  <span class="sc3"><span class="re1">&lt;uses-permission</span> <span class="re0">android:name</span>=<span class="st0">&quot;android.permission.INTERNET&quot;</span> <span class="re2">/&gt;</span></span>
  <span class="sc3"><span class="re1">&lt;uses-permission</span> <span class="re0">android:name</span>=<span class="st0">&quot;android.permission.ACCESS_NETWORK_STATE&quot;</span> <span class="re2">/&gt;</span></span>
&nbsp;
  <span class="sc-1">&lt;!-- other application properties or components --&gt;</span> 
&nbsp;
<span class="sc3"><span class="re1">&lt;/manifest<span class="re2">&gt;</span></span></span></pre>

<p>
De asemenea, este necesar ca în configurațiile dispozitivului mobil, în secțiunea <em>Wireless &amp; networks</em> să existe activate fie rețelele fără fir (<em>Wi-Fi</em>), fie serviciul de date (<em>Mobile networks</em>). Câteodată unele aplicații sunt restricționate în situația în care au utilizat un anumit trafic sau nu li se permite deloc accesul la rețea. Și aceste configurații trebuie să fie verificate în situația în care operațiile ce implică accesarea unor resurse la distanță nu pot fi realizate.
</p>

<p>
<img src="http://ocw.cs.pub.ro/courses/_media/laborator06/02devicenetworksettings.png" class="mediacenter" alt="" />
</p>

</div>
<!-- EDIT6 SECTION "Specificarea Permisiunilor de Utilizare a Rețelei" [3940-5479] -->
<h3 class="sectionedit7" id="comunicatia_prin_http">Comunicația prin HTTP</h3>
<div class="level3">

<p>
De multe ori, funcționalitatea pe care o pun la dispoziție aplicațiile Android este preluată din alte surse, datorită limitărilor impuse de capacitatea de procesare și memorie disponibilă ale unui dispozitiv mobil. O strategie posibilă în acest sens este utilizarea HTTP, pentru interogarea unor servicii web, al căror rezultat este de cele mai multe ori oferit în format JSON sau XML. De asemenea, descărcarea unor resurse se poate face prin inspectarea codului sursă al unor pagini Internet (documente <abbr title="HyperText Markup Language">HTML</abbr>), în urma acestei operații detectându-se locația la care acestea sunt disponibile.
</p>

<p>
<strong>HTTP</strong> (Hypertext Transfer Protocol) este un protocol de comunicație responsabil cu transferul de hipertext (text structurat ce conține legături) dintre un client (de regulă, un navigator) și un server web, interacțiunea dintre acestea (prin intermediul unei conexiuni TCP persistente pe portul 80) fiind reglementată de <a href="http://www.rfc-editor.org/rfc/rfc2616.txt" class="urlextern" title="http://www.rfc-editor.org/rfc/rfc2616.txt"  rel="nofollow">RFC 2616</a>. HTTP este un protocol fără stare, pentru persistența informațiilor între accesări fiind necesar să se utilizeze soluții adiacente (cookie, sesiuni, rescrierea <abbr title="Uniform Resource Locator">URL</abbr>-urilor, câmpuri ascunse).
</p>

<p>
Principalele concepte cu care lucrează acest protocol sunt <em>cererea</em> și <em>răspunsul</em>.
</p>
<ul>
<li class="level1"><div class="li"> <strong>cererea</strong> este transmisă de client către serverul web și reprezintă o solicitare pentru obținerea unor resurse (identificate printr-un <abbr title="Uniform Resource Locator">URL</abbr>); aceasta conține denumirea metodei care va fi utilizată pentru transferul de informații, locația de unde se găsește resursa respectivă și versiunea de protocol;</div>
</li>
<li class="level1"><div class="li"> <strong>răspunsul</strong> este transmis de serverul web către client, ca rezultat al solicitării primite, incluzând și o linie de stare (ce conține un cod care indică dacă starea comenzii) precum și alte informații suplimentare</div>
</li>
</ul>

</div>

<h4 id="structura_unei_cereri_http">Structura unei Cereri HTTP</h4>
<div class="level4">

<p>
O cerere HTTP conține una sau mai multe linii de text <abbr title="American Standard Code for Information Interchange">ASCII</abbr>, precedate în mod necesar de denumirea metodei specificând operația ce se va realiza asupra conținutului respectiv:
</p>
<div class="table sectionedit8"><table class="inline">
	<tr class="row0">
		<th class="col0 centeralign">  <strong>DENUMIRE METODĂ</strong>  </th><th class="col1 centeralign">  <strong>DESCRIERE</strong>  </th>
	</tr>
	<tr class="row1">
		<td class="col0"> <strong><code>GET</code></strong> </td><td class="col1 leftalign"> descărcarea resursei specificate de pe serverul web pe client; majoritatea cererilor către un server web sunt de acest tip<br/>
<pre class="code">GET /page.html HTTP/1.1
Host: www.server.com
</pre>
</td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code>HEAD</code> </td><td class="col1"> obținerea antetului unei pagini Internet, pentru a se verifica parametrii acesteia sau doar pentru a testa corectitudinea unui <abbr title="Uniform Resource Locator">URL</abbr> </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code>PUT</code> </td><td class="col1"> încărcarea resursei specificate de pe client pe serverul web (cu suprascrierea acesteia, în cazul în care există deja); trebuie specificate și datele de autentificare, utilizatorul respectiv trebuind să aibă permisiunile necesare pentru o astfel de operașie </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <strong><code>POST</code></strong> </td><td class="col1"> transferul de informații de către client cu privire la resursa specificată, acestea urmând a fi prelucrate de serverul web<br/>
<pre class="code">POST /page.html HTTP/1.1
Host: www.server.com
attribute1=value1&amp;...&amp;attributen=valuen
</pre>
</td>
	</tr>
	<tr class="row5">
		<td class="col0"> <code>DELETE</code> </td><td class="col1"> ștergerea resursei specificate de pe serverul web, rezultatul operației depinzând de permisiunile pe care le deține utilizatorul ale cărui date de autentificare au fost transmise în antete </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <code>TRACE</code> </td><td class="col1"> solicitare de retransmitere a cererii primite de serverul web de la client, pentru a se testa corectitudinea acesteia </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <code>CONNECT</code> </td><td class="col1"> rezervat pentru o utilizare ulterioară </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <code>OPTIONS</code> </td><td class="col1"> interogare cu privire la atributele serverului web sau ale unei resurse găzduite de acesta </td>
	</tr>
</table></div>
<!-- EDIT8 TABLE [7572-9015] -->
<p>
<p><div class="noteimportant">Capitalizarea este importantă atunci când se precizează denumirea metodei folosite, făcându-se distincție între minuscule și majuscule.
</div></p>
</p>

<p>
Cel mai frecvent, se utilizează metodele <code>GET</code> (folosită implicit, dacă nu se specifică altfel) și <code>POST</code>.
</p>

</div>
<!-- EDIT7 SECTION "Comunicația prin HTTP" [5480-9301] -->
<h3 class="sectionedit9" id="get_vs_post">GET vs. POST</h3>
<div class="level3">

<p>
Deși atât metoda <code>GET</code> cât și metoda <code>POST</code> pot fi utilizate pentru descărcarea conținutului unei pagini Internet, transmițând către serverul web valorile unor anumite atribute, între acestea există anumite diferențe:
</p>
<ul>
<li class="level1"><div class="li"> o cerere <code>GET</code> poate fi reținută în cache, fapt ce nu este valabil și pentru o cerere <code>POST</code>;</div>
</li>
<li class="level1"><div class="li"> o cerere <code>GET</code> rămâne în istoricul aplicației de navigare, fapt ce nu este valabil și pentru o cerere <code>POST</code>;</div>
</li>
<li class="level1"><div class="li"> o cerere <code>GET</code> poate fi reținută printre paginile Internet favorite din cadrul programului de navigare, fapt ce nu este valabil și pentru o cerere <code>POST</code>;</div>
</li>
<li class="level1"><div class="li"> o cerere <code>GET</code> impune unele restricții cu privire la lungimea (maxim 2048 caractere) și la tipul de date (doar caractere <abbr title="American Standard Code for Information Interchange">ASCII</abbr>) transmise (prin <abbr title="Uniform Resource Locator">URL</abbr>), fapt ce nu este valabil și pentru o cerere <code>POST</code>;</div>
</li>
<li class="level1"><div class="li"> o cerere <code>GET</code> nu trebuie folosită atunci când sunt implicate informații critice (acestea fiind vizibile în <abbr title="Uniform Resource Locator">URL</abbr>), fapt ce nu este valabil și pentru o cerere <code>POST</code>;</div>
</li>
<li class="level1"><div class="li"> o cerere <code>GET</code> ar trebui să fie folosită doar pentru obținerea unei resurse, fapt ce nu este valabil și pentru o cerere <code>POST</code>.</div>
</li>
</ul>

</div>
<div class="level4">

<p>
O linie de cerere HTTP poate fi succedată de unele informații suplimentare, reprezentând <strong>antetele de cerere</strong>, acestea având forma <code>atribut:valoare</code>, fiind definite următoarele proprietăți:
</p>
<ul>
<li class="level1"><div class="li"> <code>User-Agent</code> - informații cu privire la browser-ul utilizat și la platforma pe care rulează acesta</div>
</li>
<li class="level1"><div class="li"> informații cu privire la conținutul pe care clientul îl dorește de la serverul web, având capacitatea de a-l procesa; dacă serverul poate alege dintre mai multe resurse pe care le găzduiește, va alege pe cele care respectă constrângerile specificate, altfel întoarce un cod de eroare</div>
<ul>
<li class="level2"><div class="li"> <code>Accept</code> - tipul MIME </div>
</li>
<li class="level2"><div class="li"> <code>Accept-Charset</code> - setul de caractere</div>
</li>
<li class="level2"><div class="li"> <code>Accept-Encoding</code> - mecanismul de codificare</div>
</li>
<li class="level2"><div class="li"> <code>Accept-Language</code> - limba</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <code>Host</code> (obligatoriu) - denumirea gazdei pe care se găsește resursa (specificată în <abbr title="Uniform Resource Locator">URL</abbr>); necesară întrucât o adresă IP poate fi asociată mai multor nume de <abbr title="Domain Name System">DNS</abbr></div>
</li>
<li class="level1"><div class="li"> <code>Authorization</code> - informații de autentificare în cazul unor operații care necesită drepturi privilegiate</div>
</li>
<li class="level1"><div class="li"> <code>Cookie</code> - transmite un cookie primit anterior</div>
</li>
<li class="level1"><div class="li"> <code>Date</code> - data și ora la care a fost transmisă cererea</div>
</li>
</ul>

</div>

<h4 id="structura_unui_raspuns_http">Structura unui Răspuns HTTP</h4>
<div class="level4">

<p>
Un răspuns HTTP este format din linia de stare, antetele de răspuns și posibile informații suplimentare, conținând o parte sau toată resursa care a fost solicitată de client de pe serverul web.
</p>

<p>
În cadrul <strong>liniei de stare</strong> este inclus un cod din trei cifre care indică dacă solicitarea a putut fi îndeplinită sau nu (situație în care este indicată și cauza).
</p>
<div class="table sectionedit10"><table class="inline">
	<tr class="row0">
		<th class="col0 centeralign">  <strong>FAMILIE DE CODURI</strong>  </th><th class="col1 centeralign">  <strong>SEMNIFICAȚIE</strong>  </th><th class="col2 centeralign">  <strong>DESCRIERE</strong>  </th>
	</tr>
	<tr class="row1">
		<td class="col0"> 1xx </td><td class="col1"> Informație </td><td class="col2"> răspuns provizoriu, constând din linia de stare și alte antete (fără conținut, terminat de o linie vidă), indicând faptul că cererea a fost primită, procesarea sa fiind încă în desfășurare; nu este utilizată în HTTP/1.0 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> 2xx </td><td class="col1"> Succes </td><td class="col2"> răspuns ce indică faptul că cererea a fost primită, înțeleasă, acceptată și procesată cu succes </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 3xx </td><td class="col1"> Redirectare </td><td class="col2"> răspuns transmis de serverul web ce indică faptul că trebuie realizate acțiuni suplimentare din partea clientului (cu sau fără interacțiunea utilizatorului, în funcție de metoda folosită) pentru ca cererea să poată fi îndeplinită; în cazul în care redirectarea se repetă de mai multe ori, se poate suspecta o buclă infinită </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 4xx </td><td class="col1"> Eroare la client </td><td class="col2"> răspuns transmis de serverul web ce indică faptul că cererea nu a putut fi îndeplinită, datorită unei erori la nivelul clientului; mesajul include și o entitate ce conține o descriere a situației, inclusiv tipul acesteia (permanentă sau temporară) </td>
	</tr>
	<tr class="row5">
		<td class="col0"> 5xx </td><td class="col1"> Eroare la server </td><td class="col2"> cod de răspuns ce indică clientului faptul că cererea nu a putut fi îndeplinită, datorită unei erori la nivelul serverului web; mesajul include și o entitate ce conține o descriere a situației, inclusiv tipul acesteia (permanentă sau temporară) </td>
	</tr>
</table></div>
<!-- EDIT10 TABLE [12090-13483] -->
<p>
Mesajul conține și <strong>antetele de răspuns</strong>, având forma <code>atribut:valoare</code>, fiind definite următoarele proprietăți:
</p>
<ul>
<li class="level1"><div class="li"> <code>Server</code> - informații cu privire la mașina care găzduiește resursa care este transmisă</div>
</li>
<li class="level1"><div class="li"> informații cu privire la proprietățile conținutului care este transmis</div>
<ul>
<li class="level2"><div class="li"> <code>Content-Encoding</code> - mecanismul de codificare</div>
</li>
<li class="level2"><div class="li"> <code>Content-Language</code> - limba</div>
</li>
<li class="level2"><div class="li"> <code>Content-Length</code> - dimensiunea</div>
</li>
<li class="level2"><div class="li"> <code>Content-Type</code> - tipul MIME</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <code>Last-Modified</code> - ora și data la care pagina Internet a fost modificată</div>
</li>
<li class="level1"><div class="li"> <code>Location</code> - informație prin care serverul web informează clientul de faptul că ar trebui folosit alt <abbr title="Uniform Resource Locator">URL</abbr> (resursa a fost mutată sau trebuie accesată o pagină Internet localizată în funcție de anumite preferințe)</div>
</li>
<li class="level1"><div class="li"> <code>Accept-Ranges</code> - informație referitoare la transmiterea conținutului solicitat în mai multe părți, corespunzătoare unor intervale de octeți</div>
</li>
<li class="level1"><div class="li"> <code>Set-Cookie</code> - transmiterea unui cookie de la serverul web la client, acesta trebuind să fie inclus în antetele ulterioare ale mesajelor schimbate între cele două entități</div>
</li>
</ul>

</div>
<!-- EDIT9 SECTION "GET vs. POST" [9302-14597] -->
<h3 class="sectionedit11" id="volley">Volley</h3>
<div class="level3">

<p>
<a href="http://developer.android.com/training/volley/index.html" class="urlextern" title="http://developer.android.com/training/volley/index.html"  rel="nofollow">Volley</a> este o bibliotecă open-source (disponibilă prin intermediul Android Open-Source Project) ce oferă facilități pentru interogarea de resurse disponibile prin intermediul protocolului HTTP.
</p>

<p>
Câteva dintre facilitățile puse la dispoziție de această platformă sunt:
</p>
<ol>
<li class="level1"><div class="li"> gestiune automată a cererilor (implementare sistem de priorități, posibilitate de manipulare a cererilor concurente, funcționalitate pentru anulare a unei cereri transmise anterior);</div>
</li>
<li class="level1"><div class="li"> utilizarea transparentă a unui sistem de caching implementat atât în memorie cât și pe discul local;</div>
</li>
<li class="level1"><div class="li"> posibilitatea de implementare a unor mecanisme specifice pentru retransmitere;</div>
</li>
<li class="level1"><div class="li"> implementarea de operații de tip RPC (Remote Procedure Call) executate asincron pentru popularea conținutului unor elemente din interfața grafică;</div>
</li>
<li class="level1"><div class="li"> utilitare pentru depanare.</div>
</li>
</ol>

<p>
Volley nu este adecvat pentru operații de intrare / ieșire intensive tocmai datorită sistemului de caching, conținutul resurselor solicitate fiind menținut în memorie în vederea realizării operației de procesare a acestuia.
</p>

<p>
Pentru utilizarea bibliotecii Volley este necesar să se realizeze următoarele operații:
</p>
<ol>
<li class="level1"><div class="li"> descărcarea codului sursă de la depozitul unde este întreținută <pre class="code">student@dandroid2015:~$ git clone https://android.googlesource.com/platform/frameworks/volley</pre>
</div>
</li>
<li class="level1"><div class="li"> referirea proiectului ca bibliotecă în Android Studio</div>
<ul>
<li class="level2"><div class="li"> <em>File</em> → <em>New</em> → <em>Import Module…</em> <img src="http://ocw.cs.pub.ro/courses/_media/laborator06/volley_androidstudio01.png" class="mediacenter" alt="" /></div>
</li>
<li class="level2"><div class="li"> indicarea locației la care au fost descărcate sursele în prelabil și o denumire a proiectului (tipic, <code>:volley</code>) sub care va fi referit <img src="http://ocw.cs.pub.ro/courses/_media/laborator06/volley_androidstudio02.png" class="mediacenter" alt="" /></div>
</li>
<li class="level2"><div class="li"> specificarea dependenței față de acest proiect precum și faptul că este necesar ca acesta să fie compilat <dl class="file">
<dt><a href="../../../code/pdm/laboratoare/06%3Fcodeblock=5" title="Download Snippet" class="mediafile mf_gradle">build.gradle</a></dt>
<dd><pre class="code file gradle">...
dependencies {
  compile fileTree(dir: 'libs', include: ['*.jar'])
  testCompile 'junit:junit:4.12'
  compile 'com.android.support:appcompat-v7:23.1.1'
  compile 'com.android.support:design:23.1.1'
  compile project(':volley')
}</pre>
</dd></dl>
</div>
</li>
<li class="level2"><div class="li"> dacă pentru Volley se folosește <abbr title="Application Programming Interface">API</abbr> Level 23, este necesar să se utilizeze biblioteca <code>org.apache.http.legacy</code> întrucât implementarea sa utilizează Apache HTTP Components.</div>
</li>
</ul>
</li>
</ol>

<p>
Volley gestionează o structură de date <a href="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/RequestQueue.java" class="urlextern" title="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/RequestQueue.java"  rel="nofollow">RequestQueue</a> care are rolul de a controla modul în care sunt tratate cererile. Aceasta distribuie cererile care trebuie procesate concurent către firele de execuție care se ocupă de comunicația prin rețea, realizând de asemenea interogarea informațiilor care se regăsest în cache. Există două moduri în care poate fi construit un obiect de tip <code>RequestQueue</code>:
</p>
<ul>
<li class="level1"><div class="li"> <code>Volley.newRequestQueue(Context)</code> - construiește o coadă de cereri folosind implementările standard pentru implementarea mecanismului de cache și a comunicației prin rețea:</div>
<ol>
<li class="level2"><div class="li"> <code>DiskBasedCache</code>: pentru fiecare răspuns care a fost solicitat prin intermediul unei cereri se construiește un fișier dedicat, căruia îi corespunde un index stocat în memorie;</div>
</li>
<li class="level2"><div class="li"> <code>BasicNetwork</code>: implementează funcționalitate de transport folosind un client HTTP (tipic, un obiect <code>HttpURLConnection</code>);</div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> <code>Volley.newRequestQueue(Cache, Network)</code> permite utilizarea unui mecanism de cache și a unei modalități de transmisie prin rețea ai căror comportament și parametri sunt definiți de utilizator.</div>
</li>
</ul>

<p>
O coadă de cereri implementează următoarele metode:
</p>
<ul>
<li class="level1"><div class="li"> <code>add()</code> - transmite o cerere care este inițial verificată de firul de execuție care verifică cache-ul astfel încât dacă răspunsul există stocat, va fi furnizat fără a se mai realiza comunicația prin reșea; în caz contrar, el va fi plasat în coada gestionată de firele de execuție responsabile de comunicația prin rețea, acesta fiind preluat în momentul în care unul dintre acestea devine disponibil;</div>
</li>
<li class="level1"><div class="li"> <code>cancel()</code> - anulează o cerere care a fost transmisă anterior, împiedicând să se obțină un răspuns pe baza sa (metoda este invocată pe obiectul <code>Request</code>);</div>
</li>
<li class="level1"><div class="li"> <code>cancelAll()</code> - anulează toate cererile care au atașată o anumită etichetă, specificată prin intermediul metodei <code>setTag()</code>; o astfel de abordare poate fi utilă atunci când o activitate nu mai este vizibilă (pe metoda <code>onStop()</code>) astfel încât să nu se mai proceseze răspunsuri care nu pot fi afișate; în acest fel, utilizatorul este scutit să verifice dacă instanța activității există sau nu pe metodele de callback apelate în mod automat în momentul în care resursa solicitată devine disponibilă sau în momentul în care s-a produs o excepție.</div>
</li>
</ul>

<p>
Este recomandat ca la nivelul unei aplicații Android care utilizează comunicația prin rețea folosind protocolul HTTP să se utilizeze o singură instanță a unui obiect de tip <code>RequestQueue</code> a cărui durată de viață se întinde pe întreaga perioadă de execuție. Abordarea cea mai adecvată este utilizarea unei clase Singleton care conține un obiect de tip <code>RequestQueue</code> precum și alte funcționalități Volley, dacă este necesar.
</p>
<pre class="code java"><span class="kw1">package</span> <span class="co2">org.rosedu.dandroid.messageme.network</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">import</span> <span class="co2">android.content.Context</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">import</span> <span class="co2">com.android.volley.Request</span><span class="sy0">;</span>
<span class="kw1">import</span> <span class="co2">com.android.volley.RequestQueue</span><span class="sy0">;</span>
<span class="kw1">import</span> <span class="co2">com.android.volley.toolbox.Volley</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">public</span> <span class="kw1">class</span> VolleyController <span class="br0">&#123;</span>
&nbsp;
  <span class="kw1">private</span> <span class="kw1">static</span> VolleyController instance<span class="sy0">;</span>
  <span class="kw1">private</span> <span class="kw1">static</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+context"><span class="kw3">Context</span></a> context<span class="sy0">;</span>
  <span class="kw1">private</span> RequestQueue requestQueue<span class="sy0">;</span>
&nbsp;
  <span class="kw1">private</span> VolleyController<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+context"><span class="kw3">Context</span></a> context<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">this</span>.<span class="me1">context</span> <span class="sy0">=</span> context<span class="sy0">;</span>
    <span class="kw1">this</span>.<span class="me1">requestQueue</span> <span class="sy0">=</span> getRequestQueue<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span>
&nbsp;
  <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw1">synchronized</span> VolleyController getInstance<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+context"><span class="kw3">Context</span></a> context<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">if</span> <span class="br0">&#40;</span>instance <span class="sy0">==</span> <span class="kw2">null</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
      instance <span class="sy0">=</span> <span class="kw1">new</span> VolleyController<span class="br0">&#40;</span>context<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="kw1">return</span> instance<span class="sy0">;</span>
  <span class="br0">&#125;</span>
&nbsp;
  <span class="kw1">public</span> RequestQueue getRequestQueue<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">if</span> <span class="br0">&#40;</span>requestQueue <span class="sy0">==</span> <span class="kw2">null</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
      requestQueue <span class="sy0">=</span> Volley.<span class="me1">newRequestQueue</span><span class="br0">&#40;</span>context.<span class="me1">getApplicationContext</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="kw1">return</span> requestQueue<span class="sy0">;</span>
  <span class="br0">&#125;</span>
&nbsp;
  <span class="kw1">public</span> <span class="sy0">&lt;</span>T<span class="sy0">&gt;</span> <span class="kw4">void</span> addToRequestQueue<span class="br0">&#40;</span>Request<span class="sy0">&lt;</span>T<span class="sy0">&gt;</span> request<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    getRequestQueue<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">add</span><span class="br0">&#40;</span>request<span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span>
&nbsp;
<span class="br0">&#125;</span></pre>

<p>
<p><div class="noteimportant">
Contextul transmis ca argument metodei <code>newRequestQueue()</code> trebuie să se refere la contextul aplicației, de accea se utilizează metoda <code>getApplicationContext()</code>.

</div></p>
</p>

<p>
Volley folosește mai multe fire de execuție:
</p>
<ol>
<li class="level1"><div class="li"> firul de execuție principal (al interfeței grafice), prin intermediul căruia este trimisă o cerere și pe care este primit răspunsul (pentru a fi vizualizat, de regulă, în cadrul interfeței grafice);</div>
</li>
<li class="level1"><div class="li"> firul de execuție responsabil cu implementarea mecanismului de caching, care verifică dacă există un răspuns pentru cerere, astfel încât să nu mai fie necesară comunicația prin rețea; în momentul în care este disponibil un răspuns pentru o cerere, aceasta este indexată tot de acest fir de execuție;</div>
</li>
<li class="level1"><div class="li"> mai multe fire de execuție care realizează comunicația prin rețea, care trimit o cerere și primesc un răspuns pe care îl procesează (operațiile de parsare sau codificare/decodificare necesită resurse și o perioadă de timp considerabilă).</div>
</li>
</ol>

<p>
O utilizare tipică Volley (algoritmul pe care îl utilizează această platformă) este următoarea:
</p>
<ol>
<li class="level1"><div class="li"> firul de execuție principal plasează o cerere în coadă</div>
</li>
<li class="level1"><div class="li"> firul de execuție responsabil cu implementarea mecanismului de caching verifică dacă există un răspuns pentru cerere</div>
<ol>
<li class="level2"><div class="li"> dacă răspunsul pentru cerere se află în cache</div>
<ol>
<li class="level3"><div class="li"> se citește răspunsul din cache</div>
</li>
<li class="level3"><div class="li"> se scrie rezultatul către firul de execuție principal</div>
</li>
</ol>
</li>
<li class="level2"><div class="li"> dacă răspunsul pentru cerere NU se află în cache</div>
<ol>
<li class="level3"><div class="li"> se transmite cerere în coadă</div>
</li>
<li class="level3"><div class="li"> un fir de execuție care realizează comunicația prin rețea trimite cererea, atunci când devine disponibil, preluând răspunsul</div>
<ol>
<li class="level4"><div class="li"> răspunsul este stocat în cache, după ce poate suferi procesări ulterioare (parsare, codificare/decodificare)</div>
</li>
<li class="level4"><div class="li"> se scrie rezultatul către firul de execuție principal</div>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>

<p>
Volley definește mai multe tipuri de cerere standard, în funcție de tipul de date pe care îl are resursa care va fi accesată prin intermediul protocolului HTTP:
</p>
<ol>
<li class="level1"><div class="li"> <a href="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/toolbox/StringRequest.java" class="urlextern" title="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/toolbox/StringRequest.java"  rel="nofollow">StringRequest</a> furnizează un rezultat de tip șir de caractere, în orice format, folosind un mecanism de codificare;</div>
</li>
<li class="level1"><div class="li"> <a href="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/toolbox/ImageRequest.java" class="urlextern" title="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/toolbox/ImageRequest.java"  rel="nofollow">ImageRequest</a> întoarce o resursă de tip imagine, disponibilă la o anumită locație (<abbr title="Uniform Resource Locator">URL</abbr>), aceasta fiind transmisă sub formă de bitmap decodificat (și posibil redimensionat, dacă se solicită acest lucru); operațiile costisitoare sunt realizate de firele de execuție responsabile de comunicația prin rețea;</div>
<ol>
<li class="level2"><div class="li"> <a href="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/toolbox/ImageLoader.java" class="urlextern" title="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/toolbox/ImageLoader.java"  rel="nofollow">ImageLoader</a> oferă funcționalitatea de gestiune a cache-ului, care este stocat în memorie (dacă s-ar fi utilizat discul local, ar fi existat un impact asupra firului de execuție principal), transmițând mai multe resurse la un moment dat;</div>
</li>
<li class="level2"><div class="li"> <a href="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/toolbox/NetworkImageView.java" class="urlextern" title="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/toolbox/NetworkImageView.java"  rel="nofollow">NetworkImageView</a> reprezintă un tip de element al interfeței grafice, specializat pentru resurse de tip imagine disponibilă la o locație la distanță, accesibilă prin intermediul comunicației în rețea.</div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> <a href="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/toolbox/JsonRequest.java" class="urlextern" title="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/toolbox/JsonRequest.java"  rel="nofollow">JsonRequest</a> suportă două implementări:</div>
<ol>
<li class="level2"><div class="li"> <a href="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/toolbox/JsonObjectRequest.java" class="urlextern" title="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/toolbox/JsonObjectRequest.java"  rel="nofollow">JsonObjectRequest</a></div>
</li>
<li class="level2"><div class="li"> <a href="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/toolbox/JsonArrayRequest.java" class="urlextern" title="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/toolbox/JsonArrayRequest.java"  rel="nofollow">JsonArrayRequest</a></div>
</li>
</ol>
</li>
</ol>

<p>
În situația în care se dorește implementarea unui tip de cerere definită de utilizator, trebuie să se respecte câteva condiții:
</p>
<ul>
<li class="level1"><div class="li"> clasa trebuie să fie derivată din <a href="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/Request.java" class="urlextern" title="https://android.googlesource.com/platform/frameworks/volley/+/master/src/main/java/com/android/volley/Request.java"  rel="nofollow">Request&lt;T&gt;</a>;</div>
</li>
<li class="level1"><div class="li"> clasa trebuie să implementeze metodele:</div>
<ul>
<li class="level2"><div class="li"> <code>parseNetworkResponse(NetworkResponse)</code> care construiește rezultatul (<code>Response.success()</code>, respectiv <code>Response.error()</code>) în funcție de răspunsul primit;</div>
</li>
<li class="level2"><div class="li"> <code>deliverResponse(T)</code> care apelează metoda de callback (<code>onResponse(T)</code>) atunci când răspunsul este disponibil.</div>
</li>
</ul>
</li>
</ul>
<pre class="code java"><span class="kw1">public</span> <span class="kw1">class</span> CustomRequest<span class="sy0">&lt;</span>T<span class="sy0">&gt;</span> <span class="kw1">extends</span> Request<span class="sy0">&lt;</span>T<span class="sy0">&gt;</span> <span class="br0">&#123;</span>
&nbsp;
  <span class="kw1">private</span> Map<span class="sy0">&lt;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a>, String<span class="sy0">&gt;</span> params<span class="sy0">;</span>
  <span class="kw1">private</span> Response.<span class="me1">Listener</span><span class="sy0">&lt;</span>T<span class="sy0">&gt;</span> responseListener<span class="sy0">;</span>
  <span class="kw1">private</span> Response.<span class="me1">ErrorListener</span> errorListener<span class="sy0">;</span>
  <span class="kw1">private</span> Class<span class="sy0">&lt;</span>T<span class="sy0">&gt;</span> classType<span class="sy0">;</span>
&nbsp;
  <span class="kw1">public</span> CustomRequest<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> url, Map<span class="sy0">&lt;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a>, String<span class="sy0">&gt;</span> params, Response.<span class="me1">Listener</span><span class="sy0">&lt;</span>T<span class="sy0">&gt;</span> responseListener, Response.<span class="me1">ErrorListener</span> errorListener, Class<span class="sy0">&lt;</span>T<span class="sy0">&gt;</span> classType<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">this</span><span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+method"><span class="kw3">Method</span></a>.<span class="me1">GET</span>, url, params, responseListener, errorListener, classType<span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span>
&nbsp;
  <span class="kw1">public</span> CustomRequest<span class="br0">&#40;</span><span class="kw4">int</span> method, <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> url, Map<span class="sy0">&lt;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a>, String<span class="sy0">&gt;</span> params, Response.<span class="me1">Listener</span><span class="sy0">&lt;</span>T<span class="sy0">&gt;</span> responseListener, Response.<span class="me1">ErrorListener</span> errorListener, Class<span class="sy0">&lt;</span>T<span class="sy0">&gt;</span> classType<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">super</span><span class="br0">&#40;</span>method, url, errorListener<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw1">this</span>.<span class="me1">params</span> <span class="sy0">=</span> params<span class="sy0">;</span>
    <span class="kw1">this</span>.<span class="me1">responseListener</span> <span class="sy0">=</span> responseListener<span class="sy0">;</span>
    <span class="kw1">this</span>.<span class="me1">errorListener</span> <span class="sy0">=</span> errorListener<span class="sy0">;</span>
    <span class="kw1">this</span>.<span class="me1">classType</span> <span class="sy0">=</span> classType<span class="sy0">;</span>
  <span class="br0">&#125;</span>
&nbsp;
  @Override
  <span class="kw1">protected</span> Map<span class="sy0">&lt;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a>, String<span class="sy0">&gt;</span> getParams<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw1">throws</span> AuthFailureError <span class="br0">&#123;</span>
    <span class="kw1">return</span> params<span class="sy0">;</span>
  <span class="br0">&#125;</span>
&nbsp;
  @Override
  <span class="kw1">protected</span> Response<span class="sy0">&lt;</span>T<span class="sy0">&gt;</span> parseNetworkResponse<span class="br0">&#40;</span>NetworkResponse networkResponse<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">try</span> <span class="br0">&#123;</span>
      <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> response <span class="sy0">=</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a><span class="br0">&#40;</span>networkResponse.<span class="me1">data</span>, HttpHeaderParser.<span class="me1">parseCharset</span><span class="br0">&#40;</span>networkResponse.<span class="me1">headers</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
      <span class="kw1">if</span> <span class="br0">&#40;</span>classType.<span class="me1">equals</span><span class="br0">&#40;</span>JSONObject.<span class="kw1">class</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">return</span> Response.<span class="me1">success</span><span class="br0">&#40;</span><span class="br0">&#40;</span>T<span class="br0">&#41;</span><span class="kw1">new</span> JSONObject<span class="br0">&#40;</span>response<span class="br0">&#41;</span>, HttpHeaderParser.<span class="me1">parseCacheHeaders</span><span class="br0">&#40;</span>networkResponse<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
      <span class="br0">&#125;</span>
      <span class="kw1">if</span> <span class="br0">&#40;</span>classType.<span class="me1">equals</span><span class="br0">&#40;</span>JSONArray.<span class="kw1">class</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">return</span> Response.<span class="me1">success</span><span class="br0">&#40;</span><span class="br0">&#40;</span>T<span class="br0">&#41;</span><span class="kw1">new</span> JSONArray<span class="br0">&#40;</span>response<span class="br0">&#41;</span>, HttpHeaderParser.<span class="me1">parseCacheHeaders</span><span class="br0">&#40;</span>networkResponse<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
      <span class="br0">&#125;</span>
      <span class="kw1">return</span> <span class="kw2">null</span><span class="sy0">;</span>
    <span class="br0">&#125;</span> <span class="kw1">catch</span> <span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+unsupportedencodingexception"><span class="kw3">UnsupportedEncodingException</span></a> unsupportedEncodingException<span class="br0">&#41;</span> <span class="br0">&#123;</span>
      <span class="kw1">return</span> Response.<span class="me1">error</span><span class="br0">&#40;</span><span class="kw1">new</span> ParseError<span class="br0">&#40;</span>unsupportedEncodingException<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span> <span class="kw1">catch</span> <span class="br0">&#40;</span>JSONException jsonException<span class="br0">&#41;</span> <span class="br0">&#123;</span>
      <span class="kw1">return</span> Response.<span class="me1">error</span><span class="br0">&#40;</span><span class="kw1">new</span> ParseError<span class="br0">&#40;</span>jsonException<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
  <span class="br0">&#125;</span>
&nbsp;
  @Override
  <span class="kw1">protected</span> <span class="kw4">void</span> deliverResponse<span class="br0">&#40;</span>T jsonObject<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    responseListener.<span class="me1">onResponse</span><span class="br0">&#40;</span>jsonObject<span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span>
&nbsp;
  @Override
  <span class="kw1">public</span> <span class="kw4">void</span> deliverError<span class="br0">&#40;</span>VolleyError volleyError<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    errorListener.<span class="me1">onErrorResponse</span><span class="br0">&#40;</span>volleyError<span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span>
&nbsp;
<span class="br0">&#125;</span></pre>

<p>
Pentru definirea unui obiect de tip <code>Request</code> este necesar să se precizeze următoarele elemente:
</p>
<ul>
<li class="level1"><div class="li"> metoda folosită pentru transmiterea cererii, definită de <code>Request.Method</code>;</div>
</li>
<li class="level1"><div class="li"> locația (<abbr title="Uniform Resource Locator">URL</abbr>-ul) la care se găsește resursa care se dorește să fie accesată prin protocolul HTTP;</div>
</li>
<li class="level1"><div class="li"> parametrii cererii;</div>
</li>
<li class="level1"><div class="li"> metodele de callback</div>
<ul>
<li class="level2"><div class="li"> <code>Response.Listener&lt;T&gt;</code>:</div>
<ul>
<li class="level3"><div class="li"> invocată în mod automat în situația în care răspunsul este disponibil;</div>
</li>
<li class="level3"><div class="li"> trebuie să implementeze metoda <code>onResponse(T)</code>;</div>
</li>
</ul>
</li>
<li class="level2"><div class="li"> <code>ErrorListener</code>:</div>
<ul>
<li class="level3"><div class="li"> invocată în mod automat în situația în care s-a produs o eroare;</div>
</li>
<li class="level3"><div class="li"> trebuie să implementeze metoda <code>onErrorResponse(VolleyError)</code>.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre class="code java">Map<span class="sy0">&lt;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a>, String<span class="sy0">&gt;</span> parameters <span class="sy0">=</span> <span class="kw1">new</span> HashMap<span class="sy0">&lt;&gt;</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
parameters.<span class="me1">put</span><span class="br0">&#40;</span>Constants.<span class="me1">USERNAME_ATTRIBUTE</span>, senderUsername<span class="br0">&#41;</span><span class="sy0">;</span>
CustomRequest<span class="sy0">&lt;</span>JSONArray<span class="sy0">&gt;</span> customRequest <span class="sy0">=</span> <span class="kw1">new</span> CustomRequest<span class="br0">&#40;</span>
  <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+request"><span class="kw3">Request</span></a>.<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+method"><span class="kw3">Method</span></a>.<span class="me1">POST</span>,
  Constants.<span class="me1">USER_LIST_WEB_SERVICE_ADDRESS</span>,
  parameters,
  <span class="kw1">new</span> Response.<span class="me1">Listener</span><span class="sy0">&lt;</span>JSONArray<span class="sy0">&gt;</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    @Override
    <span class="kw1">public</span> <span class="kw4">void</span> onResponse<span class="br0">&#40;</span>JSONArray response<span class="br0">&#41;</span> <span class="br0">&#123;</span>
      <span class="kw1">try</span> <span class="br0">&#123;</span>
        <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw4">int</span> position <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> position <span class="sy0">&lt;</span> response.<span class="me1">length</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> position<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
          JSONObject user <span class="sy0">=</span> response.<span class="me1">getJSONObject</span><span class="br0">&#40;</span>position<span class="br0">&#41;</span><span class="sy0">;</span>
          <span class="kw1">final</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> recipientId <span class="sy0">=</span> user.<span class="me1">get</span><span class="br0">&#40;</span>Constants.<span class="me1">USER_ID_ATTRIBUTE</span><span class="br0">&#41;</span>.<span class="me1">toString</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
          <span class="kw1">final</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> recipientUsername <span class="sy0">=</span> user.<span class="me1">get</span><span class="br0">&#40;</span>Constants.<span class="me1">USERNAME_ATTRIBUTE</span><span class="br0">&#41;</span>.<span class="me1">toString</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
          contact <span class="sy0">=</span> <span class="br0">&#40;</span>RelativeLayout<span class="br0">&#41;</span>inflater.<span class="me1">inflate</span><span class="br0">&#40;</span>R.<span class="me1">layout</span>.<span class="me1">contact</span>, <span class="kw2">null</span><span class="br0">&#41;</span><span class="sy0">;</span>
          TextView usernameTextView <span class="sy0">=</span> <span class="br0">&#40;</span>TextView<span class="br0">&#41;</span>contact.<span class="me1">findViewById</span><span class="br0">&#40;</span>R.<span class="me1">id</span>.<span class="me1">username_text_view</span><span class="br0">&#41;</span><span class="sy0">;</span>
          usernameTextView.<span class="me1">setText</span><span class="br0">&#40;</span>recipientUsername<span class="br0">&#41;</span><span class="sy0">;</span>
          <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+button"><span class="kw3">Button</span></a> writeMessageButton <span class="sy0">=</span> <span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+button"><span class="kw3">Button</span></a><span class="br0">&#41;</span>contact.<span class="me1">findViewById</span><span class="br0">&#40;</span>R.<span class="me1">id</span>.<span class="me1">write_message_button</span><span class="br0">&#41;</span><span class="sy0">;</span>
          contactsList.<span class="me1">addView</span><span class="br0">&#40;</span>contact<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
      <span class="br0">&#125;</span> <span class="kw1">catch</span> <span class="br0">&#40;</span>JSONException jsonException<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        Log.<span class="me1">e</span><span class="br0">&#40;</span>Constants.<span class="me1">TAG</span>, jsonException.<span class="me1">getMessage</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>Constants.<span class="me1">DEBUG</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
          jsonException.<span class="me1">printStackTrace</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
      <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
  <span class="br0">&#125;</span>,
  <span class="kw1">new</span> Response.<span class="me1">ErrorListener</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    @Override
    <span class="kw1">public</span> <span class="kw4">void</span> onErrorResponse<span class="br0">&#40;</span>VolleyError volleyError<span class="br0">&#41;</span> <span class="br0">&#123;</span>
      Snackbar.<span class="me1">make</span><span class="br0">&#40;</span>contactsTextView, getResources<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">getString</span><span class="br0">&#40;</span>R.<span class="me1">string</span>.<span class="me1">an_error_has_occurred</span><span class="br0">&#41;</span>, Snackbar.<span class="me1">LENGTH_LONG</span><span class="br0">&#41;</span>
              .<span class="me1">show</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
  <span class="br0">&#125;</span>,
  JSONArray.<span class="kw1">class</span>
<span class="br0">&#41;</span><span class="sy0">;</span>
VolleyController.<span class="me1">getInstance</span><span class="br0">&#40;</span>getActivity<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">getApplicationContext</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>.<span class="me1">addToRequestQueue</span><span class="br0">&#40;</span>customRequest<span class="br0">&#41;</span><span class="sy0">;</span></pre>

</div>
<!-- EDIT11 SECTION "Volley" [14598-29930] -->
<h3 class="sectionedit12" id="prelucrarea_rezultatelor_intoarse_de_servicii_web">Prelucrarea Rezultatelor întoarse de Servicii Web</h3>
<div class="level3">

</div>

<h4 id="formatul_json_javascript_object_notation">Formatul JSON (JavaScript Object Notation)</h4>
<div class="level4">

<p>
Unele servicii web folosesc <a href="http://en.wikipedia.org/wiki/JSON" class="urlextern" title="http://en.wikipedia.org/wiki/JSON"  rel="nofollow">formatul JSON</a>, specificat de <a href="https://tools.ietf.org/html/rfc7159" class="urlextern" title="https://tools.ietf.org/html/rfc7159"  rel="nofollow">RFC 7159</a>, pentru transferul de date întrucât, spre diferență de XML care implică numeroase informații suplimentare, acesta optimizează cantitatea de date implicate. De asemenea, este foarte ușor pentru un utilizator uman să prelucreze informațiile reprezentate într-un astfel de format.
</p>

<p>
Acest mecanism de reprezentare a datelor a fost utilizat inițial în JavaScript, unde acesta descria literali sau obiecte anonime, folosite o singură dată (fără posibilitatea de a fi reutilizate), informațiile fiind transmise prin intermediul unor șiruri de caractere. Ulterior, a fost preliat pe scară largă.
</p>

<p>
În principiu, informațiile reprezentate în format JSON au structura unei colecții de perechi de tip (cheie, valoare), fiecare dintre acestea fiind grupate într-o listă de obiecte ordonate. Nu se folosesc denumiri de etichete, utilizându-se doar caracterele <code>”</code>, <code>,</code>, <code>{</code>, <code>}</code>, <code>[</code> și <code>]</code>.
</p>
<pre class="code json">[
  {
    &quot;attribute1&quot;: &quot;value11&quot;,
    &quot;attribute2&quot;: &quot;value12&quot;,
    ...,
    &quot;attributen&quot;: &quot;value1n&quot;
  },
  {
    &quot;attribute1&quot;: &quot;value21&quot;,
    &quot;attribute2&quot;: &quot;value22&quot;,
    ...,
    &quot;attributen&quot;: &quot;value2n&quot;
  },
  ...
  {
    &quot;attribute1&quot;: &quot;valuem1&quot;,
    &quot;attribute2&quot;: &quot;valuem2&quot;,
    ...,
    &quot;attributen&quot;: &quot;valuemn&quot;
  }  
]</pre>

<p>
În Android este suportat formatul JSON strict, așa cum este descris pe <a href="http://json.org/" class="urlextern" title="http://json.org/"  rel="nofollow">http://json.org/</a>:
</p>
<ul>
<li class="level1"><div class="li"> denumirile de atribute trebuie să se găsească între ghilimele;</div>
</li>
<li class="level1"><div class="li"> valorile de tip șir de caractere trebuie să se găsească între ghilimele (nu sunt permise apostroafele în acest caz).</div>
</li>
</ul>

<p>
Potrivit <a href="https://www.ietf.org/rfc/rfc4627.txt" class="urlextern" title="https://www.ietf.org/rfc/rfc4627.txt"  rel="nofollow">RFC 4627</a>, tipul MIME al documentelor reprezentate în format JSON treuie să fie în mod necesar <code>application/json</code>.
</p>

<p>
Există <a href="http://www.programmableweb.com/category/all/apis?data_format=21173" class="urlextern" title="http://www.programmableweb.com/category/all/apis?data_format=21173"  rel="nofollow">numeroase servicii web</a> care își expun funcționalitatea prin intermediul unor documente JSON:
</p>
<ul>
<li class="level1"><div class="li"> <a href="https://developers.google.com/custom-search/json-api/v1/overview?csw=1" class="urlextern" title="https://developers.google.com/custom-search/json-api/v1/overview?csw=1"  rel="nofollow">Google</a>;</div>
</li>
<li class="level1"><div class="li"> <a href="https://developer.yahoo.com/" class="urlextern" title="https://developer.yahoo.com/"  rel="nofollow">Yahoo</a>;</div>
</li>
<li class="level1"><div class="li"> <a href="http://www.geonames.org/export/web-services.html" class="urlextern" title="http://www.geonames.org/export/web-services.html"  rel="nofollow">Geonames</a>;</div>
</li>
<li class="level1"><div class="li"> <a href="https://dev.twitter.com/" class="urlextern" title="https://dev.twitter.com/"  rel="nofollow">Twitter</a>;</div>
</li>
<li class="level1"><div class="li"> <a href="https://www.flickr.com/services/api/" class="urlextern" title="https://www.flickr.com/services/api/"  rel="nofollow">Flickr</a>.</div>
</li>
</ul>

<p>
În Android, prelucrarea documentelor reprezentate în format JSON este realizată prin intermediul clasei <a href="http://developer.android.com/reference/org/json/JSONObject.html" class="urlextern" title="http://developer.android.com/reference/org/json/JSONObject.html"  rel="nofollow">JSONObject</a> care a fost integrată parțial (cu unele funcționalități lipsă), fără a se specifica clar versiunea care este utilizată.
</p>

<p>
Un document JSON poate fi construit în mai multe moduri:
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://developer.android.com/reference/org/json/JSONObject.html#JSONObject%28%29" class="urlextern" title="http://developer.android.com/reference/org/json/JSONObject.html#JSONObject%28%29"  rel="nofollow">JSONObject()</a> - construiește un obiect JSON vid, care nu conține nici o asociere (atribut, valoare);</div>
</li>
<li class="level1"><div class="li"> <a href="http://developer.android.com/reference/org/json/JSONObject.html#JSONObject%28java.util.Map%29" class="urlextern" title="http://developer.android.com/reference/org/json/JSONObject.html#JSONObject%28java.util.Map%29"  rel="nofollow">JSONObject(Map copyFrom)</a> - contruiește un obiect JSON pe baza unor asocieri prealabile; o astfel de metodă este utilizată mai ales în situația în care se dorește să se transmită informații către un serviciu web;</div>
</li>
<li class="level1"><div class="li"> <a href="http://developer.android.com/reference/org/json/JSONObject.html#JSONObject%28java.lang.String%29" class="urlextern" title="http://developer.android.com/reference/org/json/JSONObject.html#JSONObject%28java.lang.String%29"  rel="nofollow">JSONObject(String json)</a> - construiește un obiect JSON prin parsarea unui șir de caractere; o astfel de metodă este utilizată mai ales în situația în care sunt primite informații de la un serviciu web, care trebuie să fie prelucrate;</div>
</li>
<li class="level1"><div class="li"> <a href="http://developer.android.com/reference/org/json/JSONObject.html#JSONObject%28org.json.JSONTokener%29" class="urlextern" title="http://developer.android.com/reference/org/json/JSONObject.html#JSONObject%28org.json.JSONTokener%29"  rel="nofollow">JSONObject(JSONTokener readFrom)</a> - construiește un obiect JSON pe baza valorii următoare disponibile în cadrul unui obiect <a href="http://developer.android.com/reference/org/json/JSONTokener.html" class="urlextern" title="http://developer.android.com/reference/org/json/JSONTokener.html"  rel="nofollow">JSONTokener</a>;</div>
</li>
<li class="level1"><div class="li"> <a href="http://developer.android.com/reference/org/json/JSONObject.html#JSONObject%28org.json.JSONObject,%20java.lang.String[]%29" class="urlextern" title="http://developer.android.com/reference/org/json/JSONObject.html#JSONObject%28org.json.JSONObject,%20java.lang.String[]%29"  rel="nofollow">JSONObject(JSONObject copyFrom, String[] names)</a> - construiește un obiect JSON prin filtrarea asocierilor existente într-un obiect <code>JSONObject</code>, pe baza unor denumiri de atribute existente.</div>
</li>
</ul>

<p>
De regulă, metodele care operează cu obiecte JSON pot genera excepția <a href="http://developer.android.com/reference/org/json/JSONException.html" class="urlextern" title="http://developer.android.com/reference/org/json/JSONException.html"  rel="nofollow">JSONException</a> în situația în care sunt întâlnite documente care nu sunt bine formate.
</p>

<p>
<p><div class="notewarning">În Android nu este implementată metoda <code>JSONObject(Bean bean)</code> care permite construirea unui obiect JSON pe baza unei componente Java Bean.
</div></p>
</p>

<p>
Gestiunea obiectelor JSON se face:
</p>
<ul>
<li class="level1"><div class="li"> pentru citire, prin intermediul metodelor de tip <a href="http://developer.android.com/reference/org/json/JSONObject.html#get%28java.lang.String%29" class="urlextern" title="http://developer.android.com/reference/org/json/JSONObject.html#get%28java.lang.String%29"  rel="nofollow">get(String name)</a>, care furnizează un obiect generic (de tip <code>Object</code>), aceasta fiind supraîncărcată și pentru tipurile <code>boolean</code>, <code>double</code>, <code>int</code>, <code>long</code>, <code>String</code>, <code>JSONObject</code>, <code>JSONArray</code>;</div>
</li>
<li class="level1"><div class="li"> pentru scriere, prin intermediul metodelor de tip <a href="http://developer.android.com/reference/org/json/JSONObject.html#put%28java.lang.String,%20java.lang.Object%29" class="urlextern" title="http://developer.android.com/reference/org/json/JSONObject.html#put%28java.lang.String,%20java.lang.Object%29"  rel="nofollow">put(String name, Object value)</a>, care furnizeză un rezultat de tip <code>JSONObject</code>, existând și implementări specifice pentru tipurile <code>boolean</code>, <code>double</code>, <code>int</code>, <code>long</code>.</div>
</li>
</ul>

<p>
Verificarea faptului că un document JSON deține un anumit atribut se face prin invocarea metodei <a href="http://developer.android.com/reference/org/json/JSONObject.html#has%28java.lang.String%29" class="urlextern" title="http://developer.android.com/reference/org/json/JSONObject.html#has%28java.lang.String%29"  rel="nofollow">has(String name)</a>. Funcționalitatea inversă este furnizată de metoda <a href="http://developer.android.com/reference/org/json/JSONObject.html#isNull%28java.lang.String%29" class="urlextern" title="http://developer.android.com/reference/org/json/JSONObject.html#isNull%28java.lang.String%29"  rel="nofollow">isNull(String name)</a>, aceasta verificând și dacă valoarea asociată atributului respectiv este <code>null</code>.
</p>

<p>
Dimensiunea unui obiect <code>JSONObject</code>, reprezentat sub forma numărului de asocieri de tip (cheie, valoare) este furnizat de metoda <a href="http://developer.android.com/reference/org/json/JSONObject.html#length%28%29" class="urlextern" title="http://developer.android.com/reference/org/json/JSONObject.html#length%28%29"  rel="nofollow">length()</a>.
</p>

<p>
Reprezentarea unui obiect JSON sub forma unui șir de caractere poate fi obținută prin intermediul metodelor:
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://developer.android.com/reference/org/json/JSONObject.html#toString%28%29" class="urlextern" title="http://developer.android.com/reference/org/json/JSONObject.html#toString%28%29"  rel="nofollow">toString()</a> - formă compactă;</div>
</li>
<li class="level1"><div class="li"> <a href="http://developer.android.com/reference/org/json/JSONObject.html#toString%28%29" class="urlextern" title="http://developer.android.com/reference/org/json/JSONObject.html#toString%28%29"  rel="nofollow">toString(int indentSpaces)</a> - formă utilizată în scop de depanare.</div>
</li>
</ul>

<p>
Unele metode furnizează vectori de obiecte JSON, reprezentate de clasa <a href="http://developer.android.com/reference/org/json/JSONArray.html" class="urlextern" title="http://developer.android.com/reference/org/json/JSONArray.html"  rel="nofollow">JSONArray</a>, în care accesul la obiecte se face indexat, începând cu 0:
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://developer.android.com/reference/org/json/JSONObject.html#names%28%29" class="urlextern" title="http://developer.android.com/reference/org/json/JSONObject.html#names%28%29"  rel="nofollow">names()</a> - lista numelor dintr-un obiect JSON;</div>
</li>
<li class="level1"><div class="li"> <a href="http://developer.android.com/reference/org/json/JSONObject.html#toJSONArray%28org.json.JSONArray%29" class="urlextern" title="http://developer.android.com/reference/org/json/JSONObject.html#toJSONArray%28org.json.JSONArray%29"  rel="nofollow">toJSONArray(JSONArray names)</a> - lista valorilor asociate unor atribute dintr-un vector de obiecte JSON.</div>
</li>
</ul>

</div>
<!-- EDIT12 SECTION "Prelucrarea Rezultatelor întoarse de Servicii Web" [29931-37047] -->
<h2 class="sectionedit13" id="exercitii">Exercitii</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> Modificati laboratoarele anterioare astfel incat sa folositi <a href="http://jakewharton.github.io/butterknife/" class="urlextern" title="http://jakewharton.github.io/butterknife/"  rel="nofollow">ButterKnife</a></div>
</li>
<li class="level1"><div class="li"> Afisati pe harta (Google Maps) unde este facultatea <a href="https://developers.google.com/maps/documentation/android-api/" class="urlextern" title="https://developers.google.com/maps/documentation/android-api/"  rel="nofollow">Google Maps</a></div>
</li>
<li class="level1"><div class="li"> Afisati data si imaginea cele mai recente imagini facute de NASA casei voastre <a href="https://api.nasa.gov/api.html#earth" class="urlextern" title="https://api.nasa.gov/api.html#earth"  rel="nofollow">https://api.nasa.gov/api.html#earth</a></div>
</li>
</ol>

</div>
<!-- EDIT13 SECTION "Exercitii" [37048-] --></div>
</body>
</html>
