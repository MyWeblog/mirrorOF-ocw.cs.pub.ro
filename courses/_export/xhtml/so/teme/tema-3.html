    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>so:teme:tema-3</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2016-03-28T22:14:53+0300"/>
<meta name="keywords" content="so,teme,tema-3"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../../feed.php%3Fmode=list&amp;ns=so:teme"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="tema-3.html"/>
<link rel="canonical" href="../../../../so/teme/tema-3.html"/>
<link rel="stylesheet" type="text/css" href="../../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1476798676.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='so:teme';var JSINFO = {"id":"so:teme:tema-3","namespace":"so:teme","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../../lib/exe/js.php%3Ftseed=1476798676"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="tema-3.html#tema_3_memorie_virtuala">Tema 3 Memorie virtuală</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="tema-3.html#obiectivele_temei">Obiectivele temei</a></div></li>
<li class="level2"><div class="li"><a href="tema-3.html#recomandari">Recomandări</a></div></li>
<li class="level2"><div class="li"><a href="tema-3.html#enunt">Enunț</a></div></li>
<li class="level2"><div class="li"><a href="tema-3.html#interfata_bibliotecii">Interfața bibliotecii</a></div></li>
<li class="level2"><div class="li"><a href="tema-3.html#imagine">Imagine</a></div></li>
<li class="level2"><div class="li"><a href="tema-3.html#precizarirecomandari_pentru_implementare">Precizări/recomandări pentru implementare</a></div></li>
<li class="level2"><div class="li"><a href="tema-3.html#precizari_pentru_linux">Precizări pentru Linux</a></div></li>
<li class="level2"><div class="li"><a href="tema-3.html#precizari_pentru_windows">Precizări pentru Windows</a></div></li>
<li class="level2"><div class="li"><a href="tema-3.html#testare">Testare</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="tema-3.html#depunctari">Depunctări</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="tema-3.html#resurse_de_suport">Resurse de suport</a></div></li>
<li class="level2"><div class="li"><a href="tema-3.html#faq">FAQ</a></div></li>
<li class="level2"><div class="li"><a href="tema-3.html#suport_intrebari_si_clarificari">Suport, întrebări și clarificări</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="tema_3_memorie_virtuala">Tema 3 Memorie virtuală</h1>
<div class="level1">

<p>
<p><div class="noteimportant">
Dată publicare: <strong>31 Martie 2016</strong>
</p>

<p>
Deadline: <strong>13 Aprilie 2016, ora 23:55</strong>
</p>

<p>
Deadline hard: <strong>20 Aprilie 2016, ora 23:55</strong>

</div></p>
</p>

</div>
<!-- EDIT1 SECTION "Tema 3 Memorie virtuală" [1-190] -->
<h2 class="sectionedit2" id="obiectivele_temei">Obiectivele temei</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li">Aprofundarea conceptelor legate de mecanismele memoriei virtuale.</div>
</li>
<li class="level1"><div class="li">Obținerea de deprinderi pentru lucrul cu excepții de memorie pe sistemele Linux și Windows.</div>
</li>
<li class="level1"><div class="li">Aprofundarea <abbr title="Application Programming Interface">API</abbr>-ului Linux și Windows de lucru cu spațiul de adrese și memoria virtuală.</div>
</li>
</ul>

</div>
<!-- EDIT2 SECTION "Obiectivele temei" [191-486] -->
<h2 class="sectionedit3" id="recomandari">Recomandări</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li">Înainte de a începe implementarea temei este recomandată acomodarea cu noțiunile și conceptele specifice, precum:</div>
<ul>
<li class="level2"><div class="li">memorie virtuală</div>
</li>
<li class="level2"><div class="li">memorie fizică (RAM)</div>
</li>
<li class="level2"><div class="li">spațiu de adresă</div>
</li>
<li class="level2"><div class="li">pagini virtuale – <em>pages</em></div>
</li>
<li class="level2"><div class="li">pagini fizice – <em>frames</em></div>
</li>
<li class="level2"><div class="li">tabelă de pagini</div>
</li>
<li class="level2"><div class="li">maparea unei pagini virtuale peste o pagină fizică</div>
</li>
<li class="level2"><div class="li"><em>page fault</em></div>
</li>
<li class="level2"><div class="li">drepturi de acces la pagină</div>
</li>
<li class="level2"><div class="li"><em>demand paging</em></div>
</li>
<li class="level2"><div class="li">spațiu de swap</div>
</li>
<li class="level2"><div class="li"><em>swap in</em></div>
</li>
<li class="level2"><div class="li"><em>swap out</em> (evacuare)</div>
</li>
<li class="level2"><div class="li">înlocuirea unei pagini – <em>page replacement</em></div>
</li>
<li class="level2"><div class="li">maparea fișierelor – <em>file mapping</em></div>
</li>
</ul>
</li>
<li class="level1"><div class="li">Urmăriți resursele descrise în secțiunea <a href="tema-3.html#resurse_de_suport" title="so:teme:tema-3 ↵" class="wikilink1"> Resurse de suport</a>.</div>
</li>
</ul>

</div>
<!-- EDIT3 SECTION "Recomandări" [487-1191] -->
<h2 class="sectionedit4" id="enunt">Enunț</h2>
<div class="level2">

<p>
Să se implementeze sub forma unei biblioteci partajate/dinamice un <strong>swapper &amp; demand pager</strong>. Biblioteca va permite alocarea de multiple zone de memorie virtuală pentru care va simula operații specifice memoriei virtuale: <em>page fault</em>, <em>demand paging</em>, <em>swap in</em>, <em>swap out</em>.
</p>

<p>
Pentru fiecare zonă alocată, diversele componente se vor simula în felul următor:
</p>
<ul>
<li class="level1"><div class="li"> <em>Memoria virtuală</em> va fi reprezentată de o zonă de memorie din spațiul de adresă al procesului.</div>
<ul>
<li class="level2"><div class="li"> Veți folosi funcțiile din familia <a href="http://www.kernel.org/doc/man-pages/online/pages/man2/mmap.2.html" class="urlextern" title="http://www.kernel.org/doc/man-pages/online/pages/man2/mmap.2.html"  rel="nofollow"> mmap</a> (Linux) și <a href="http://msdn.microsoft.com/en-us/library/aa366916(v=VS.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366916(v=VS.85).aspx"  rel="nofollow"> VirtualAlloc</a> (Windows).</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <em>Memoria fizică</em> (memoria RAM) va fi simulată de un fișier. Simularea mapării unei pagini de memorie virtuală (alocarea unei pagini fizice aferente) se va realiza prin maparea acesteia peste o zonă asociată din fișierul RAM.</div>
<ul>
<li class="level2"><div class="li"> Veți folosi funcțiile <a href="http://www.kernel.org/doc/man-pages/online/pages/man2/mmap.2.html" class="urlextern" title="http://www.kernel.org/doc/man-pages/online/pages/man2/mmap.2.html"  rel="nofollow"> mmap</a> (Linux) și <a href="http://msdn.microsoft.com/en-us/library/aa366763(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366763(v=vs.85).aspx"  rel="nofollow"> MapViewOfFileEx</a> (Windows) pentru maparea paginilor virtuale peste “pagina” aferentă din cadrul fișierului RAM.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <em>Spațiul de swap</em> va fi simulat de un alt fișier cu dimensiunea egală cu a spațiului virtual de adresă. Fiecărei pagini virtuale îi va corespunde o “pagină” în cadrul fișierului ce simulează spațiul de swap.</div>
</li>
</ul>

<p>
Exprimarea “pagină în cadrul unui fișier” se referă la o regiune de dimensiunea unei pagini din cadrul fișierului. Fișierul RAM are dimensiunea a <code>num_frames</code> pagini (<code>num_frames</code> este numărul de pagini fizice) iar fișierul aferent spațiului de swap are dimensiunea a <code>num_pages</code> pagini (<code>num_pages</code> este numărul de pagini virtuale).
</p>

<p>
Simulatorul va oferi următoarele funcționalități:
</p>
<ul>
<li class="level1"><div class="li">Alocarea de multiple zone de memorie virtuală; fiecare zonă va fi asociată cu un fișier care simulează memoria RAM și un fișier care simulează spațiul de swap.</div>
</li>
<li class="level1"><div class="li">Pentru fiecare zonă, spațiul de swap are dimensiunea spațiului de memorie virtuală. Dimensiunea spațiului de memorie virtuală (numărul de pagini virtuale – <em>pages</em>) trebuie să fie mai mare sau egală cu dimensiunea memoriei RAM (numărul de pagini fizice – <em>frames</em>).</div>
</li>
<li class="level1"><div class="li">La un acces la o pagină de memorie virtuală alocată dar nemapată peste RAM, se generează un page fault, corespunzător procesului de <em>demand paging</em>. În urma page fault-ului, pagina de memorie virtuală este mapată peste o pagină din RAM (peste fișierul aferent).</div>
</li>
<li class="level1"><div class="li">În momentul în care o pagină virtuală este mapată peste o pagină fizică în urma procesului de <em>demand paging</em> pagina fizică trebuie “curățată” (adică “umplută” cu valori de zero).</div>
</li>
<li class="level1"><div class="li">Paginile virtuale se consideră inițial fără protecție. În momentul generării unui page fault și a alocării unei pagini fizice, pagina virtuală este marcată read-only. Dacă accesul a fost de scriere, se va genera un nou <em>page fault</em> și se va marca pagina <em>read-write</em>. Astfel, un acces de citire la o pagină nemapată va genera <strong>un</strong> <em>page fault</em>, iar pagina va fi mapată și marcată <em>read-only</em>. Un acces de scriere la o pagină nemapată va genera <strong>două</strong> <em>page fault-uri</em>, iar pagina va fi mapată și marcată <em>read-write</em>. Un acces de scriere la o pagină mapată și marcată <em>read-only</em> va genera <strong>un</strong> <em>page fault</em>, iar pagina va fi marcată <em>read-write</em>. O pagină marcată <em>read-write</em> este marcată și <em>dirty</em> (a fost modificată).</div>
</li>
<li class="level1"><div class="li">Dacă în urma unui <em>page fault</em> este nevoie de o pagină fizică iar memoria RAM este ocupată, o pagină fizică trebuie evacuată (<em>swap out</em>).</div>
<ul>
<li class="level2"><div class="li">Nu se impune nici o costrângere asupra algoritmului de înlocuire a paginii (se poate substitui mereu aceeași pagină, o pagină aleatoare, FIFO, LRU etc.).</div>
</li>
</ul>
</li>
<li class="level1"><div class="li">Paginile virtuale mapate pot fi <em>dirty</em> sau nu. O pagină <em>dirty</em> este o pagină care a fost modificată din momentul prezenței acesteia în RAM.</div>
<ul>
<li class="level2"><div class="li">Paginile curate (<em>non-dirty</em>) selectate pentru a fi înlocuite nu vor fi evacuate (<em>swap out</em>). Adică vor fi înlocuite în RAM dar conținutul lor nu va fi copiat în swap, eliminând astfel overhead-ul de copiere.</div>
</li>
<li class="level2"><div class="li"><strong>Excepție</strong>: dacă o pagină este curată (<em>non-dirty</em>) dar nu a fost niciodată evacuată (a fost alocată prin <em>demand paging</em>), atunci va fi evacuată (<em>swap out</em>).</div>
</li>
</ul>
</li>
<li class="level1"><div class="li">Dacă o pagină virtuală (<strong>P</strong>) are conținutul în spațiul de swap, la accesarea acesteia se generează <em>page fault</em> și pagina trebuie adusă în RAM (<em>swap in</em>). În general, <em>page fault-ul</em> va genera eliberarea unei pagini fizice din RAM (<strong>F</strong>) (rularea unui algoritm de înlocuire de pagină și <em>swap out</em>); peste pagina fizică (<strong>F</strong>) astfel eliberată se va mapa pagina (<strong>P</strong>) la accesul căreia s-a generat <em>page fault-ul</em>.</div>
</li>
</ul>

</div>
<!-- EDIT4 SECTION "Enunț" [1192-6146] -->
<h2 class="sectionedit5" id="interfata_bibliotecii">Interfața bibliotecii</h2>
<div class="level2">

<p>
Interfața de utilizare a bibliotecii este prezentată în cadrul fișierul header <code>vmsim.h</code>. Acesta conține funcții de inițializare și cleanup a bibliotecii (<code>vmsim_init</code>/<code>vmsim_cleanup</code>) și funcții de alocare și eliberare a zonelor de memorie (<code>vm_alloc</code>/<code>vm_free</code>).
</p>
<dl class="code">
<dt><a href="../../../code/so/teme/tema-3%3Fcodeblock=0" title="Download Snippet" class="mediafile mf_h">vmsim.h</a></dt>
<dd><pre class="code cpp"><span class="co2">#include &quot;common.h&quot;</span>
&nbsp;
<span class="coMULTI">/* virtual memory mapping encapsulation; initialized by vm_alloc */</span>
<span class="kw4">typedef</span> <span class="kw4">struct</span> vm_map <span class="br0">&#123;</span>
	w_ptr_t start<span class="sy4">;</span>
	w_handle_t ram_handle<span class="sy4">;</span>
	w_handle_t swap_handle<span class="sy4">;</span>
<span class="br0">&#125;</span> vm_map_t<span class="sy4">;</span>
&nbsp;
<span class="coMULTI">/* initialize and cleanup library -- consider exception handler */</span>
w_boolean_t vmsim_init<span class="br0">&#40;</span><span class="kw4">void</span><span class="br0">&#41;</span><span class="sy4">;</span>
w_boolean_t vmsim_cleanup<span class="br0">&#40;</span><span class="kw4">void</span><span class="br0">&#41;</span><span class="sy4">;</span>
&nbsp;
<span class="coMULTI">/**
 * allocate a virtual memory zone and coresponding RAM and swap handles
 *
 * map is to be filled with start address and handles to RAM and swap files
 */</span>
w_boolean_t vm_alloc<span class="br0">&#40;</span>w_size_t num_pages, w_size_t num_frames, vm_map_t <span class="sy2">*</span>map<span class="br0">&#41;</span><span class="sy4">;</span>
&nbsp;
<span class="coMULTI">/*
 * free space previously allocated with vm_alloc
 * start is the start address of the previously allocated area
 *
 * implementation has to close handles corresponding to RAM and swap files
 */</span>
w_boolean_t vm_free<span class="br0">&#40;</span>w_ptr_t start<span class="br0">&#41;</span><span class="sy4">;</span></pre>
</dd></dl>
<ul>
<li class="level1"><div class="li">Funcția <code>vmsim_init</code> realizează inițializarea bibliotecii. În cadrul funcției se va realiza, în general, înregistrarea <em>page fault</em> handler-ului sub forma unei <a href="http://www.kernel.org/doc/man-pages/online/pages/man2/sigaction.2.html" class="urlextern" title="http://www.kernel.org/doc/man-pages/online/pages/man2/sigaction.2.html"  rel="nofollow"> rutine pentru tratarea semnalului SIGSEGV</a> sau a unui <a href="http://msdn.microsoft.com/en-us/library/ms681420(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/ms681420(v=vs.85).aspx"  rel="nofollow"> handler de excepție</a>.</div>
</li>
<li class="level1"><div class="li">Funcția <code>vmsim_cleanup</code> realizează închiderea bibliotecii. În cadrul funcției se va realiza, în general, deînregistrarea <em>page fault</em> handler-ului.</div>
</li>
<li class="level1"><div class="li">Funcția <code>vm_alloc</code> va aloca o zonă de memorie virtuală nemapată și va crea fișierele de suport (fișierul RAM și fișierul pentru spațiul de swap). Funcția primește ca argument numărul de pagini virtuale (<code>num_pages</code>) și numărul de pagini fizice (<code>num_frames</code>) pentru alocarea spațiului virtual și trunchierea fișierelor la dimensiunea necesară. Funcția întoarce pointer-ul din spațiul de adresă către zona de memorie virtuală alocată și handler-ele celor două fișiere în cadrul unei structuri <code>struct vm_map</code>. Handler-ele fișierelor vor fi folosite în cadrul suitei de test.</div>
</li>
<li class="level1"><div class="li">Funcția <code>vm_free</code> eliberează zona de memorie virtuală mapată cu <code>vm_alloc</code> și închide și șterge fișierele asociate acesteia. Funcția primește ca argument pointer-ul către zona de memorie virtuală alocată anterior din spațiul de adresă al procesului. Implementarea trebuie să realizeze intern maparea între acest pointer și fișierele aferente pentru ca toate resursele să fie închise la apelul <code>vm_free</code>.</div>
</li>
</ul>

<p>
<p><div class="noteimportant">
Trebuie să respectați prototipurile funcțiilor exportate de bibliotecă, incluzănd aici tipul parametrilor. Recomandăm să nu modificați structura vm_map.

</div></p>
</p>

</div>
<!-- EDIT5 SECTION "Interfața bibliotecii" [6147-9087] -->
<h2 class="sectionedit6" id="imagine">Imagine</h2>
<div class="level2">

<p>
Imaginea de mai jos prezintă “fluxul” paginilor prin memorie și o <strong>posibilă</strong> stare pentru o zonă dată.
</p>

<p>
<a href="../../../../_detail/so/teme/tema-mv-img1.png%3Fid=so%253Ateme%253Atema-3.html" class="media" title="so:teme:tema-mv-img1.png"><img src="../../../../_media/so/teme/tema-mv-img1.png%3Fw=700&amp;tok=7a4211" class="mediacenter" title=" Posibilă stare a paginilor" alt=" Posibilă stare a paginilor" width="700" /></a>
</p>

<p>
Această imagine este doar principială; starea descrisă nu este o stare precisă în care se poate găsi o zonă de memorie în timpul sau ca urmare a execuției testelor.
</p>

</div>
<!-- EDIT6 SECTION "Imagine" [9088-9460] -->
<h2 class="sectionedit7" id="precizarirecomandari_pentru_implementare">Precizări/recomandări pentru implementare</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li">Implementarea <em>page fault</em> handler-ului se realizează prin intermediul unei <a href="http://www.kernel.org/doc/man-pages/online/pages/man2/sigaction.2.html" class="urlextern" title="http://www.kernel.org/doc/man-pages/online/pages/man2/sigaction.2.html"  rel="nofollow"> rutine pentru tratarea semnalului SIGSEGV</a> sau a unui <a href="http://msdn.microsoft.com/en-us/library/ms681420(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/ms681420(v=vs.85).aspx"  rel="nofollow"> handler de excepție</a>.</div>
</li>
<li class="level1"><div class="li">Pentru a implementa logica de <em>demand paging</em> și cea de <em>swapping</em> trebuie să interceptați page fault-urile produse în momentul unui acces nevalid la o zonă de memorie. La interceptarea page fault-urilor, folosiți modificări succesive ale drepturilor paginilor pentru a implementa logica temei. La început, paginile nu au niciun drept (<code>PROTECTION_NONE</code>).</div>
</li>
<li class="level1"><div class="li">Modificările realizate asupra memoriei virtuale nu se reflectă imediat în fișierul asociat memoriei RAM (memoria RAM fiind mapată peste acest fișier). De aceea, atunci când se dorește verificarea memoriei RAM (în teste), trebuie realizată sincronizarea paginilor din memorie cu fișierul. <strong>Nu</strong> este nevoie să realizați sincronizarea între memorie și fișier. Testul va realiza acest lucru, la nevoie printr-un apel la funcțiile de sincronizare a datelor în fișierele mapate.</div>
</li>
<li class="level1"><div class="li">Nu se impune nicio restricție de nume asupra fișierelor ce reprezintă memoria RAM, respectiv spațiul de swap. Recomandăm să folosiți <abbr title="Application Programming Interface">API</abbr>-ul specific de generare a numelor de fișiere (<a href="http://www.kernel.org/doc/man-pages/online/pages/man3/mkstemp.3.html" class="urlextern" title="http://www.kernel.org/doc/man-pages/online/pages/man3/mkstemp.3.html"  rel="nofollow"> mkstemp</a>, <a href="http://msdn.microsoft.com/en-us/library/aa364991(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa364991(v=vs.85).aspx"  rel="nofollow"> GetTempFileName</a>).</div>
</li>
<li class="level1"><div class="li">Consultați header-ele și sursele din cadrul <a href="tema-3.html#testare" title="so:teme:tema-3 ↵" class="wikilink1"> arhivelor cu teste</a> pentru macro-uri și funcții utile.</div>
</li>
<li class="level1"><div class="li">Pentru a determina dimensiunea unei pagini, folosiți funcția <code>w_get_page_size</code> definită în fișierul header <code>common.h</code>.</div>
</li>
<li class="level1"><div class="li">Pentru implementare, puteți pleca de la următorul set de enumerări/structuri:</div>
</li>
</ul>
<dl class="code">
<dt><a href="../../../code/so/teme/tema-3%3Fcodeblock=1" title="Download Snippet" class="mediafile mf_h">helpers.h</a></dt>
<dd><pre class="code cpp"><span class="kw2">enum</span> page_state <span class="br0">&#123;</span>
	STATE_IN_RAM,
	STATE_IN_SWAP,
	STATE_NOT_ALLOC
<span class="br0">&#125;</span><span class="sy4">;</span>
&nbsp;
<span class="kw4">struct</span> frame<span class="sy4">;</span>
&nbsp;
<span class="coMULTI">/* handle pages (virtual pages) */</span>
<span class="kw4">struct</span> page_table_entry <span class="br0">&#123;</span>
	<span class="kw2">enum</span> page_state state<span class="sy4">;</span>
	<span class="kw2">enum</span> page_state prev_state<span class="sy4">;</span>
	w_boolean_t dirty<span class="sy4">;</span>
	w_prot_t protection<span class="sy4">;</span>
	w_ptr_t start<span class="sy4">;</span>
	<span class="kw4">struct</span> frame <span class="sy2">*</span>frame<span class="sy4">;</span>	<span class="coMULTI">/* NULL in case page is not mapped */</span>
<span class="br0">&#125;</span><span class="sy4">;</span>
&nbsp;
<span class="coMULTI">/* handle frames (physical pages) */</span>
<span class="kw4">struct</span> frame <span class="br0">&#123;</span>
	w_size_t index<span class="sy4">;</span>
	<span class="coMULTI">/* &quot;backlink&quot; to page_table_entry; NULL in case of free frame */</span>
	<span class="kw4">struct</span> page_table_entry <span class="sy2">*</span>pte<span class="sy4">;</span>
<span class="br0">&#125;</span><span class="sy4">;</span></pre>
</dd></dl>
<ul>
<li class="level1"><div class="li">Structurile de mai sus reprezintă doar un punct de pornire. Se pot adăuga alte câmpuri sau structuri specifice modului în care biblioteca va gestiona zonele de memorie.</div>
</li>
</ul>

</div>
<!-- EDIT7 SECTION "Precizări/recomandări pentru implementare" [9461-12088] -->
<h2 class="sectionedit8" id="precizari_pentru_linux">Precizări pentru Linux</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li">Pentru gestiunea memoriei virtuale folosiți funcțiile <a href="http://www.kernel.org/doc/man-pages/online/pages/man2/mmap.2.html" class="urlextern" title="http://www.kernel.org/doc/man-pages/online/pages/man2/mmap.2.html"  rel="nofollow"> mmap</a>, <a href="http://www.kernel.org/doc/man-pages/online/pages/man2/munmap.2.html" class="urlextern" title="http://www.kernel.org/doc/man-pages/online/pages/man2/munmap.2.html"  rel="nofollow"> munmap</a> și <a href="http://www.kernel.org/doc/man-pages/online/pages/man2/mprotect.2.html" class="urlextern" title="http://www.kernel.org/doc/man-pages/online/pages/man2/mprotect.2.html"  rel="nofollow"> mprotect</a>.</div>
</li>
<li class="level1"><div class="li">Pentru interceptarea accesului nevalid la o zonă de memorie va trebui să interceptați semnalul <code>SIGSEGV</code> folosind apeluri din familia <a href="http://www.kernel.org/doc/man-pages/online/pages/man2/sigaction.2.html" class="urlextern" title="http://www.kernel.org/doc/man-pages/online/pages/man2/sigaction.2.html"  rel="nofollow"> sigaction</a>.</div>
<ul>
<li class="level2"><div class="li">Veți înregistra un handler în câmpul <code>sa_sigaction</code> al structurii <code>struct sigaction</code>.</div>
</li>
<li class="level2"><div class="li">Pentru a determina adresa care a generat page fault-ul folosiți câmpul <code>si_addr</code> din cadrul structurii <code>siginfo_t</code>.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li">Pentru eliberarea/evacuarea unei pagini, demapați acea pagină (pagina este mapată peste o “pagină” din fișerul RAM) și remapați-o la aceeași adresă dar ca mapare anonimă (<code>MAP_ANONYMOUS</code>) și fără protecție (<code>PROT_NONE</code>).</div>
</li>
<li class="level1"><div class="li">Pentru generarea de fișiere temporare, puteți folosi apelul <a href="http://www.kernel.org/doc/man-pages/online/pages/man3/mkstemp.3.html" class="urlextern" title="http://www.kernel.org/doc/man-pages/online/pages/man3/mkstemp.3.html"  rel="nofollow"> mkstemp</a>.</div>
</li>
<li class="level1"><div class="li">Puteți folosi funcțiile wrapper declarate și implementate în <code>common.h</code> și <code>common_lin.c</code>.</div>
<ul>
<li class="level2"><div class="li">Puteți extinde fișierele cu funcții wrapper proprii.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li">Tema se va rezolva folosind doar funcții POSIX. Se pot folosi de asemenea și funcțiile de citire/scriere cu formatare (<code>scanf</code>/<code>printf</code>), funcțiile de alocare/eliberare de memorie (<code>malloc</code>/<code>free</code>) și funcțiile de lucru cu șiruri de caractere (<code>strcat</code>, <code>strdup</code> etc.)</div>
</li>
<li class="level1"><div class="li">Pentru partea de I/O se vor folosi doar funcții POSIX. De exemplu, funcțiile <code>fopen</code>, <code>fread</code>, <code>fwrite</code>, <code>fclose</code> nu trebuie folosite; în locul acestora folosiți <code>open</code>, <code>read</code>, <code>write</code>, <code>close</code>.</div>
</li>
</ul>

</div>
<!-- EDIT8 SECTION "Precizări pentru Linux" [12089-13955] -->
<h2 class="sectionedit9" id="precizari_pentru_windows">Precizări pentru Windows</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"><abbr title="Application Programming Interface">API</abbr>-ul oferit de Windows diferă de cel oferit de Linux; există funcții dedicate de gestiune a memoriei virtuale (<a href="http://msdn.microsoft.com/en-us/library/aa366887(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366887(v=vs.85).aspx"  rel="nofollow"> VirtualAlloc</a>, <a href="http://msdn.microsoft.com/en-us/library/aa366892(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366892(v=vs.85).aspx"  rel="nofollow"> VirtualFree</a>) și alte funcții de gestiunea a fișierelor mapate (<a href="http://msdn.microsoft.com/en-us/library/aa366537(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366537(v=vs.85).aspx"  rel="nofollow"> CreateFileMapping</a>, <a href="http://msdn.microsoft.com/en-us/library/aa366761(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366761(v=vs.85).aspx"  rel="nofollow"> MapViewOfFile</a>, <a href="http://msdn.microsoft.com/en-us/library/aa366763(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366763(v=vs.85).aspx"  rel="nofollow"> MapViewOfFileEx</a>, <a href="http://msdn.microsoft.com/en-us/library/aa366882(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366882(v=vs.85).aspx"  rel="nofollow"> UnmapViewOfFile</a>).</div>
</li>
<li class="level1"><div class="li">Alocarea spațiului de memorie virtuală pentru o zonă se realizează folosind <a href="http://msdn.microsoft.com/en-us/library/aa366887(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366887(v=vs.85).aspx"  rel="nofollow"> VirtualAlloc</a>. Un apel <a href="http://msdn.microsoft.com/en-us/library/aa366892(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366892(v=vs.85).aspx"  rel="nofollow"> VirtualFree</a> trebuie să elibereze întreg spațiul de memorie rezervat de un apel <a href="http://msdn.microsoft.com/en-us/library/aa366887(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366887(v=vs.85).aspx"  rel="nofollow"> VirtualAlloc</a> corespunzător. Întrucât dorim ca operațiile de alocare/dezalocare să aibă loc la nivel de pagină, recomandăm următoarea secvență de acțiuni:</div>
<ul>
<li class="level2"><div class="li">alocarea întregului spațiului necesar folosind <a href="http://msdn.microsoft.com/en-us/library/aa366887(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366887(v=vs.85).aspx"  rel="nofollow"> VirtualAlloc</a>;</div>
</li>
<li class="level2"><div class="li">eliberarea spațiului ocupat folosind <a href="http://msdn.microsoft.com/en-us/library/aa366892(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366892(v=vs.85).aspx"  rel="nofollow"> VirtualFree</a>;</div>
</li>
<li class="level2"><div class="li">alocarea consecutivă a paginilor (pagină cu pagină), la <strong>adrese fixe</strong>, începând cu adresa de start obținută la alocarea anterioară a întregului spațiu de memorie, folosind <a href="http://msdn.microsoft.com/en-us/library/aa366887(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366887(v=vs.85).aspx"  rel="nofollow"> VirtualAlloc</a>;</div>
</li>
<li class="level2"><div class="li">Un exemplu de utilizare a mai multor apeluri <a href="http://msdn.microsoft.com/en-us/library/aa366887(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366887(v=vs.85).aspx"  rel="nofollow"> VirtualAlloc</a> pentru pagini consecutive găsiți <a href="http://elf.cs.pub.ro/so/res/teme/tema3-util/test-mul-va/" class="urlextern" title="http://elf.cs.pub.ro/so/res/teme/tema3-util/test-mul-va/"  rel="nofollow"> aici</a>.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li">Pentru maparea unei pagini de memorie virtuală de la <strong>o adresă fixă</strong> peste un fișier folosiți funcția <a href="http://msdn.microsoft.com/en-us/library/aa366763(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366763(v=vs.85).aspx"  rel="nofollow"> MapViewOfFileEx</a>.</div>
<ul>
<li class="level2"><div class="li">Va trebui să demapați pagina de memorie virtuală (folosind <a href="http://msdn.microsoft.com/en-us/library/aa366892(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366892(v=vs.85).aspx"  rel="nofollow"> VirtualFree</a>) și să realizați noua mapare;</div>
</li>
<li class="level2"><div class="li">Pentru operația inversă, de demapare a unei pagini virtuale mapate peste un fișier, folosiți funcția <a href="http://msdn.microsoft.com/en-us/library/aa366882(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366882(v=vs.85).aspx"  rel="nofollow"> UnmapViewOfFile</a>;</div>
</li>
<li class="level2"><div class="li">Un exemplu de utilizarea a <a href="http://msdn.microsoft.com/en-us/library/aa366763(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366763(v=vs.85).aspx"  rel="nofollow"> MapViewOfFileEx</a> găsiți <a href="http://elf.cs.pub.ro/so/res/teme/tema3-util/test-mvofex/" class="urlextern" title="http://elf.cs.pub.ro/so/res/teme/tema3-util/test-mvofex/"  rel="nofollow"> aici</a>.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li">Pentru interceptarea acceselor nevalide la zone de memorie (general protection fault), va trebui să folosiți vectori de excepție; aceștia permit înregistrarea, respectiv deînregistrarea unui handler care să fie rulat la apariția unei excepții (acces nevalid). Folosiți apelurile <a href="http://msdn.microsoft.com/en-us/library/ms679274(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/ms679274(v=vs.85).aspx"  rel="nofollow"> AddVectoredExceptionHandler</a>/<a href="http://msdn.microsoft.com/en-us/library/ms680571(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/ms680571(v=vs.85).aspx"  rel="nofollow"> RemoveVectoredExceptionHandler</a>.</div>
<ul>
<li class="level2"><div class="li">Pentru obținerea adresei care a generat excepția (fault-ul, accesul nevalid), folosiți valoarea <code>ExceptionInformation[1]</code>, câmp al structurii <a href="http://msdn.microsoft.com/en-us/library/aa363082(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa363082(v=vs.85).aspx"  rel="nofollow"> ExceptionRecord</a>.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li">Pentru generarea de fișiere temporare, puteți folosi apelul <a href="http://msdn.microsoft.com/en-us/library/aa364991(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa364991(v=vs.85).aspx"  rel="nofollow"> GetTempFileName</a>.</div>
</li>
<li class="level1"><div class="li">Puteți folosi funcțiile wrapper declarate și implementate în <code>common.h</code> și <code>common_win.c</code>.</div>
<ul>
<li class="level2"><div class="li">Puteți extinde fișierele cu funcții wrapper proprii.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li">Tema se va rezolva folosind doar funcții Win32. Se pot folosi de asemenea și funcțiile de citire/scriere cu formatare (<code>scanf</code>/<code>printf</code>), funcțiile de alocare/eliberare de memorie (<code>malloc</code>/<code>free</code>) și funcțiile de lucru cu șiruri de caractere (<code>strcat</code>, <code>strcpy</code> etc.).</div>
</li>
<li class="level1"><div class="li">Pentru partea de I/O se vor folosi doar funcții Win32. De exemplu, functiile <code>open</code>, <code>read</code>, <code>write</code>, <code>close</code> nu trebuie folosite; în locul acestora folosiți <code>CreateFile</code>, <code>ReadFile</code>, <code>WriteFile</code>, <code>CloseHandle</code>.</div>
</li>
</ul>

</div>
<!-- EDIT9 SECTION "Precizări pentru Windows" [13956-18348] -->
<h2 class="sectionedit10" id="testare">Testare</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Corectarea temelor se va realiza automat cu ajutorul unor suite de teste publice:</div>
<ul>
<li class="level2"><div class="li"> teste Linux   – <a href="http://elf.cs.pub.ro/so/res/teme/tema3-checker-lin.zip" class="urlextern" title="http://elf.cs.pub.ro/so/res/teme/tema3-checker-lin.zip"  rel="nofollow"> tema3-checker-lin.zip</a></div>
</li>
<li class="level2"><div class="li"> teste Windows – <a href="http://elf.cs.pub.ro/so/res/teme/tema3-checker-win.zip" class="urlextern" title="http://elf.cs.pub.ro/so/res/teme/tema3-checker-win.zip"  rel="nofollow"> tema3-checker-win.zip</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Indicații despre utilizarea suitei de teste se găsesc în fișierul <code>README</code> din cadrul arhivelor.</div>
</li>
<li class="level1"><div class="li"> Pentru evaluare și corectare, tema va fi uploadată folosind <a href="https://elf.cs.pub.ro/vmchecker/ui" class="urlextern" title="https://elf.cs.pub.ro/vmchecker/ui"  rel="nofollow"> interfața vmchecker</a>.</div>
</li>
<li class="level1"><div class="li"> În urma compilării temei trebuie să rezulte o bibliotecă shared-object (pe Linux) denumită <code>libvmsim.so</code> sau o bibliotecă dinamică (pe Windows) denumită <code>libvmsim.dll</code>.</div>
</li>
<li class="level1"><div class="li"> Suita de teste conține un set de teste. Trecerea unui test conduce la obținerea punctajului aferent acestuia.</div>
<ul>
<li class="level2"><div class="li"> În urma rulării testelor, se va acorda, în mod automat, un punctaj total. Punctajul total maxim este de 90 de puncte, pentru o temă care trece toate testele. La acest punctaj se adaugă 10 puncte din oficiu.</div>
</li>
<li class="level2"><div class="li"> Cele 100 de puncte corespund la 10 puncte din cadrul notei finale.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>Testul 0</strong> din cadrul checker-ului temei verifică automat coding style-ul surselor voastre. Ca referință este folosit <a href="https://www.kernel.org/doc/Documentation/CodingStyle" class="urlextern" title="https://www.kernel.org/doc/Documentation/CodingStyle"  rel="nofollow"> stilul de coding din kernelul Linux</a>. Acest test nu oferă sau scade puncte, dar poate fi folosit orientativ de către echipa de corectare pentru a penaliza problemele grave de coding style. Important este să vă definiți un stil și să-l folosiți consecvent. Pentru mai multe informații despre un cod de calitate citiți <a href="../../../../so/laboratoare/resurse/c_tips.html" class="urlextern" title="http://ocw.cs.pub.ro/courses/so/laboratoare/resurse/c_tips"  rel="nofollow"> pagina de recomandări</a>.</div>
</li>
</ul>

<p>
<p><div class="noteimportant">
Înainte de a <a href="https://vmchecker.cs.pub.ro" class="urlextern" title="https://vmchecker.cs.pub.ro"  rel="nofollow"> uploada</a> tema, asigurați-vă că implementarea voastră trece testele pe <a href="../../../../so/info/mv.html" class="urlextern" title="http://ocw.cs.pub.ro/courses/so/info/mv"  rel="nofollow"> mașinile virtuale</a>. Dacă apar probleme în rezultatele testelor, acestea se vor reproduce și pe <a href="https://vmchecker.cs.pub.ro" class="urlextern" title="https://vmchecker.cs.pub.ro"  rel="nofollow"> vmchecker</a>.

</div></p>
</p>

</div>
<!-- EDIT10 SECTION "Testare" [18349-20432] -->
<h3 class="sectionedit11" id="depunctari">Depunctări</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Pot exista penalizări în caz de întârzieri sau pentru neajunsuri de implementare sau de stil.</div>
</li>
<li class="level1"><div class="li"> Urmăriți penalizările precizate în cadrul <a href="../../../../so/teme/general.html#lista_depunctari" class="urlextern" title="http://ocw.cs.pub.ro/courses/so/teme/general#lista_depunctari"  rel="nofollow"> listei de depunctări</a></div>
</li>
<li class="level1"><div class="li"> Suplimentar, se pot aplica depunctările:</div>
<ul>
<li class="level2"><div class="li"> <code>-0.5</code> – folosirea unei structuri de dimensiune statică pentru lista zonelor de memorie alocate folosind <code>vm_alloc</code>.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> În cazuri excepționale (e.g. tema trece testele, însă implementarea este defectuoasă sau incompletă) se pot aplica depunctări suplimentare celor menționate mai sus.</div>
</li>
</ul>

</div>
<!-- EDIT11 SECTION "Depunctări" [20433-21051] -->
<h2 class="sectionedit12" id="resurse_de_suport">Resurse de suport</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li">Cursuri</div>
<ul>
<li class="level2"><div class="li"><a href="../../../../so/cursuri/curs-05.html" class="urlextern" title="http://ocw.cs.pub.ro/courses/so/cursuri/curs-05"  rel="nofollow"> Curs 5 - Gestiunea memoriei</a></div>
</li>
<li class="level2"><div class="li"><a href="../../../../so/cursuri/curs-06.html" class="urlextern" title="http://ocw.cs.pub.ro/courses/so/cursuri/curs-06"  rel="nofollow"> Curs 6 - Memoria virtuală</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li">Laboratoare</div>
<ul>
<li class="level2"><div class="li"><a href="../../../../so/laboratoare/laborator-04.html" class="urlextern" title="http://ocw.cs.pub.ro/courses/so/laboratoare/laborator-04"  rel="nofollow"> Laborator 4 - Semnale</a></div>
</li>
<li class="level2"><div class="li"><a href="../../../../so/laboratoare/laborator-06.html" class="urlextern" title="http://ocw.cs.pub.ro/courses/so/laboratoare/laborator-06"  rel="nofollow"> Laborator 6 - Memoria virtuală</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li">Operating System Concepts – Chapter 8 – Main Memory</div>
</li>
<li class="level1"><div class="li">Operating System Concepts – Chapter 9 – Virtual Memory</div>
</li>
<li class="level1"><div class="li"><a href="http://elf.cs.pub.ro/so/res/teme/tema3-util/vmsim.h" class="urlextern" title="http://elf.cs.pub.ro/so/res/teme/tema3-util/vmsim.h"  rel="nofollow"> Header-ul cu interfața bibliotecii</a></div>
</li>
<li class="level1"><div class="li">Teste</div>
<ul>
<li class="level2"><div class="li"><a href="http://elf.cs.pub.ro/so/res/teme/tema3-checker-lin.zip" class="urlextern" title="http://elf.cs.pub.ro/so/res/teme/tema3-checker-lin.zip"  rel="nofollow"> Teste Linux</a></div>
</li>
<li class="level2"><div class="li"><a href="http://elf.cs.pub.ro/so/res/teme/tema3-checker-win.zip" class="urlextern" title="http://elf.cs.pub.ro/so/res/teme/tema3-checker-win.zip"  rel="nofollow"> Teste Windows</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="https://elf.cs.pub.ro/vmchecker/ui" class="urlextern" title="https://elf.cs.pub.ro/vmchecker/ui"  rel="nofollow"> Interfața de upload vmchecker</a></div>
</li>
<li class="level1"><div class="li"><a href="http://news.gmane.org/gmane.education.region.romania.operating-systems" class="urlextern" title="http://news.gmane.org/gmane.education.region.romania.operating-systems"  rel="nofollow"> Lista de discuții a cursului</a></div>
</li>
<li class="level1"><div class="li"><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/ms681411(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/windows/desktop/ms681411(v=vs.85).aspx"  rel="nofollow"> Utilizarea vectorilor de excepție (Windows)</a></div>
</li>
</ul>

<p>
<p><div class="noteimportant">
Resursele temei se găsesc și în repo-ul <a href="https://github.com/systems-cs-pub-ro/so-assignments" class="urlextern" title="https://github.com/systems-cs-pub-ro/so-assignments"  rel="nofollow">so-assignments</a> de pe GitHub. Repo-ul conține și un script Bash care vă ajută să vă creați un repository privat pe instanța de <a href="https://gitlab.cs.pub.ro" class="urlextern" title="https://gitlab.cs.pub.ro"  rel="nofollow">GitLab</a> a facultății. Urmăriți indicațiile din README și de pe <a href="../../../../so/teme/folosire-gitlab.html" class="wikilink1" title="so:teme:folosire-gitlab"> pagina de Wiki dedicată pentru git</a>.
</p>

<p>
În plus, responsabilii de teme se pot uita mai rapid pe <a href="https://gitlab.cs.pub.ro" class="urlextern" title="https://gitlab.cs.pub.ro"  rel="nofollow">GitLab</a> la temele voastre în cazul în care aveți probleme/bug-uri. Este mai ușor să primiți suport în rezolvarea problemelor implementării voastre dacă le oferiți responsabililor de teme acces la codul sursă pe <a href="https://gitlab.cs.pub.ro" class="urlextern" title="https://gitlab.cs.pub.ro"  rel="nofollow">GitLab</a>.
</p>

<p>
<strong>Dacă ați folosit <a href="https://gitlab.cs.pub.ro" class="urlextern" title="https://gitlab.cs.pub.ro"  rel="nofollow">GitLab</a> pentru realizarea temei, indicați în README link-ul către repository. Asigurați-vă că responsabilii de teme au drepturi de citire asupra repo-ului vostru</strong>.

</div></p>
</p>

</div>
<!-- EDIT12 SECTION "Resurse de suport" [21052-23159] -->
<h2 class="sectionedit13" id="faq">FAQ</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <strong>Q:</strong> Tema se poate face în C++?</div>
<ul>
<li class="level2"><div class="li"> <strong>A:</strong> Nu.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>Q:</strong> Avem voie să folosim fișiere (sursă, header) prezente în arhiva de test?</div>
<ul>
<li class="level2"><div class="li"> <strong>A:</strong> Da, vă încurajăm să faceți acest lucru.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>Q:</strong> Avem voie să modificăm header-ul temei (<code>vmsim.h</code>) sau alte headere prezente?</div>
<ul>
<li class="level2"><div class="li"> <strong>A:</strong> Da, dacă aceste modificări vă sunt utile în realizarea temei. Dar aceste modificări nu vor fi vizibile în cadrul testului – sursele testului sunt cele prezente în arhiva de test. <strong>Nu</strong> faceți modificări ale interfeței însă (adică ale semnăturii funcțiilor). Biblioteca pe care o veți obține trebuie să expună aceleași funcții. Puteți adăuga noi funcții sau structuri dar nu modificați funcțiile sau structurile existente.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>Q:</strong> Dacă în implementare am folosit fișiere din cadrul testelor, trebuie să le mai includ în arhiva temei?</div>
<ul>
<li class="level2"><div class="li"> <strong>A:</strong> Da, trebuie să includeți în arhiva voastră toate fișierele necesare pentru a compila biblioteca.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>Q:</strong> Există cazuri în care funcția <a href="http://msdn.microsoft.com/en-us/library/aa366563(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366563(v=vs.85).aspx"  rel="nofollow"> FlushViewOfFile</a>, apelată din <code>w_sync_mapping</code> iese cu eroare. Este acest lucru o problemă?</div>
<ul>
<li class="level2"><div class="li"> <strong>A:</strong> Situația nu constituie neapărat o problemă.</div>
<ul>
<li class="level3"><div class="li"> Funcția <code>w_sync_mapping</code> parcurge întregul spațiu de adrese virtuale (pagini virtuale) și execută flush/sync pe fiecare pagină fără a ține cont dacă sunt mapate sau nu peste fișierul de RAM.</div>
</li>
<li class="level3"><div class="li"> Paginile mapate peste fișierul de RAM vor fi flushed/synced, în timp ce, pentru paginile nemapate, funcția <a href="http://msdn.microsoft.com/en-us/library/aa366563(v=vs.85).aspx" class="urlextern" title="http://msdn.microsoft.com/en-us/library/aa366563(v=vs.85).aspx"  rel="nofollow"> FlushViewOfFile</a> se întoarce cu eroare.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT13 SECTION "FAQ" [23160-24876] -->
<h2 class="sectionedit14" id="suport_intrebari_si_clarificari">Suport, întrebări și clarificări</h2>
<div class="level2">

<p>
Pentru întrebări sau nelămuriri legate de temă folosiți <a href="../../../../so/info/lista-discutii.html" class="wikilink1" title="so:info:lista-discutii">lista de discuții</a> sau <a href="../../../../so/info/documentatie.html#social_media" class="wikilink1" title="so:info:documentatie">canalul de IRC</a>.
</p>

</div>
<!-- EDIT14 SECTION "Suport, întrebări și clarificări" [24877-] --></div>
</body>
</html>
