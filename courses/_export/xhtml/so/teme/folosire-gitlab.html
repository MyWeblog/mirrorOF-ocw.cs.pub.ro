    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>so:teme:folosire-gitlab</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2016-03-16T23:23:46+0200"/>
<meta name="keywords" content="so,teme,folosire-gitlab"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../../feed.php%3Fmode=list&amp;ns=so:teme"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="folosire-gitlab.html"/>
<link rel="canonical" href="../../../../so/teme/folosire-gitlab.html"/>
<link rel="stylesheet" type="text/css" href="../../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1476798676.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='so:teme';var JSINFO = {"id":"so:teme:folosire-gitlab","namespace":"so:teme","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../../lib/exe/js.php%3Ftseed=1476798676"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="folosire-gitlab.html#git_indicatii_folosire_gitlab">Git. Indicații folosire GitLab</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="folosire-gitlab.html#folosire_gitlab">Folosire GitLab</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="folosire-gitlab.html#autentificare_gitlab">Autentificare GitLab</a></div></li>
<li class="level3"><div class="li"><a href="folosire-gitlab.html#setare_profil_si_cheie_ssh">Setare profil și cheie SSH</a></div>
<ul class="toc">
<li class="level4"><div class="li"><a href="folosire-gitlab.html#setare_cheie_ssh">Setare cheie SSH</a></div></li>
</ul>
</li>
<li class="level3"><div class="li"><a href="folosire-gitlab.html#creare_proiect_nou">Creare proiect nou</a></div></li>
<li class="level3"><div class="li"><a href="folosire-gitlab.html#adaugare_fisiere_la_un_proiect_existent">Adăugare fișiere la un proiect existent</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="folosire-gitlab.html#automatizarea_crearii_unui_repo_pe_gitlab">Automatizarea creării unui repo pe GitLab</a></div></li>
<li class="level2"><div class="li"><a href="folosire-gitlab.html#folosire_git">Folosire Git</a></div></li>
<li class="level2"><div class="li"><a href="folosire-gitlab.html#resurse">Resurse</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="git_indicatii_folosire_gitlab">Git. Indicații folosire GitLab</h1>
<div class="level1">

<p>
Atunci când colaborăm cu alte persoane la un același proiect este necesară folosirea unui sistem de versionare a surselor. Acesta ajută pentru a putea colabora la distanță și rezolvă problemele de partajare ale acelorași surse. Chiar și în cazurile în care suntem singurul dezvoltator al unui proiect, versionarea este indicată pentru că:
</p>
<ul>
<li class="level1"><div class="li"> ajută la identificarea mai ușoară a schimbării care a introdus un bug</div>
</li>
<li class="level1"><div class="li"> permite salvarea surselor în diferite stagii ale dezvoltării</div>
</li>
<li class="level1"><div class="li"> permite revenirea la o versiune anume a surselor</div>
</li>
</ul>

<p>
Câteva exemple de sisteme de versionare sunt:
</p>
<ul>
<li class="level1"><div class="li"> SVN</div>
</li>
<li class="level1"><div class="li"> Mercurial</div>
</li>
<li class="level1"><div class="li"> Git</div>
</li>
<li class="level1"><div class="li"> Perforce</div>
</li>
</ul>

<p>
O scurtă analiză a acestora găsiți <a href="http://www.sitepoint.com/version-control-software-2014-what-options/" class="urlextern" title="http://www.sitepoint.com/version-control-software-2014-what-options/"  rel="nofollow">Version control systems</a>.
</p>

<p>
Pentru SO propunem folosirea <code>git</code> din varii motive:
</p>
<ul>
<li class="level1"><div class="li"> funcționează foarte bine pentru proiecte ce conțin doar fișiere. (Atenție nu adăugați binare)</div>
</li>
<li class="level1"><div class="li"> este un sistem distribuit</div>
</li>
<li class="level1"><div class="li"> este light</div>
</li>
<li class="level1"><div class="li"> este open-source</div>
</li>
<li class="level1"><div class="li"> există instanța GitLab a facultății, unde fiecare student își poate crea până la maxim 10 proiecte.</div>
</li>
</ul>

</div>
<!-- EDIT1 SECTION "Git. Indicații folosire GitLab" [1-1168] -->
<h2 class="sectionedit2" id="folosire_gitlab">Folosire GitLab</h2>
<div class="level2">

<p>
Așa cum am precizat anterior, Facultatea de Automatică și Calculatoare pune la dispoziție instanța GitLab, accesibilă tuturor studenților și membrilor facultății. Autentificarea se face pe baza contului de pe <a href="http://cs.curs.pub.ro/" class="urlextern" title="http://cs.curs.pub.ro/"  rel="nofollow">site-ul de cursuri</a>. 
</p>

</div>
<!-- EDIT2 SECTION "Folosire GitLab" [1169-1465] -->
<h3 class="sectionedit3" id="autentificare_gitlab">Autentificare GitLab</h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> Accesați <a href="https://gitlab.cs.pub.ro/users/sign_in" class="urlextern" title="https://gitlab.cs.pub.ro/users/sign_in"  rel="nofollow">instanța GitLab</a>.</div>
</li>
<li class="level1"><div class="li"> Autentificați-vă folosind contul de pe site-ul de cursuri.</div>
</li>
<li class="level1"><div class="li"> Ceea ce vedeți după autentificare este <code>Dashboard-ul</code> user-ului autentificat.</div>
</li>
</ol>

</div>
<!-- EDIT3 SECTION "Autentificare GitLab" [1466-1724] -->
<h3 class="sectionedit4" id="setare_profil_si_cheie_ssh">Setare profil și cheie SSH</h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> Accesați <code>Profile settings</code> (dreapta-sus)</div>
</li>
<li class="level1"><div class="li"> În stânga puteți vedea diferite categorii pentru setarea profilului:</div>
<ol>
<li class="level2"><div class="li"> informații despre nume și e-mail se găsesc în tabul <code>Profile</code>. Lăsați-le pe cele de pe curs.cs (adresa de e-mail fiind cea de <code>stud.acs.upb.ro</code>)</div>
</li>
<li class="level2"><div class="li"> informații despre cont</div>
</li>
<li class="level2"><div class="li"> setarea felului în care veți vedea codul submis (tab-ul <code>Design</code>)</div>
</li>
<li class="level2"><div class="li"> puteți adăuga chiar și o adresă nouă de e-mail</div>
</li>
</ol>
</li>
</ol>

<p>
<p><div class="noteimportant">În cadrul paginii <code>Profile settings</code> foarte important este adăugarea unei chei SSH. 
</div></p>
</p>

</div>

<h4 id="setare_cheie_ssh">Setare cheie SSH</h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> Generați-vă pe calculatorul vostru (pe Linux sau din Cygwin pe Windows) o cheie SSH:</div>
</li>
</ol>
<pre class="code">$ ssh-keygen</pre>
<ol>
<li class="level1"><div class="li"> Dând enter după fiecare întrebare, veți obține o cheie SSH astfel:</div>
<ol>
<li class="level2"><div class="li"> în <em> /home/user/.ssh/id_rsa </em> este cheia privată</div>
</li>
<li class="level2"><div class="li"> în <em> /home/user/.ssh/id_rsa.pub </em> este cheia publică</div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> În tab-ul <code>Profile settings</code>, pagina <code>SSH keys</code> de pe GitLab va trebui să adăugați această cheie astfel:</div>
<ol>
<li class="level2"><div class="li"> Dați click pe <code>Add key</code>.</div>
</li>
<li class="level2"><div class="li"> Dați un nume acestei chei.</div>
</li>
<li class="level2"><div class="li"> Copiați conținutul cheii publice anterior generate în căsuța <code>Key</code></div>
</li>
</ol>
</li>
</ol>

<p>
<p><div class="noteimportant"> Dacă aveți deja o cheie SSH o puteți folosi pe aceea, fără a mai fi nevoie să vă generați o nouă cheie. Va trebui în schimb să vă asigurați că pe mașina pe care lucrați (fie propriul Linux, fie mașina virtuală Linux de la SO) adăugați cheia privată în <em> /home/user/.ssh/ </em>. 
</div></p>
</p>

<p>
<p><div class="notewarning"><strong>ATENȚIE:</strong> Cheia privată SSH oferă acces total la repository și la conținutul acestuia. <strong>NU</strong> partajați cheia privată cu nimeni altcineva, întrucât acea persoană va avea drepturi depline(citire, modificare, ștergere) asupra repository-ului de pe GitLab, precum și la alte resurse ce folosesc cheia privată pentru autentificare. Recomandarea noastră este să protejați cheia privată cu o parolă(passphrase).
</div></p>
</p>

</div>
<!-- EDIT4 SECTION "Setare profil și cheie SSH" [1725-3708] -->
<h3 class="sectionedit5" id="creare_proiect_nou">Creare proiect nou</h3>
<div class="level3">

<p>
Odată autentificați pe GitLab, din <code>Dashboard</code> în partea stângă apare următorul meniu:
</p>
<ul>
<li class="level1"><div class="li"> <code>Projects</code>: aceasta este pagina de gestionare a proiectelor. Aici puteți vedea toate proiectele în care sunteți implicat: fie ca owner, fie ca viewer/guest, fie ca developer.</div>
</li>
<li class="level1"><div class="li"> <code>Activity</code>: care arată activitatea voastră: dacă v-ați alăturat unui nou proiect, dacă ați creat un nou proiect etc.</div>
</li>
<li class="level1"><div class="li"> <code>Groups</code>: gestionarea grupurilor și vizualizarea grupurilor existente.</div>
</li>
<li class="level1"><div class="li"> <code>Milestones</code>: gestionarea pașilor importanți ce țin de proiectele în care sunteți implicat.</div>
</li>
<li class="level1"><div class="li"> <code>Issues</code>: posibile probleme active într-unul din proiectele voastre.</div>
</li>
<li class="level1"><div class="li"> <code>Merge Requests</code>: oferă posibilitatea combinării branch-ului default (master-ului) cu un altul (în cazul rezolvării unui bug sau adăugării unui feature).</div>
</li>
<li class="level1"><div class="li"> <code>Snippets</code>: bucăți de text ce pot fi făcute private sau publice.</div>
</li>
<li class="level1"><div class="li"> <code>Help</code>: documentație GitLab.</div>
</li>
</ul>

<p>
Pentru crearea unui nou proiect:
</p>
<ol>
<li class="level1"><div class="li"> Dați click pe <code>New project</code> (este un <code>+</code> în dreapta-sus, lângă butonul de <code>Profile settings</code>). </div>
</li>
<li class="level1"><div class="li"> Dați numele proiectului: <strong>l3-so-assignments</strong> (sugerând anul 3 din ciclul de licență, materia SO, repo pentru temele de SO).</div>
</li>
<li class="level1"><div class="li"> Dați o descriere adecvată acestui proiect.</div>
</li>
<li class="level1"><div class="li"> Nivelul de vizibilitate <strong>trebuie</strong> să fie <strong>privat</strong>.</div>
</li>
<li class="level1"><div class="li"> Adăugați <abbr title="Uniform Resource Locator">URL</abbr>-ul specific repo-ului de teme de SO ce va conține scheletele de cod pentru fiecare temă și testele:</div>
<ol>
<li class="level2"><div class="li"> click pe <code>Import existing repository by <abbr title="Uniform Resource Locator">URL</abbr></code></div>
</li>
<li class="level2"><div class="li"> adăugați link-ul <a href="https://github.com/systems-cs-pub-ro/so-assignments.git" class="urlextern" title="https://github.com/systems-cs-pub-ro/so-assignments.git"  rel="nofollow">https://github.com/systems-cs-pub-ro/so-assignments.git</a></div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> Click <code>Create project</code>.</div>
</li>
<li class="level1"><div class="li"> După ce proiectul a fost creat, selectați tab-ul <code>Members</code> din cadrul acestui proiect (left side)</div>
<ol>
<li class="level2"><div class="li"> adăugați următorii useri: Mihai Bărbulescu (3172), Sergiu Mihai Costea, Răzvan Tudor Crainea, Costin Lupu, Adrian Ionuț Stanciu</div>
</li>
<li class="level2"><div class="li"> dați-le dreptul de access <code>Reporter</code></div>
</li>
<li class="level2"><div class="li"> click pe <code>Add users to project</code></div>
</li>
</ol>
</li>
</ol>

<p>
Acum puteți naviga prin fișierele existente în proiect și prin commit-urile din proiect: <code>Files</code> și <code>Commits</code>.
</p>

</div>
<!-- EDIT5 SECTION "Creare proiect nou" [3709-5808] -->
<h3 class="sectionedit6" id="adaugare_fisiere_la_un_proiect_existent">Adăugare fișiere la un proiect existent</h3>
<div class="level3">

<p>
Pentru toate temele de la SO se va folosi proiectul <strong>l3-so-assignments</strong>. Astfel, în acest proiect se vor găsi în final:
</p>
<ol>
<li class="level1"><div class="li"> l3-so-assignments/1-multi</div>
</li>
<li class="level1"><div class="li"> l3-so-assignments/2-minishell</div>
</li>
<li class="level1"><div class="li"> l3-so-assignments/3-virtualmemory</div>
</li>
<li class="level1"><div class="li"> l3-so-assignments/4-scheduler</div>
</li>
<li class="level1"><div class="li"> l3-so-assignments/5-aws</div>
</li>
</ol>

<p>
Dacă aveți doar 1-multi în acest repo, pentru a adăuga 2-minishell puteți proceda astfel:
</p>
<pre class="code">$ git clone ...
$ cd l3-so-assignments
$ mkdir -p 2-minishell/
$ cd 2-minishell/
$ wget http://ocw.cs.pub.ro/courses/_media/so/teme/2-skel-linux.zip
$ unzip 2-skel-linux.zip
$ rm -fr 2-skel-linux.zip
$ wget http://elf.cs.pub.ro/so/res/teme/tema2-checker-lin.zip
$ unzip tema2-checker-lin.zip # testele sunt dezarhivate în folderul tema2-checker-lin/
$ rm -fr tema2-checker-lin.zip
$ mkdir checker-lin
$ mv tema2-checker-lin/* checker-lin/
$ rmdir tema2-checker-lin
$ cd ../
$ git add 2-minishell/
$ git commit -m &quot;add Linux skeleton and tests&quot;
$ git push</pre>

<p>
<p><div class="notetip">Toată această ierarhie va exista în repo-ul de pe github, pus la dispoziție de echipa de SO. Această secvență de comenzi este utilă dacă vreți să vă creați singuri propria ierarhie. Fiecare temă va fi adăugată pe rând de către echipa de SO în repo-ul so-assignments. 
</div></p>
</p>

</div>
<!-- EDIT6 SECTION "Adăugare fișiere la un proiect existent" [5809-7124] -->
<h2 class="sectionedit7" id="automatizarea_crearii_unui_repo_pe_gitlab">Automatizarea creării unui repo pe GitLab</h2>
<div class="level2">

<p>
Echipa de SO pune la dispozție un <a href="https://github.com/systems-cs-pub-ro/so-assignments/blob/master/so-create-repo.sh" class="urlextern" title="https://github.com/systems-cs-pub-ro/so-assignments/blob/master/so-create-repo.sh"  rel="nofollow"> script</a> pentru automatizarea etapelor prezentate în secțiunea anterioară. Astfel, un student nu va trebui să-și creeze singur proiectul în GitLab și să realizeze toate acele operații pentru a-și clona repo-ul, ci doar va rula acest script.
</p>

<p>
<p><div class="noteimportant">Acest script este încă în perioada de testare și dezvoltare. Orice probleme întâlniți pe sistemele voastre vă rugăm să ni le raportați. De asemenea, puteți contribui la îmbunătățirea scriptului prin patch-uri sau prin semnalarea unor probleme pe github. 
</div></p>
</p>

<p>
Scriptul este disponibil pe GitHub, în <a href="https://github.com/systems-cs-pub-ro/so-assignments" class="urlextern" title="https://github.com/systems-cs-pub-ro/so-assignments"  rel="nofollow"> repo-ul public dedicat temelor de SO</a>. Îl puteți descărca local folosind comanda:
</p>
<pre class="code bash"><span class="kw2">wget</span> https:<span class="sy0">//</span>raw.githubusercontent.com<span class="sy0">/</span>systems-cs-pub-ro<span class="sy0">/</span>so-assignments<span class="sy0">/</span>master<span class="sy0">/</span>so-create-repo.sh</pre>

<p>
Imaginea următoare prezintă pe scurt entitățile gestionate și acțiunile realizate de către script:
</p>

<p>
<a href="../../../../_detail/so/teme/so_gitlab_script_workflow.png%3Fid=so%253Ateme%253Afolosire-gitlab.html" class="media" title="so:teme:so_gitlab_script_workflow.png"><img src="../../../../_media/so/teme/so_gitlab_script_workflow.png%3Fw=700&amp;tok=7fbdb7" class="mediacenter" title=" Workflow-ul scriptului de automatizare " alt=" Workflow-ul scriptului de automatizare " width="700" /></a>
</p>

<p>
La prima rulare, scriptul va crea un repo privat pe GitLab și o clonă în directorul curent al mașinii unde a fost rulat. În acest moment repo-ul privat al studentului și clona de pe mașina sa vor fi copii fidele ale repo-ului public al temelor de SO.
</p>

<p>
Inițial scriptul va instala pachetele necesare pentru a rula și va realiza autentificarea cu serverul de GitLab, cerând utilizatorului credențialele de pe curs.cs.pub.ro. Următorul pas este să ofere posibilitatea de a încărca pe GitLab o cheie publică pentru SSH; în cazul în care nu există vreuna pe mașina locală, scriptul va genera o pereche de chei RSA. La final, va adăuga asistenții de SO responsabili de teme ca observatori ai proiectului de pe GitLab.
</p>

<p>
La următoarele rulări scriptul va încerca să sincronizeze clona locală cu repo-ul public. Astfel, dacă echipa de SO face unele modificări în repo-ul public voi vă puteți actualiza clona locală rulănd scriptul.
</p>

<p>
Mai departe, puteți interacționa cu repo-ul vostru privat prin git: o operație push va trimite modificările voastre în repo-ul de pe GitLab.
</p>

<p>
Pentru mai multe informații despre script, urmăriți <a href="https://github.com/systems-cs-pub-ro/so-assignments/blob/master/README.md" class="urlextern" title="https://github.com/systems-cs-pub-ro/so-assignments/blob/master/README.md"  rel="nofollow"> README-ul</a> asociat repo-ului public de pe GitHub.
</p>

</div>
<!-- EDIT7 SECTION "Automatizarea creării unui repo pe GitLab" [7125-9637] -->
<h2 class="sectionedit8" id="folosire_git">Folosire Git</h2>
<div class="level2">

<p>
Acum vă puteți clona local (puteți clona pe mai multe mașini, însă trebuie să aveți cheia privată corespunzătoare cheii publice de pe GitLab) acest repo folosind link-ul pentru SSH. Exemplu:
</p>
<pre class="code">$ git clone git@gitlab.cs.pub.ro:nume.prenume/l3-so-assignments.git
$ cd l3-so-assignments</pre>

<p>
Puteți adăuga fișiere noi:
</p>
<pre class="code">$ vim test.c
$ git add test.c
$ git commit -m &quot;my first C file&quot;
$ git push</pre>

<p>
Câteva tutoriale pentru folosirea Git sunt:
</p>
<ul>
<li class="level1"><div class="li"> <a href="https://try.github.io/levels/1/challenges/1" class="urlextern" title="https://try.github.io/levels/1/challenges/1"  rel="nofollow">https://try.github.io/levels/1/challenges/1</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://gitimmersion.com/" class="urlextern" title="http://gitimmersion.com/"  rel="nofollow">http://gitimmersion.com/</a></div>
</li>
</ul>

</div>
<!-- EDIT8 SECTION "Folosire Git" [9638-10215] -->
<h2 class="sectionedit9" id="resurse">Resurse</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <a href="https://docs.joyent.com/jpc/getting-started-with-your-joyent-cloud-account/generating-an-ssh-key/generating-an-ssh-key-manually/manually-generating-your-ssh-key-in-windows" class="urlextern" title="https://docs.joyent.com/jpc/getting-started-with-your-joyent-cloud-account/generating-an-ssh-key/generating-an-ssh-key-manually/manually-generating-your-ssh-key-in-windows"  rel="nofollow">Generare cheie SSH Windows Putty</a></div>
</li>
</ul>

</div>
<!-- EDIT9 SECTION "Resurse" [10216-] --></div>
</body>
</html>
