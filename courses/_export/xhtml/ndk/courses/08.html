    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>ndk:courses:08</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2014-06-16T14:55:05+0300"/>
<meta name="keywords" content="ndk,courses,08"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../../feed.php%3Fmode=list&amp;ns=ndk:courses"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="08.html"/>
<link rel="canonical" href="../../../../ndk/courses/08.html"/>
<link rel="stylesheet" type="text/css" href="../../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1479898000.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='ndk:courses';var JSINFO = {"id":"ndk:courses:08","namespace":"ndk:courses","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../../lib/exe/js.php%3Ftseed=1479898000"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level2"><div class="li"><a href="08.html#opengl_on_android">08. OpenGL on Android</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="08.html#lecture">Lecture</a></div></li>
<li class="level3"><div class="li"><a href="08.html#practical">Practical</a></div>
<ul class="toc">
<li class="level4"><div class="li"><a href="08.html#task_1_-_draw_a_square_instead_of_a_triangle">Task 1 - Draw a square instead of a triangle</a></div></li>
<li class="level4"><div class="li"><a href="08.html#task_2_-_move_the_camera_with_gestures">Task 2 - Move the camera with gestures</a></div></li>
<li class="level4"><div class="li"><a href="08.html#task_3_-_using_android_debugging_capabilities">Task 3 - Using Android debugging capabilities</a></div></li>
<li class="level4"><div class="li"><a href="08.html#task_4_-_use_tracer_for_opengl_es">Task 4 - Use Tracer for OpenGL ES</a></div></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h2 class="sectionedit1" id="opengl_on_android">08. OpenGL on Android</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Description: OpenGL, OpenGL ES, accessing GPU features with NDK</div>
</li>
<li class="level1"><div class="li"> Practical part: Create GPU-using apps</div>
</li>
</ul>

</div>
<!-- EDIT1 SECTION "08. OpenGL on Android" [1-146] -->
<h3 class="sectionedit2" id="lecture">Lecture</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"><a href="../../../../_media/ndk/courses/lecture-8.pdf" class="media mediafile mf_pdf" title="ndk:courses:lecture-8.pdf (936.7 KB)"> Lecture Slides</a></div>
</li>
</ul>

<p>
<iframe title="" src="../../../../_media/ndk/courses/lecture-8.pdf" style="width:98%; height:400px"></iframe>
</p>

</div>
<!-- EDIT2 SECTION "Lecture" [147-287] -->
<h3 class="sectionedit3" id="practical">Practical</h3>
<div class="level3">

<p>
Lab archive: <a href="../../../../_media/ndk/courses/lab-8.zip" class="media mediafile mf_zip" title="ndk:courses:lab-8.zip (16.4 KB)">lab-8.zip</a>
Lab solutions: <a href="../../../../_media/ndk/courses/lab-8-solved.zip" class="media mediafile mf_zip" title="ndk:courses:lab-8-solved.zip (15.5 KB)">lab-8-solved.zip</a>
</p>

<p>
<p><div class="notewarning">
 If running the emulator from command line make sure to add the OpenGL libraries to the path:
 export LD_LIBRARY_PATH=/opt/intel/beaconmountain/ADT/sdk/tools/lib/:$LD_LIBRARY_PATH 

</div></p>
</p>

</div>

<h4 id="task_1_-_draw_a_square_instead_of_a_triangle">Task 1 - Draw a square instead of a triangle</h4>
<div class="level4">

<p>
Polygons in OpenGL are made up of multiple triangles. To draw a square, you have to draw two triangles. Modify the lab starter code such that it draws a colored square. Remember, respect clockwise or counter clockwise order for drawing polygons, otherwise you will have problems later on.
</p>

<p>
(Hint: GL_TRIANGLE_STRIP)
</p>

</div>

<h4 id="task_2_-_move_the_camera_with_gestures">Task 2 - Move the camera with gestures</h4>
<div class="level4">

<p>
To use gestures, you have to add an <a href="http://developer.android.com/reference/android/view/View.OnTouchListener.html" class="urlextern" title="http://developer.android.com/reference/android/view/View.OnTouchListener.html"  rel="nofollow">OnTouchListener</a> to the view or overwrite the onTouchEvent of the activity or GLSurfaceView. The received <a href="http://developer.android.com/reference/android/view/MotionEvent.html" class="urlextern" title="http://developer.android.com/reference/android/view/MotionEvent.html"  rel="nofollow">MotionEvent</a> will contain the gesture type and the position. You want to capture ACTION_MOVE and get X and Y position, and then transmit them to the step method, and use them for modifying one of the rotation parameters (rx, ry, or rz). Remember to return true, otherwise you will not receive any more events.
</p>

</div>

<h4 id="task_3_-_using_android_debugging_capabilities">Task 3 - Using Android debugging capabilities</h4>
<div class="level4">

<p>
Look in the settings menu under “Developer Options”.
</p>

<p>
There are 4 options of interest:
</p>
<ul>
<li class="level1"><div class="li"> Debug GPU overdraw - this shows which parts of the screen are drawn over more than once. If there are many part of the screen updated more than once it can lead to performance problems. Clip the objects which are not visible.</div>
</li>
<li class="level1"><div class="li"> Debug Non Rectangluar Clipping Operations - see parts clipped using the stencil buffer (helpful to debug stencil buffer)</div>
</li>
<li class="level1"><div class="li"> Profile GPU rendering - draws bars or lines on screen to determine how long it takes to update a view (blue is how long it takes to create commands, orange is how long it takes to issue commands, and yellow is how much it takes to draw the commands) or through dumpsys gfxinfo.</div>
</li>
<li class="level1"><div class="li"> Enable OpenGL traces - creates traces to use with Tracer or to inspect visually.</div>
</li>
</ul>

</div>

<h4 id="task_4_-_use_tracer_for_opengl_es">Task 4 - Use Tracer for OpenGL ES</h4>
<div class="level4">

<p>
In Eclipse switch to Tracer perspective (<strong>Window &gt; Open Perspective &gt; Other</strong>). In the context bar there should be two new icons: <strong>Open existing trace</strong> and <strong>Connect to a device</strong>. Use the second one, choose the device and use the package and activity name of the application: package com.android.gl2jni and activity GL2JNIActivity.
</p>

</div>
<!-- EDIT3 SECTION "Practical" [288-] --></div>
</body>
</html>
