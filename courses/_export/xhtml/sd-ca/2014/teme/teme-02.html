    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>sd-ca:2014:teme:teme-02</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2015-03-01T23:39:56+0200"/>
<meta name="keywords" content="sd-ca,2014,teme,teme-02"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../../../feed.php%3Fmode=list&amp;ns=sd-ca:2014:teme"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="teme-02.html"/>
<link rel="canonical" href="../../../../../sd-ca/2014/teme/teme-02.html"/>
<link rel="stylesheet" type="text/css" href="../../../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1476798676.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='sd-ca:2014:teme';var JSINFO = {"id":"sd-ca:2014:teme:teme-02","namespace":"sd-ca:2014:teme","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../../../lib/exe/js.php%3Ftseed=1476798676"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="teme-02.html#tema_2sd_editor_2014">Tema 2: SD Editor 2014</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="teme-02.html#modificari_si_actualizari">Modificări și actualizări</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="teme-02.html#obiective">Obiective</a></div></li>
<li class="level2"><div class="li"><a href="teme-02.html#motivatie">Motivație</a></div></li>
<li class="level2"><div class="li"><a href="teme-02.html#cum_functioneaza">Cum funcționează</a></div></li>
<li class="level2"><div class="li"><a href="teme-02.html#interfata_bibliotecii">Interfata bibliotecii</a></div></li>
<li class="level2"><div class="li"><a href="teme-02.html#cerinte">Cerințe</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="teme-02.html#indicatii_de_implementare">Indicatii de implementare</a></div></li>
<li class="level3"><div class="li"><a href="teme-02.html#cum_se_compileaza">Cum se compileaza</a></div></li>
<li class="level3"><div class="li"><a href="teme-02.html#teste_publice">Teste publice</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="teme-02.html#reguli_pentru_trimitere">Reguli pentru trimitere</a></div></li>
<li class="level2"><div class="li"><a href="teme-02.html#punctaj">Punctaj</a></div></li>
<li class="level2"><div class="li"><a href="teme-02.html#faq">FAQ</a></div></li>
<li class="level2"><div class="li"><a href="teme-02.html#resurse">Resurse</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="tema_2sd_editor_2014">Tema 2: SD Editor 2014</h1>
<div class="level1">

<p>
Responsabili
</p>
<ul>
<li class="level1"><div class="li"> <a href="mailto:&#x6d;&#x61;&#x69;&#x6c;&#x74;&#x6f;&#x3a;&#x6d;&#x61;&#x74;&#x65;&#x69;&#x70;&#x61;&#x76;&#x61;&#x6c;&#x75;&#x63;&#x61;&#x40;&#x79;&#x61;&#x68;&#x6f;&#x6f;&#x2e;&#x63;&#x6f;&#x6d;" class="mail" title="&#x6d;&#x61;&#x69;&#x6c;&#x74;&#x6f;&#x3a;&#x6d;&#x61;&#x74;&#x65;&#x69;&#x70;&#x61;&#x76;&#x61;&#x6c;&#x75;&#x63;&#x61;&#x40;&#x79;&#x61;&#x68;&#x6f;&#x6f;&#x2e;&#x63;&#x6f;&#x6d;"> Matei Pavaluca</a></div>
</li>
<li class="level1"><div class="li"> <a href="mailto:&#x6d;&#x61;&#x69;&#x6c;&#x74;&#x6f;&#x3a;&#x6d;&#x61;&#x74;&#x65;&#x69;&#x2e;&#x72;&#x6d;&#x39;&#x34;&#x40;&#x67;&#x6d;&#x61;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;" class="mail" title="&#x6d;&#x61;&#x69;&#x6c;&#x74;&#x6f;&#x3a;&#x6d;&#x61;&#x74;&#x65;&#x69;&#x2e;&#x72;&#x6d;&#x39;&#x34;&#x40;&#x67;&#x6d;&#x61;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;"> Matei Răzvan</a></div>
</li>
</ul>

<p>
<strong> Deadline soft: 8 aprilie, ora 23:55 </strong>
</p>

<p>
Depunctare întârziere după depășirea deadline-ului soft: <strong> -10p/zi </strong>
</p>

<p>
<strong> Deadline hard: 11 aprilie, ora 23:55 </strong>
</p>

</div>
<!-- EDIT1 SECTION "Tema 2: SD Editor 2014" [1-322] -->
<h3 class="sectionedit2" id="modificari_si_actualizari">Modificări și actualizări</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> <strong>28 martie</strong> update arhiva</div>
</li>
<li class="level1"><div class="li"> <strong>31 martie</strong> update checker</div>
</li>
</ul>

</div>
<!-- EDIT2 SECTION "Modificări și actualizări" [323-429] -->
<h2 class="sectionedit3" id="obiective">Obiective</h2>
<div class="level2">

<p>
În urma realizării acestei teme studentul:
</p>
<ul>
<li class="level1"><div class="li"> va fi capabil să implementeze și să foloseasca o listă</div>
</li>
<li class="level1"><div class="li"> isi va îmbunatați abilitatea de lucru cu stive</div>
</li>
<li class="level1"><div class="li"> va învața cum se diferențiază într-un proiect partea de back-end de cea de front-end</div>
</li>
<li class="level1"><div class="li"> va învața cum lucreaza cu biblioteci partajate</div>
</li>
<li class="level1"><div class="li"> va folosi structurile de date pentru a implementa o posibilia aplicatie reala </div>
</li>
</ul>

<p>
Gigel este absolvent al Facultăii de Automatică si Calculatoare. Înca de la primul laborator de USO Gigel folosește editorul vim, în mare parte pentru că nu știe cum să iasă din el. Acum că a absolvit, Gigel s-a gândit că e momentul
să-și implementeze singur propriul editor. Însa cum acesta nu are destulă experiența cu editoarele, s-a lovit de cateva probleme.
</p>

</div>
<!-- EDIT3 SECTION "Obiective" [430-1225] -->
<h2 class="sectionedit4" id="motivatie">Motivație</h2>
<div class="level2">

<p>
Gigel s-a pus pe lucru si in scurt timp a scris interfata cu utilizatorul pentru editorul sau. Si-a dat seama insa ca functionalitatile editorului sunt mai greu de implementat decat credea, asa ca a decis ca are nevoie de ajutorul unor profesionisti. Ca sa fie sigur, Gigel s-a decis sa ceara <strong>tuturor</strong> studentilor sa implementeze cate o versiune a functionalitatilor.
</p>

<p>
Astfel, editorul text se alcatuieste din partea scrisa de Gigel - care reprezinta interfata cu utilizatorul (front-end) - si partea scrisa de fiecare student in parte - care reprezinta functionalitatile (back-end). 
</p>

<p>
Pentru a putea lucra in continuare la front-end si pentru a putea testa diverse implementari ale functionalitatilor editorului <strong>fara a modifica partea lui din aplicatie</strong>, Gigel a conceput o interfata prin care cele doua parti ale aplicatiei pot sa comunice, adica o descriere a operatiilor pe care back-end-ul stie sa le faca si front-end-ul le poate folosi. 
</p>

<p>
Back-end-ul se leaga la aplicatia lui Gigel sub forma unei biblioteci partajate (shared object), iar pentru testare Gigel poate schimba bibliotecile intre ele fara a modifica partea sa din aplicatie.
</p>

</div>
<!-- EDIT4 SECTION "Motivație" [1226-2402] -->
<h2 class="sectionedit5" id="cum_functioneaza">Cum funcționează</h2>
<div class="level2">

<p>
Editorul lui Gigel este special. Din motive de simplitate (sau plictiseala) tanarul absolvent s-a gandit ca ar fi o idee buna
daca editorul sau ar avea ca <strong>unitate de baza cuvantul si nu litera</strong>. Asta inseamna ca cea mai mica unitate pe care o poti adauga sau sterge este un cuvant.
</p>

<p>
<strong>Cuvantul</strong> se defineste ca fiind <strong>orice insiruire de caractere alfanumerice</strong> (fara orice fel de caractere speciale) <strong>urmate de un spatiu</strong>.
La fiecare apasare a tastei “space” editorul trimite la back-end ultimul cuvant cuprins intre doua spatii pornind de la pozitia curenta a cursorului. Astfel, odata adaugat un cuvant acesta nu mai poate fi modificat, doar sters.
</p>

<p>
Cuvintele pot fi sterse apasand tasta “backspace”. Daca cuvantul pe care incercam sa-l stergem a fost deja trimis la back-end
(are spatiu dupa el) atunci prima apasare selecteaza cuvantul, iar urmatoarea apasare il sterge. Cuvintele ce nu au fost inca trimise (nu au spatiu dupa ele) poti fi sterse litera cu litera (cum se intampla in mod normal in editoare).
</p>

<p>
Dupa fiecare operatie a editorului se face o actualizare a textului afisat, astfel incat sa nu existe neconcordante intre textul
afisat de editor si cel aflat in back-end.
</p>

<p>
Butoanele cut / copy / paste au efect asupra textului selectat cu mouse-ul.
</p>

<p>
<p><div class="noteimportant"><strong>Atentie</strong> la modificarile pe care le faceti in editor. Acestea nu se transmit neaparat si back-end-ului.
De exemplu cut / copy / paste folosind tastele, butonul de Delete si suprascrierea unui text selectat nu se transmit
back-end-ului. Acestea vor ramane vizibile pana la urmatorul update al textului pe front-end. 
</div></p>
</p>

<p>
Update-ul textului se face dupa fiecare operatie. Aceasta operatie presupune inlocuirea intregului text de pe ecran cu
cel continut de back-end.
</p>

<p>
Intrucat comportamentul editorului sau nu este mereu cel mai intuitiv, Gigel s-a gandit ca este bine sa aiba specificatii
mai clare legate de implementarea back-end-ului.
</p>

</div>
<!-- EDIT5 SECTION "Cum funcționează" [2403-4367] -->
<h2 class="sectionedit6" id="interfata_bibliotecii">Interfata bibliotecii</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <strong>void Backend::Cut(const int start, const int stop)</strong>: </div>
<ul>
<li class="level2"><div class="li"> taie cuvintele cuprinse <strong>integral</strong> intre start si stop</div>
</li>
<li class="level2"><div class="li"> start si stop sunt indecsi din text, nu cuvinte, deci va trebui sa verificati ce cuvinte se gasesc <strong>integral</strong> (inclusiv cu spatiul de dupa ele) intre cei doi indecsi.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>void Backend::Copy(const int start, const int stop)</strong>:</div>
<ul>
<li class="level2"><div class="li"> copiaza cuvintele cuprinse <strong>integral</strong> intre start si stop in clipboard</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>void Backend::Paste(const int start)</strong>:</div>
<ul>
<li class="level2"><div class="li"> lipeste textul din clipboard la sfarsitul cuvantului indicat de start</div>
</li>
<li class="level2"><div class="li"> daca indexul nu este valid cuvintele sunt adaugate la primul index valid de dupa start</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>void Backend::Undo()</strong>:</div>
<ul>
<li class="level2"><div class="li"> aduce editorul in starea in care se afla inainte de ultima operatie efectuata</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>void Backend::Redo()</strong>: </div>
<ul>
<li class="level2"><div class="li"> aduce editorul in starea in care se afla inainte de ultimul &#039;Undo()&#039;</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>void Backend::Add(const int index, const char *word)</strong>:</div>
<ul>
<li class="level2"><div class="li"> adauga cuvantul “word” la pozitia indicata de index</div>
</li>
<li class="level2"><div class="li"> daca indexul nu este valid (se gaseste in mijlocului unui alt cuvant), “word” este adaugat la primul index valid de dupa index</div>
</li>
<li class="level2"><div class="li"> se apeleaza automat la fiecare apasare de “space”</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>const char *Backend::GetText()</strong>:</div>
<ul>
<li class="level2"><div class="li">  intoarce textul pe care il aveti in memoria back-end-ului</div>
</li>
</ul>
</li>
</ul>

<p>
Precizari:
</p>
<ul>
<li class="level1"><div class="li"> Dupa fiecare operatie este apelata metoda GetText(), pentru a mentine o sincronizare intre textul afisat de editor si cel din memoria back-end-ului.</div>
</li>
<li class="level1"><div class="li"> Clipboard-ul este intern back-end-ului si este diferit de cel al sistemului de operare.</div>
</li>
</ul>

</div>
<!-- EDIT6 SECTION "Interfata bibliotecii" [4368-5959] -->
<h2 class="sectionedit7" id="cerinte">Cerințe</h2>
<div class="level2">

<p>
Sa se implementeze o biblioteca shared object care sa expuna un obiect ce contine
functiile prezentate. Un schelet de cod de la care sa plecati este disponibil in arhiva,
in directorul backend_src.
</p>

<p>
<p><div class="notetip">Scopul temei este acela de a implementa functionalitatile bibliotecii.
Front-end-ul va este pus la dispozitie pentru a avea un mijloc intuitiv de testare
a functionalitatilor implementate. Testarea temelor nu se va face cu acest front-end, 
ci cu testele publice descrise in sectiunea corespunzatoare de mai jos
</div></p>
</p>

</div>
<!-- EDIT7 SECTION "Cerințe" [5960-6509] -->
<h3 class="sectionedit8" id="indicatii_de_implementare">Indicatii de implementare</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Textul se va retine sub forma unei liste inlantuite, avand fiecare nod un cuvant. Intrucat interfata lucreaza cu indecsi din textul original, va trebui sa determinati exact pozitiile din lista in care trebuie sa inserati / taiati / lipiti cuvinte.</div>
</li>
<li class="level1"><div class="li"> Veti avea nevoie de un clipboard in care veti retine ultimul text copiat/taiat. Clipboardul se va updata la fiecare operatie cut/copy.</div>
</li>
<li class="level1"><div class="li"> Veti avea nevoie de cate o stiva pentru operatiile de undo si redo.</div>
</li>
<li class="level1"><div class="li"> Functia getText() se va apela dupa apelul oricarei alte operatii.</div>
</li>
</ul>

</div>
<!-- EDIT8 SECTION "Indicatii de implementare" [6510-7080] -->
<h3 class="sectionedit9" id="cum_se_compileaza">Cum se compileaza</h3>
<div class="level3">

<p>
Descarcati <a href="../../../../../_media/sd-ca/teme/sd-tema2.zip" class="media mediafile mf_zip" title="sd-ca:teme:sd-tema2.zip (6.8 KB)">arhiva</a>
</p>

<p>
O să aveți nevoie de biblioteca libqt4-dev
</p>

<p>
<code>sudo apt-get install libqt4-dev</code>
</p>

<p>
Extrageți arhiva si rulați qmake în rădăcina arhivei (acolo unde se afla Conf.pro).
</p>

<p>
Mutați-vă in backend_src si rulați make. Se va genera lib-backend.so care este necesară pentru front-end.
</p>

<p>
Mutați-vă înapoi în rădăcina arhivei și rulați make. Se va genera executabilul sd_editor.
</p>

<p>
<code>./sd_editor</code>
</p>

</div>
<!-- EDIT9 SECTION "Cum se compileaza" [7081-7556] -->
<h3 class="sectionedit10" id="teste_publice">Teste publice</h3>
<div class="level3">

<p>
<a href="../../../../../_media/sd-ca/teme/sd-tema2-checker.zip" class="media mediafile mf_zip" title="sd-ca:teme:sd-tema2-checker.zip (13.5 KB)">Checker</a>
</p>

</div>
<!-- EDIT10 SECTION "Teste publice" [7557-7626] -->
<h2 class="sectionedit11" id="reguli_pentru_trimitere">Reguli pentru trimitere</h2>
<div class="level2">

<p>
Temele vor trebui trimise pe <a href="https://elf.cs.pub.ro/vmchecker/ui/#SD" class="urlextern" title="https://elf.cs.pub.ro/vmchecker/ui/#SD"  rel="nofollow">vmchecker</a>. 
<strong>Atenție!</strong> Temele trebuie trimise în secțiunea <strong>Structuri de Date (CA)</strong>.
</p>

<p>
Arhiva trebuie să conțină:
</p>
<ul>
<li class="level1"><div class="li"> sursele voastre</div>
</li>
<li class="level1"><div class="li"> Makefile cu target &#039;build&#039; si &#039;clean&#039; care sa genereze un shared object denumit &#039;lib-backend.so&#039;</div>
</li>
<li class="level1"><div class="li"> fisier <strong>README</strong> care să conțină detalii despre implementarea temei</div>
</li>
</ul>

<p>
<p><div class="notetip">Pentru a putea genera un shared object este nevoie ca sursele sa fie compilate cu flag-ul
&#039;-fPIC&#039;. Pentru un exemplu, inspectati Makefile-ul din backend_src
</div></p>
</p>

</div>
<!-- EDIT11 SECTION "Reguli pentru trimitere" [7627-8230] -->
<h2 class="sectionedit12" id="punctaj">Punctaj</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> 80 puncte obținute pe testele de pe vmchecker</div>
</li>
<li class="level1"><div class="li"> 10 puncte: coding style</div>
</li>
<li class="level1"><div class="li"> 10 puncte: README + alte eventuale penalizări</div>
</li>
<li class="level1"><div class="li"> <strong>Bonus 10 puncte</strong> pentru soluțiile ce nu au memory leak-uri.</div>
</li>
<li class="level1"><div class="li"> TOTAL: 100 puncte (+10 bonus)</div>
</li>
</ul>

<p>
Coding style-ul trebuie sa fie <strong>consistent</strong> și <strong>ușor de citit</strong>.
Ca ghid vă recomandăm:
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://www.possibility.com/Cpp/CppCodingStandard.html" class="urlextern" title="http://www.possibility.com/Cpp/CppCodingStandard.html"  rel="nofollow"> C++ coding standards </a></div>
</li>
</ul>

<p>
sau
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml" class="urlextern" title="http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml"  rel="nofollow"> Google coding standards for C++ </a></div>
</li>
</ul>

<p>
Citiți cu atenție <a href="../../../../../sd-ca/regulament.html#reguli_de_trimitere_a_temelor" class="urlextern" title="http://ocw.cs.pub.ro/courses/sd-ca/regulament#reguli_de_trimitere_a_temelor"  rel="nofollow">Regulamentul General de Trimitere a Temelor</a>.
</p>

<p>
<p><div class="notewarning"><strong>Nu copiați!</strong> Toate soluțiile vor fi verificate folosind o unealtă de detectare a plagiatului. În cazul detectării unui astfel de caz, atât plagiatorul cât și autorul original (nu contează cine care e) vor primi punctaj 0 pe <strong>toate temele</strong>!
</p>

<p>
De aceea, vă sfătuim să nu vă lăsați rezolvări ale temelor pe calculatoare partajate (la laborator etc), pe mail/liste de discuții/grupuri etc.
</div></p>
</p>

</div>
<!-- EDIT12 SECTION "Punctaj" [8231-9355] -->
<h2 class="sectionedit13" id="faq">FAQ</h2>
<div class="level2">

<p>
<strong>Q:</strong> Se poate folosi STL?
</p>

<p>
<strong>A:</strong> Se poate folosi clasa string din STL. Folosirea oricărei alte clase din STL <strong>nu este permisă</strong>
</p>

</div>
<!-- EDIT13 SECTION "FAQ" [9356-9508] -->
<h2 class="sectionedit14" id="resurse">Resurse</h2>
<div class="level2">

<p>
<a href="http://www.learncpp.com/" class="urlextern" title="http://www.learncpp.com/"  rel="nofollow">C++ Tutorial</a>
</p>

</div>
<!-- EDIT14 SECTION "Resurse" [9509-] --></div>
</body>
</html>
