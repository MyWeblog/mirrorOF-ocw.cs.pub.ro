    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>sd-ca:2014:teme:teme-04</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2015-02-17T13:46:56+0200"/>
<meta name="keywords" content="sd-ca,2014,teme,teme-04"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../../../feed.php%3Fmode=list&amp;ns=sd-ca:2014:teme"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="teme-04.html"/>
<link rel="canonical" href="../../../../../sd-ca/2014/teme/teme-04.html"/>
<link rel="stylesheet" type="text/css" href="../../../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1476798676.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='sd-ca:2014:teme';var JSINFO = {"id":"sd-ca:2014:teme:teme-04","namespace":"sd-ca:2014:teme","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../../../lib/exe/js.php%3Ftseed=1476798676"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level2"><div class="li"><a href="teme-04.html#tema_4_dictionar_t9">Tema 4. Dicționar T9</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="teme-04.html#cerinta">Cerintă</a></div></li>
<li class="level3"><div class="li"><a href="teme-04.html#detalii_de_implementare_si_punctare">Detalii de implementare si punctare</a></div></li>
<li class="level3"><div class="li"><a href="teme-04.html#format_fisiere_de_intrare">Format fișiere de intrare</a></div></li>
<li class="level3"><div class="li"><a href="teme-04.html#exmple">Exmple</a></div></li>
<li class="level3"><div class="li"><a href="teme-04.html#restrictii_si_precizari_suplimentare">Restricții și precizări suplimentare</a></div></li>
<li class="level3"><div class="li"><a href="teme-04.html#resurse_utile">Resurse utile</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h2 class="sectionedit1" id="tema_4_dictionar_t9">Tema 4. Dicționar T9</h2>
<div class="level2">

<p>
<strong>Responsabili:</strong> <a href="mailto:&#x61;&#x6e;&#x64;&#x72;&#x65;&#x69;&#x2e;&#x70;&#x61;&#x72;&#x76;&#x75;&#x40;&#x63;&#x74;&#x69;&#x2e;&#x70;&#x75;&#x62;&#x2e;&#x72;&#x6f;" class="mail" title="&#x61;&#x6e;&#x64;&#x72;&#x65;&#x69;&#x2e;&#x70;&#x61;&#x72;&#x76;&#x75;&#x40;&#x63;&#x74;&#x69;&#x2e;&#x70;&#x75;&#x62;&#x2e;&#x72;&#x6f;">Andrei Pârvu</a>
</p>

<p>
<strong>Termen de predare:</strong> 23.05.2014, 23:55 - <strong>deadline hard</strong>. Tema se va trimite pe <a href="http://elf.cs.pub.ro/vmchecker" class="urlextern" title="http://elf.cs.pub.ro/vmchecker"  rel="nofollow">vmchecker</a>. Pentru trimiterea temei până la data de 19.05.2014, 23:55, se acordă un bonus de 20 de puncte.
</p>

<p>
<strong>Obiective:</strong>
Dupa realizarea acestei teme de casa studentul va fi capabil sa:
</p>
<ul>
<li class="level1"><div class="li"> lucreze cu structuri de date avansate. </div>
</li>
<li class="level1"><div class="li"> îmbine mai multe structuri de date pentru rezolvarea unei probleme.</div>
</li>
<li class="level1"><div class="li"> să aleagă structuri de date potrivite pentru a rezolva optim o problemă</div>
</li>
</ul>

</div>
<!-- EDIT1 SECTION "Tema 4. Dicționar T9" [1-602] -->
<h3 class="sectionedit2" id="cerinta">Cerintă</h3>
<div class="level3">

<p>
Tocmai ați fost angajați pentru de o firmă ce produce telefoane mobile pentru a scrie un software de scriere a mesajelor text. Tastatura telefoanelor produse este una standard, existând o corespondență una-la-mai-multe între cifra corespunzătoare unei taste și literele asociate:
</p>
<div class="table sectionedit3"><table class="inline">
	<tr class="row0">
		<th class="col0 centeralign">  Valoarea numerica a tastei  </th><th class="col1 centeralign">  Litere asociate  </th>
	</tr>
	<tr class="row1">
		<td class="col0 centeralign">  2  </td><td class="col1 centeralign">  a b c  </td>
	</tr>
	<tr class="row2">
		<td class="col0 centeralign">  3  </td><td class="col1 centeralign">  d e f  </td>
	</tr>
	<tr class="row3">
		<td class="col0 centeralign">  4  </td><td class="col1 centeralign">  g h i  </td>
	</tr>
	<tr class="row4">
		<td class="col0 centeralign">  5  </td><td class="col1 centeralign">  j k l  </td>
	</tr>
	<tr class="row5">
		<td class="col0 centeralign">  6  </td><td class="col1 centeralign">  m n o  </td>
	</tr>
	<tr class="row6">
		<td class="col0 centeralign">  7  </td><td class="col1 centeralign">  p q r s  </td>
	</tr>
	<tr class="row7">
		<td class="col0 centeralign">  8  </td><td class="col1 centeralign">  t u v  </td>
	</tr>
	<tr class="row8">
		<td class="col0 centeralign">  9  </td><td class="col1 centeralign">  w x y z  </td>
	</tr>
</table></div>
<!-- EDIT3 TABLE [913-1113] -->
<p>
Atunci când utilizatorul scrie un mesaj softul primeste doar cifra corespunzătoare tastei apăsate. Spre exemplu, dacă s-a primit șirul de taste <code>2247</code> acesta poate semnifica cuvântul <code>cais</code>, dar și cuvântul <code>acip</code> (bineînțeles și încă multe altele).<br/>

Pentru a ști ce cuvânt să se returneze softul menține o listă cu toate cuvintele posibile și cu numărul de apariții ale acestora în mesajele precedente. Atunci când se primește un șir de taste apăsate, se caută cuvântul cu cele mai multe apariții ce se potrivește cu șirul primit.<br/>

Pentru a permite utilizatorilor să folosească cuvinte și cu un număr mai mic de apariții precedente, s-a introdus folosirea caracterului <code>*</code>. Dacă imediat după șirul de taste apăsate apare un șir de forma <code>*x</code>, unde x reprezintă un număr, atunci se dorește afișarea celui de-al <code>x+1</code>-lea cuvânt în ordinea descrescătoare a aparițiilor ce se potrivește cu șirul de taste primit.<br/>

Spre exemplu, dacă lista de cuvinte și a numărului de apariții a softului este:
</p>
<pre class="code">defra 4
feepc 10
pimu 3
rgot 2
rhou 1
pgnt 1</pre>

<p>
atunci șirul <code>33372</code> va genera <code>feepc</code>, <code>33372*1</code> va genera <code>defra</code>, <code>7468</code> va genera <code>pimu</code>, <code>7468*2</code> va genera <code>pgnt</code>, si <code>7468*4</code> va genera <code>pimu</code>.
Se observă că:
</p>
<ul>
<li class="level1"><div class="li"> în caz de număr de apariții egale se afișează șirul mai mic din punct de vedere lexicografic</div>
</li>
<li class="level1"><div class="li"> daca dupa <code>*</code> apare <code>x</code> și avem mai puțin de <code>x+1</code> cuvinte ce se potrivesc cu șirul primit, atunci afișarea se reia de la început, cu cuvântul cu numărul cel mai mare de apariții.</div>
</li>
</ul>

<p>
Deoarece se dorește ca softul să fie personalizat în funcție de preferințele utilizatorilor, atunci când un cuvânt este folosit softul poate să rețină acest lucru și să incrementeze numărul de apariții asociate cu acel cuvânt. Spre exemplu, dacă avem următoarea listă:
</p>
<pre class="code">dilo 2
egln 3</pre>

<p>
primirea șirului <code>3456*1</code> va rezulta afisarea cuvantului <code>dilo</code> si incrementarea numarului de aparitii la 3, iar dupa aceea primirea sirului <code>3456</code> va duce tot la afisarea <code>dilo</code> (ambele cuvinte au acelasi numar de aparitii, 3, dar <code>dilo</code> este mai mic din punct de vedere lexicografic).
Datoria voastră este să implementați eficient un soft care, pentru un șir de taste apăsate să returneze cuvântul corespunzător.
</p>

</div>
<!-- EDIT2 SECTION "Cerintă" [603-3479] -->
<h3 class="sectionedit4" id="detalii_de_implementare_si_punctare">Detalii de implementare si punctare</h3>
<div class="level3">

<p>
Lista de cuvinte de care dispune softul este una foarte mare, în care nu ne permitem să facem căutari pentru fiecare șir introdus. Tocmai de aceea va trebui folosită o structură de date denumită <code>trie</code>, care permite adăugarea și căutarea unui cuvânt dintr-o mulțime de cuvinte intr-un timp egal cu <code>O(lungime_cuvant)</code>. Dat fiind că folosirea unui cuvânt determină incrementarea numărului de apariții ale acestuia, trebuie să folosiți o structură de <code>treap</code> în care să determinați în mod optim care este al <code>x</code>-lea cuvânt în ordinea descrescătoare a numărului de apariții și să și puteți modifica acest număr. Pentru mai multe detalii, putei consulta <a href="../../../../../sd-ca/teme/teme-04%3F.html#resurse_utile" class="wikilink1" title="sd-ca:teme:teme-04"> lista de resurse utile</a>.<br/>

Astfel, fiecare nod al structurii trie corespunde unui posibil șir de cifre, dar cum unui șir de cifre îi pot corespunde mai multe cuvinte din dicționar, va trebui ca în fiecare nod să rețineți un treap pentru a gestiona aceste cuvinte și numărul lor de apariții.<br/>

Pentru evaluare vor exista în total 9 fișiere de test, a câte 10 puncte fiecare, încă 10 puncte fiind acordate pentru coding-style, comentarii și README.
</p>

</div>
<!-- EDIT4 SECTION "Detalii de implementare si punctare" [3480-4722] -->
<h3 class="sectionedit5" id="format_fisiere_de_intrare">Format fișiere de intrare</h3>
<div class="level3">

<p>
Fișierul de intrare din care veți citi atât lista de cuvinte, cât și șirurile venite de la tastarură se va numi <code>date.in</code> și va avea următorul format:
</p>
<ul>
<li class="level1"><div class="li"> a doua linia va conține <code>N</code>, dimensiunea listei de cuvinte avută la dispoziție</div>
</li>
<li class="level1"><div class="li"> următoarele <code>N</code> linii vor conține fiecare un cuvânt (format din litere mici ale alfabetului englez) urmat de un spațiu și de numărul de apariții ale acestuia</div>
</li>
<li class="level1"><div class="li"> următoarea linia va conține <code>M</code>, numărul de șiruri venite de la tastarură</div>
</li>
<li class="level1"><div class="li"> următoarele <code>M</code> linii vor conține un șir venit de la tastatură format din cifre de la <code>2</code> la <code>9</code> și un posibil caracter <code>*</code> urmat de un numar.</div>
</li>
</ul>

<p>
Fișierul de ieșire se va numi <code>date.out</code> și va conține <code>M</code> linii, pe cea de-a <code>i</code>-a linie aflându-se răspunsul pentru al <code>i</code>-lea șir venit de la tastatură.
</p>

</div>
<!-- EDIT5 SECTION "Format fișiere de intrare" [4723-5599] -->
<h3 class="sectionedit6" id="exmple">Exmple</h3>
<div class="level3">
<dl class="code">
<dt><a href="../../../../code/sd-ca/2014/teme/teme-04%3Fcodeblock=2" title="Download Snippet" class="mediafile mf_in">date.in</a></dt>
<dd><pre class="code C++"><span class="nu0">5</span>
tara <span class="nu0">4</span>
varb <span class="nu0">3</span>
ucsu <span class="nu0">3</span>
aaaa <span class="nu0">10</span>
bbbb <span class="nu0">11</span>
<span class="nu0">8</span>
<span class="nu0">8272</span>
<span class="nu0">8272</span><span class="sy0">*</span><span class="nu0">2</span>
<span class="nu0">8272</span><span class="sy0">*</span><span class="nu0">2</span>
<span class="nu0">8272</span><span class="sy0">*</span><span class="nu0">1</span>
<span class="nu0">2222</span><span class="sy0">*</span><span class="nu0">1</span>
<span class="nu0">2222</span><span class="sy0">*</span><span class="nu0">1</span>
<span class="nu0">2222</span>
<span class="nu0">2222</span><span class="sy0">*</span><span class="nu0">2</span></pre>
</dd></dl>
<dl class="code">
<dt><a href="../../../../code/sd-ca/2014/teme/teme-04%3Fcodeblock=3" title="Download Snippet" class="mediafile mf_out">date.out</a></dt>
<dd><pre class="code C++">tara
tara
tara
varb
aaaa
bbbb
bbbb
bbbb</pre>
</dd></dl>

<p>
<br/>

</p>
<dl class="code">
<dt><a href="../../../../code/sd-ca/2014/teme/teme-04%3Fcodeblock=4" title="Download Snippet" class="mediafile mf_in">date.in</a></dt>
<dd><pre class="code C++"><span class="nu0">4</span>
aad <span class="nu0">3</span>
bbf <span class="nu0">10</span>
aabeda <span class="nu0">13</span>
ace <span class="nu0">4</span>
<span class="nu0">5</span>
<span class="nu0">223</span>
<span class="nu0">223</span><span class="sy0">*</span><span class="nu0">2</span>
<span class="nu0">222332</span>
<span class="nu0">223</span><span class="sy0">*</span><span class="nu0">1</span>
<span class="nu0">223</span><span class="sy0">*</span><span class="nu0">5</span></pre>
</dd></dl>
<dl class="code">
<dt><a href="../../../../code/sd-ca/2014/teme/teme-04%3Fcodeblock=5" title="Download Snippet" class="mediafile mf_out">date.out</a></dt>
<dd><pre class="code C++">bbf
aad
aabeda
aad
ace</pre>
</dd></dl>

</div>
<!-- EDIT6 SECTION "Exmple" [5600-5948] -->
<h3 class="sectionedit7" id="restrictii_si_precizari_suplimentare">Restricții și precizări suplimentare</h3>
<div class="level3">

<p>
Pentru datele de intrare:
</p>
<ul>
<li class="level1"><div class="li"> <code>1 ≤ N, M ≤ 100.000</code></div>
</li>
<li class="level1"><div class="li"> lungimea unui cuvânt este de cel mult 20 de caractere</div>
</li>
<li class="level1"><div class="li"> lungimea unui sir de intrare este de cel mult 20 de caractere (excluzând <code>*</code> și numărul de îi urmează). Numărul <code>x</code> de după <code>*</code> este mai mic de <code>10<sup>9</sup></code></div>
</li>
<li class="level1"><div class="li"> numărul de apariții ale unui cuvânt este mai mic decât <code>10<sup>9</sup></code></div>
</li>
</ul>

<p>
Pentru execuția soluției voastre pe un test există o limita de timp de 6 secunde. Dacă execuția dureaza mai mult de atât, aceasta va fi întreruptă și veți primi 0 puncte pe testul respectiv.
</p>

<p>
Arhiva cu rezolvarea temei trebuie sa fie .zip și să conțină:
</p>
<ul>
<li class="level1"><div class="li"> Fișierul/fișierele sursă</div>
</li>
<li class="level1"><div class="li"> Fișierul Makefile</div>
</li>
<li class="level1"><div class="li"> Fișierul README</div>
</li>
</ul>

<p>
Fișierul pentru make trebuie denumit <strong>obligatoriu</strong> Makefile și trebuie să conțină următoarele reguli:
</p>
<ul>
<li class="level1"><div class="li"> build, care va compila sursele și va obține executabilul</div>
</li>
<li class="level1"><div class="li"> run, care va rula executabilul</div>
</li>
<li class="level1"><div class="li"> clean, care va șterge executabilul generate.</div>
</li>
</ul>

<p>
<strong>Atenție</strong> NU este permisă compilarea cu opțiuni de optimizare a codului (O1, O2, etc.).<br/>

<strong>Atenție</strong> Scopul temei este familiarizarea cu structurile de date prezentate mai sus. <strong>NU</strong> se vor puncta solutii ce folosesc alte structuri de date/algoritmi (hashing, cautare binara, STL, etc.). Este permisă (și încurajată) folosirea clasei <code>string</code> din STL.<br/>

</p>

<p>
O arhivă cu testele folosite pentru evaluare o puteți găsi <a href="../../../../../_media/sd-ca/teme/tema4-teste.zip" class="media mediafile mf_zip" title="sd-ca:teme:tema4-teste.zip (14.4 MB)">aici</a>. Din acestă arhivă, testele 3-11 vor fi folosite pentru evaluarea temei, primele două având rolul de a vă ajuta la debug. Trecerea testului 4 nu este condiționată doar de un răspuns corect, ci și de lipsa leak-urilor de memorie.
</p>

</div>
<!-- EDIT7 SECTION "Restricții și precizări suplimentare" [5949-7685] -->
<h3 class="sectionedit8" id="resurse_utile">Resurse utile</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> <a href="http://infoarena.ro/problema/trie" class="urlextern" title="http://infoarena.ro/problema/trie"  rel="nofollow"> Implemenare trie</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://community.topcoder.com/tc?module=Static&amp;d1=tutorials&amp;d2=usingTries" class="urlextern" title="http://community.topcoder.com/tc?module=Static&amp;d1=tutorials&amp;d2=usingTries"  rel="nofollow"> Tutorial trie</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://en.wikipedia.org/wiki/Trie" class="urlextern" title="http://en.wikipedia.org/wiki/Trie"  rel="nofollow"> Pagina de wikipedia trie</a></div>
</li>
<li class="level1"><div class="li"> <a href="../../../../../sd-ca/laboratoare/laborator-11.html" class="wikilink1" title="sd-ca:laboratoare:laborator-11"> Laborator treap-uri</a></div>
</li>
</ul>

</div>
<!-- EDIT8 SECTION "Resurse utile" [7686-] --></div>
</body>
</html>
