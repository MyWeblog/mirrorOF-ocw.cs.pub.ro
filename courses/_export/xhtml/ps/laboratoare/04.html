    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>ps:laboratoare:04</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2016-11-06T10:04:27+0200"/>
<meta name="keywords" content="ps,laboratoare,04"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../../feed.php%3Fmode=list&amp;ns=ps:laboratoare"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="04.html"/>
<link rel="canonical" href="../../../../ps/laboratoare/04.html"/>
<link rel="stylesheet" type="text/css" href="../../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1476798676.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='ps:laboratoare';var JSINFO = {"id":"ps:laboratoare:04","namespace":"ps:laboratoare","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../../lib/exe/js.php%3Ftseed=1476798676"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level2"><div class="li"><a href="04.html#laboratorul_04">Laboratorul 04.</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="04.html#semnale_in_domeniul_frecventa">Semnale in domeniul frecventa</a></div>
<ul class="toc">
<li class="level4"><div class="li"><a href="04.html#exercitiul_1_-_aproximare_de_semnale_4p">Exercitiul 1 - aproximare de semnale [4p]</a></div></li>
<li class="level4"><div class="li"><a href="04.html#exercitiul_2_--_comunicatie_digitala_2p">Exercitiul 2 -- comunicatie digitala [2p]</a></div></li>
<li class="level4"><div class="li"><a href="04.html#exercitiul_3_--_filtrare_4p">Exercitiul 3 -- filtrare [4p]</a></div></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h2 class="sectionedit1" id="laboratorul_04">Laboratorul 04.</h2>
<div class="level2">

</div>
<!-- EDIT1 SECTION "Laboratorul 04." [1-29] -->
<h3 class="sectionedit2" id="semnale_in_domeniul_frecventa">Semnale in domeniul frecventa</h3>
<div class="level3">

<p>
Materiale ajutatoare:
</p>
<ol>
<li class="level1"><div class="li"> <a href="http://www.ece.rice.edu/~dhj/courses/elec241/col10040.pdf" class="urlextern" title="http://www.ece.rice.edu/~dhj/courses/elec241/col10040.pdf"  rel="nofollow">D. Johnson&#039;s book</a></div>
<ol>
<li class="level2"><div class="li"> Sections 4.5 (Exercise 1), 4.6 (Exercise 2), 4.7 (Exercise 3)</div>
</li>
</ol>
</li>
</ol>

</div>

<h4 id="exercitiul_1_-_aproximare_de_semnale_4p">Exercitiul 1 - aproximare de semnale [4p]</h4>
<div class="level4">

<p>
O sa folosim din nou semnalul rectangular, de amplitudine &#039;A&#039; in intervalul [0, T/2] si &#039;-A&#039; in intervalul [T/2, T] care are coeficientii Fourier dati de formula:
</p>

<p>
$c_k$ =
</p>
<ul>
<li class="level1"><div class="li"> $\frac{2\cdot A}{j\cdot \pi\cdot k}$, pentru ca impar</div>
</li>
<li class="level1"><div class="li"> 0, pentru ca par</div>
</li>
</ul>

<p>
In acest exercitiu vom incerca sa calculam rms-ul (root mean square) erorii semnalului $e_K$ dat de:
</p>

<p>
$e_K = s(t) - s_K(t)$
</p>

<p>
unde $s_K(t)$ e semnalul aproximat cu K termeni. Folosind transformata Fourier avem:
</p>

<p>
$s_K(t) = \sum_{k=-K}^K c_k e^\frac{j 2 \pi k t}{T}$
</p>

<p>
si rms-ul lui $e_K$ este dat de:
</p>

<p>
$\text{rms}(e_K) = \sqrt{2\cdot \sum_{k=K+1}^\infty |c_k|^2}$
</p>

<p>
Task-ul vostru este sa determinati valoarea lui K astfel incat $\text{rms}(e_K)$ este aproape 0 si dupa aceea sa vedeti ca intradevar semnalul reconstruit aproximeaza bine semnalul original. 
</p>

<p>
Pentru asta ar trebui sa urmariti urmatorii pasi:
</p>
<ol>
<li class="level1"><div class="li"> Creati semnalul original. Folositi de exemplu T=100 si A=1 pentru a genera semnalul cu valoarea 1 in primele 50 de valori si -1 in ultimele 50. Plot-ati semnalul ca functie de timp (de la 1 la 100) [1p]. Puteti sa va folositi de acest cod: <pre class="code matlab">A = <span class="nu0">1</span>;
T = <span class="nu0">100</span>;
x = <span class="nu0">1</span>:T;
s = -A*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/ones.html"><span class="kw2">ones</span></a><span class="br0">&#40;</span><span class="nu0">1</span>, T<span class="br0">&#41;</span>;
s<span class="br0">&#40;</span><span class="nu0">1</span>:<span class="br0">&#40;</span>T/<span class="nu0">2</span><span class="br0">&#41;</span><span class="br0">&#41;</span> = A;</pre>
</div>
</li>
<li class="level1"><div class="li"> Calculati coeficientii Fourier c_k pentru k=[0:10]. Plotati amplitudinile $|c_k|^2$ ca functie de $k$.[1p]</div>
</li>
<li class="level1"><div class="li"> Calculati $\text{rms}(e_K)$ ca functie de $K$ pentru $K \in \{1, \ldots, 500\}$. Plot-ati valoarea rms pentru $K \in \{1, \ldots, 500\}$.[1p]</div>
</li>
<li class="level1"><div class="li"> Determinati cel mai mic $K$ astfel incat $\text{rms}(e_K) &lt; 0.025$ si reconstruiti semnalul original folosind acest numar de coeficienti. Trebuie sa folositi atat coeficienti pozitivi cat si negativi (de ex. de la -K la K) pentru a reconstrui semnalul. Plot-ati semnalul reconstruit si comparati-l cu semnalul initial. [1p]</div>
</li>
</ol>

<p>
<p><div class="notetip">
A sample solution:
</p>
<pre class="code matlab">A = <span class="nu0">1</span>;
T = <span class="nu0">100</span>;
x = <span class="nu0">1</span>:T;
s = -A*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/ones.html"><span class="kw2">ones</span></a><span class="br0">&#40;</span><span class="nu0">1</span>, T<span class="br0">&#41;</span>;
s<span class="br0">&#40;</span><span class="nu0">1</span>:<span class="br0">&#40;</span>T/<span class="nu0">2</span><span class="br0">&#41;</span><span class="br0">&#41;</span> = A;
&nbsp;
h = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/figure.html"><span class="kw2">figure</span></a>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/plot.html"><span class="kw2">plot</span></a><span class="br0">&#40;</span>x,s<span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/ylabel.html"><span class="kw2">ylabel</span></a><span class="br0">&#40;</span><span class="co2">'Amplitude'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/xlabel.html"><span class="kw2">xlabel</span></a><span class="br0">&#40;</span><span class="co2">'Time'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/ylim.html"><span class="kw2">ylim</span></a><span class="br0">&#40;</span><span class="br0">&#91;</span>-A-<span class="nu0">0.5</span>, A+<span class="nu0">0.5</span><span class="br0">&#93;</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/title.html"><span class="kw2">title</span></a><span class="br0">&#40;</span><span class="co2">'Original signal s(t)'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/print.html"><span class="kw2">print</span></a><span class="br0">&#40;</span>h, <span class="co2">'-dpng'</span>, <span class="co2">'original_signal.png'</span><span class="br0">&#41;</span>;
&nbsp;
<span class="co1">% Compute some of the Fourier coefficients</span>
cmax = <span class="nu0">21</span>;
kv = -cmax:cmax;
N = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/length.html"><span class="kw2">length</span></a><span class="br0">&#40;</span>kv<span class="br0">&#41;</span>;
coef = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/zeros.html"><span class="kw2">zeros</span></a><span class="br0">&#40;</span>N,<span class="nu0">1</span><span class="br0">&#41;</span>;
<span class="kw1">for</span> <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a>=<span class="nu0">1</span>:N
    k = kv<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span>;
    <span class="kw1">if</span> <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/mod.html"><span class="kw2">mod</span></a><span class="br0">&#40;</span>k,<span class="nu0">2</span><span class="br0">&#41;</span> ~= <span class="nu0">0</span>
        coef<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span> = <span class="br0">&#40;</span><span class="nu0">2</span>*A<span class="br0">&#41;</span> / <span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/j.html"><span class="kw2"><span class="re0">j</span></span></a>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/pi.html"><span class="kw2">pi</span></a>*k<span class="br0">&#41;</span>;
    <span class="kw1">end</span>
<span class="kw1">end</span>
&nbsp;
<span class="co1">% Plot power of coefficients</span>
h = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/figure.html"><span class="kw2">figure</span></a>;
csquare = coef.*coef;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/stem.html"><span class="kw2">stem</span></a><span class="br0">&#40;</span>kv,<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/abs.html"><span class="kw2">abs</span></a><span class="br0">&#40;</span>csquare<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/xlabel.html"><span class="kw2">xlabel</span></a><span class="br0">&#40;</span><span class="co2">'Frequency component (k)'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/ylabel.html"><span class="kw2">ylabel</span></a><span class="br0">&#40;</span><span class="co2">'Magnitude of component'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/title.html"><span class="kw2">title</span></a><span class="br0">&#40;</span><span class="co2">'Fourier coefficients squared'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/print.html"><span class="kw2">print</span></a><span class="br0">&#40;</span>h, <span class="co2">'-dpng'</span>, <span class="co2">'squared_coefficients.png'</span><span class="br0">&#41;</span>;
&nbsp;
<span class="co1">% Plot rms of error signal</span>
cmax = <span class="nu0">1000</span>;
kv = <span class="nu0">0</span>:cmax;
N = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/length.html"><span class="kw2">length</span></a><span class="br0">&#40;</span>kv<span class="br0">&#41;</span>;
coef = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/zeros.html"><span class="kw2">zeros</span></a><span class="br0">&#40;</span>N,<span class="nu0">1</span><span class="br0">&#41;</span>;
<span class="kw1">for</span> <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a>=<span class="nu0">1</span>:N
    k = kv<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span>;
    <span class="kw1">if</span> <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/mod.html"><span class="kw2">mod</span></a><span class="br0">&#40;</span>k,<span class="nu0">2</span><span class="br0">&#41;</span> ~= <span class="nu0">0</span>
        coef<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span> = <span class="br0">&#40;</span><span class="nu0">2</span>*A<span class="br0">&#41;</span> / <span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/j.html"><span class="kw2"><span class="re0">j</span></span></a>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/pi.html"><span class="kw2">pi</span></a>*k<span class="br0">&#41;</span>;
    <span class="kw1">end</span>
<span class="kw1">end</span>
&nbsp;
kmax = <span class="nu0">500</span>;
rmse = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/zeros.html"><span class="kw2">zeros</span></a><span class="br0">&#40;</span>kmax, <span class="nu0">1</span><span class="br0">&#41;</span>;
<span class="kw1">for</span> <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a>=<span class="nu0">1</span>:kmax
    ss = coef<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a>:<span class="kw1">end</span><span class="br0">&#41;</span>'*coef<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a>:<span class="kw1">end</span><span class="br0">&#41;</span>;
    rmse<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span> = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/sqrt.html"><span class="kw2">sqrt</span></a><span class="br0">&#40;</span><span class="nu0">2</span>*ss<span class="br0">&#41;</span>;
<span class="kw1">end</span>
&nbsp;
h=<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/figure.html"><span class="kw2">figure</span></a>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/plot.html"><span class="kw2">plot</span></a><span class="br0">&#40;</span><span class="nu0">0</span>:<span class="br0">&#40;</span>kmax-<span class="nu0">1</span><span class="br0">&#41;</span>, rmse<span class="br0">&#41;</span>; <span class="co1">% Look with plot, semilogy and loglog</span>
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/title.html"><span class="kw2">title</span></a><span class="br0">&#40;</span><span class="co2">'RMS of e_k'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/ylabel.html"><span class="kw2">ylabel</span></a><span class="br0">&#40;</span><span class="co2">'RMS(e_k)'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/xlabel.html"><span class="kw2">xlabel</span></a><span class="br0">&#40;</span><span class="co2">'K'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/grid.html"><span class="kw2">grid</span></a> on;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/print.html"><span class="kw2">print</span></a><span class="br0">&#40;</span>h, <span class="co2">'-dpng'</span>, <span class="co2">'rms_ek.png'</span><span class="br0">&#41;</span>;
&nbsp;
<span class="co1">% Reconstruct signal with only some of the components</span>
<span class="co1">% Note: need to use both positive and negative k's</span>
<span class="co1">% (mistake in previous solution)</span>
fk = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/find.html"><span class="kw2">find</span></a><span class="br0">&#40;</span>rmse &lt; <span class="nu0">0.03</span><span class="br0">&#41;</span>;
N = fk<span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span>;
sr = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/zeros.html"><span class="kw2">zeros</span></a><span class="br0">&#40;</span><span class="nu0">1</span>, T<span class="br0">&#41;</span>;
<span class="kw1">for</span> t=<span class="nu0">1</span>:T
    <span class="kw1">for</span> <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a>=<span class="nu0">1</span>:N
        sr<span class="br0">&#40;</span>t<span class="br0">&#41;</span> = sr<span class="br0">&#40;</span>t<span class="br0">&#41;</span> + coef<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/exp.html"><span class="kw2">exp</span></a><span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/j.html"><span class="kw2"><span class="re0">j</span></span></a>*<span class="nu0">2</span>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/pi.html"><span class="kw2">pi</span></a>*kv<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span>*t/T<span class="br0">&#41;</span> <span class="sy0">...</span>
                      - coef<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/exp.html"><span class="kw2">exp</span></a><span class="br0">&#40;</span>-<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/j.html"><span class="kw2"><span class="re0">j</span></span></a>*<span class="nu0">2</span>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/pi.html"><span class="kw2">pi</span></a>*kv<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span>*t/T<span class="br0">&#41;</span>;
    <span class="kw1">end</span>
<span class="kw1">end</span>
&nbsp;
h=<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/figure.html"><span class="kw2">figure</span></a>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/plot.html"><span class="kw2">plot</span></a><span class="br0">&#40;</span><span class="nu0">1</span>:T, sr<span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/ylim.html"><span class="kw2">ylim</span></a><span class="br0">&#40;</span><span class="br0">&#91;</span>-A-<span class="nu0">1</span>, A+<span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/title.html"><span class="kw2">title</span></a><span class="br0">&#40;</span><span class="co2">'Reconstructed signal s(t)'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/ylabel.html"><span class="kw2">ylabel</span></a><span class="br0">&#40;</span><span class="co2">'Amplitude'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/xlabel.html"><span class="kw2">xlabel</span></a><span class="br0">&#40;</span><span class="co2">'Time'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/print.html"><span class="kw2">print</span></a><span class="br0">&#40;</span>h, <span class="co2">'-dpng'</span>, <span class="co2">'reconstructed_signal.png'</span><span class="br0">&#41;</span>;</pre>

<p>

</div></p>
</p>

</div>

<h4 id="exercitiul_2_--_comunicatie_digitala_2p">Exercitiul 2 -- comunicatie digitala [2p]</h4>
<div class="level4">

<p>
Am vazut la curs ca pentru a transmite 2 biti simultan putem  folosi doua frecvente diferite (f1, f2) pentru a coda o valoare de 2 biti:
</p>
<ol>
<li class="level1"><div class="li"> &#039;00&#039;: folosim un semnal egal cu 0 (nicio frecventa)</div>
</li>
<li class="level1"><div class="li"> &#039;01&#039;: folosim o sinusoida ce contine doar prima frecventa ($\sin(2\pi f_1 t)$)  </div>
</li>
<li class="level1"><div class="li"> &#039;10&#039;: folosim o sinusoida ce contine doar a doua frecventa ($\sin(2\pi f_2 t)$)</div>
</li>
<li class="level1"><div class="li"> &#039;11&#039;: folosim ambele frecvente $f_1$ si $f_2$</div>
</li>
</ol>

<p>
Task-ul vostru e sa creati o secventa random de 10 valori intre 0 si 3 (pentru a folosi toate valorile de mai sus) si apoi sa o codificati folosind 2 sinusoide asa cum este descris mai sus. Pentru asta ar trebui sa:
</p>
<ol>
<li class="level1"><div class="li"> selectati frecventele f1 si f2 astfel incat ele folosesc aceeasi frecventa fundamentala (de ex.: f1 = 1*ft, f2 = 2*ft) </div>
</li>
<li class="level1"><div class="li"> plotati semnalul rezultat folosind perioada (1/ft) pentru fiecare valoare transmisa;</div>
</li>
<li class="level1"><div class="li"> verificati ca semnalul rezultat codeaza secventa voastra random;</div>
</li>
</ol>

<p>
Nota: pentru a genera o secventa random de valori intregi inspectati functia &#039;randi&#039; din MATLAB.
<p><div class="notetip">
Posibila solutie:
</p>
<pre class="code matlab"><span class="co1">%% Frquency modulation using two frequencies</span>
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/close.html"><span class="kw2">close</span></a> <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/all.html"><span class="kw2">all</span></a>;
k1 = <span class="nu0">1</span>;
k2 = <span class="nu0">2</span>;
T = <span class="nu0">1</span>;
f1 = k1/T;
f2 = k2/T;
t = <span class="nu0">0</span>:T/<span class="nu0">100</span>:T;
s1 = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/sin.html"><span class="kw2">sin</span></a><span class="br0">&#40;</span><span class="nu0">2</span>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/pi.html"><span class="kw2">pi</span></a>*f1*t<span class="br0">&#41;</span>;
s2 = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/sin.html"><span class="kw2">sin</span></a><span class="br0">&#40;</span><span class="nu0">2</span>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/pi.html"><span class="kw2">pi</span></a>*f2*t<span class="br0">&#41;</span>;
values = randi<span class="br0">&#40;</span><span class="br0">&#91;</span><span class="nu0">0</span> <span class="nu0">3</span><span class="br0">&#93;</span>, <span class="nu0">1</span>, <span class="nu0">10</span><span class="br0">&#41;</span>;
nv = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/length.html"><span class="kw2">length</span></a><span class="br0">&#40;</span>values<span class="br0">&#41;</span>;
s = <span class="br0">&#91;</span><span class="br0">&#93;</span>;
<span class="kw1">for</span> <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a>=<span class="nu0">1</span>:nv
    si = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/zeros.html"><span class="kw2">zeros</span></a><span class="br0">&#40;</span><span class="nu0">1</span>,<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/length.html"><span class="kw2">length</span></a><span class="br0">&#40;</span>s1<span class="br0">&#41;</span><span class="br0">&#41;</span>;
    <span class="kw1">if</span> <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/mod.html"><span class="kw2">mod</span></a><span class="br0">&#40;</span>values<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span>, <span class="nu0">2</span><span class="br0">&#41;</span> == <span class="nu0">1</span>
        si = si + s1;
    <span class="kw1">end</span>
    <span class="kw1">if</span> values<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span> &gt; <span class="nu0">1</span>
        si = si + s2;
    <span class="kw1">end</span>
    s = <span class="br0">&#91;</span>s, si<span class="br0">&#93;</span>;
<span class="kw1">end</span>
tt = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/length.html"><span class="kw2">length</span></a><span class="br0">&#40;</span>s<span class="br0">&#41;</span>;
x = <span class="br0">&#40;</span><span class="br0">&#40;</span><span class="nu0">1</span>:tt<span class="br0">&#41;</span> - <span class="nu0">1</span><span class="br0">&#41;</span> * nv / tt;
h1 = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/figure.html"><span class="kw2">figure</span></a>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/plot.html"><span class="kw2">plot</span></a><span class="br0">&#40;</span>x, s<span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/grid.html"><span class="kw2">grid</span></a> on;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/xlabel.html"><span class="kw2">xlabel</span></a><span class="br0">&#40;</span><span class="co2">'Time (s)'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/ylabel.html"><span class="kw2">ylabel</span></a><span class="br0">&#40;</span><span class="co2">'Amplitude'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/title.html"><span class="kw2">title</span></a><span class="br0">&#40;</span><span class="co2">'Frequency modulated signal'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/print.html"><span class="kw2">print</span></a><span class="br0">&#40;</span>h1, <span class="co2">'-dpng'</span>, <span class="co2">'freqmod.png'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/fprintf.html"><span class="kw2">fprintf</span></a><span class="br0">&#40;</span><span class="co2">'The transmitted values are:\n'</span><span class="br0">&#41;</span>;
values</pre>

<p>

</div></p>
</p>

</div>

<h4 id="exercitiul_3_--_filtrare_4p">Exercitiul 3 -- filtrare [4p]</h4>
<div class="level4">

<p>
In acest exercitiu trebuie sa calculam coeficientii Fourier ai output-ului unui filtru trece-jos, dat fiind un semnal de intrare de tip &#039;pulse&#039;.
</p>

<p>
Pentru un semnal dat putem gasi coeficientii Fourier ($c_k$). Atunci, daca stim functia de transfer a filtrului trece-jos (sau alt tip de sistem liniar), am aratat la curs ca putem gasi coeficientii Fourier ($c_k^y$) ai semnalului rezultat ca:
</p>

<p>
$c_k^y = H(\frac{k}{T}) \cdot c_k$
</p>

<p>
Astfel putem reconstrui semnalul de iesire folosind coeficientii Fourier $c_k^y$.
</p>

<p>
Ni se da ca input un semnal de tip &#039;pulse&#039; cu amplitudine $A=1$ si pulsul de durata $\Delta=\frac{T}{5}$. Stim ca coeficientii Fourier ai semnalului sunt dati de:
</p>

<p>
$c_k = \frac{\Delta}{T} \cdot A \cdot e^{-j\pi\frac{k}{T}\Delta}\text{sinc}(\frac{\pi k \Delta}{T}).$
</p>

<p>
Puteti vedea circuitul filtrului trece-jos in urmatoarea imagine:
</p>

<p>
<a href="../../../../_detail/ps/laboratoare/rc_divider.png%3Fid=ps%253Alaboratoare%253A04.html" class="media" title="ps:laboratoare:rc_divider.png"><img src="../../../../_media/ps/laboratoare/rc_divider.png%3Fw=200&amp;tok=e9fcc1" class="media" alt="" width="200" /></a>
</p>

<p>
Functia de transfer a circuitului (pe care am determinat-o la curs si la laboratoarele anterioare) este urmatoarea:
</p>

<p>
$H(f=\frac{k}{T}) = \frac{1}{1+j 2 \pi R C \frac{k}{T}}$
</p>

<p>
unde R si C sunt rezistenta si respectiv capacitatea.
</p>

<p>
Task-ul vostru este sa determinati coeficientii output-ului si sa reconstruiti semnalul de iesire pentru diferite frecvente de taiere.
</p>

<p>
Pentru aceasta urmariti urmatorii pasi:
</p>
<ol>
<li class="level1"><div class="li"> Generati semnalul &#039;pulse&#039; si plotati-l. Puteti folosi T=100 sample-uri, dintre care doar $\Delta$ nu sunt egale cu 0. [1p]</div>
</li>
<li class="level1"><div class="li"> Calculati primii N=30 coeficienti Fourier positivi $c_k$ ai semnalului si plotati-i. [1p]</div>
</li>
<li class="level1"><div class="li"> Calculati coeficientii Fourier asociati semnalului de output, $c_k^y$, folosind formula de mai sus si plotati-i. Pentru asta va trebui sa alegeti of frecventa de cut-off $f_c$ care va determina valorile R si C ( $RC = \frac{1}{2\pi f_c}$ ). [1p]</div>
</li>
</ol>

<p>
  Puteti incerca urmatoarele valori pentru $f_c$:
</p>
<ol>
<li class="level1"><div class="li"> $f_c = 0.1/T$ (frecventa de cut-off e mult mai mica decat frecventa fundamentala a semnalului ⇒ filtrare puternica)</div>
</li>
<li class="level2"><div class="li"> $f_c = 1/T$ (frecventa de cut-off = frecventa fundamentala ⇒ puterea este injumatatita)</div>
</li>
<li class="level2"><div class="li"> $f_c = 10/T$ (frecventa de cut-off mult mai mare decat frecventa fundamentala ⇒ filtrare slaba)</div>
</li>
<li class="level2"><div class="li"> Reconstruiti semnalul de output cu ajutorul seriei Fourier (folosind formula de la exercitiul 1) [1p]</div>
</li>
</ol>

<p>

<p><div class="notetip">
This is the code for the exercise.
The idea is to use the Fourier series to determine the output of a linear filter.
</p>
<pre class="code matlab">A = <span class="nu0">1</span>;
D = <span class="nu0">20</span>;
T = <span class="nu0">100</span>;
x = <span class="nu0">1</span>:T;
s = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/zeros.html"><span class="kw2">zeros</span></a><span class="br0">&#40;</span><span class="nu0">1</span>,T<span class="br0">&#41;</span>;
s<span class="br0">&#40;</span><span class="nu0">1</span>:D<span class="br0">&#41;</span> = A;
&nbsp;
h = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/figure.html"><span class="kw2">figure</span></a>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/plot.html"><span class="kw2">plot</span></a><span class="br0">&#40;</span>x,s<span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/ylabel.html"><span class="kw2">ylabel</span></a><span class="br0">&#40;</span><span class="co2">'Amplitude'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/xlabel.html"><span class="kw2">xlabel</span></a><span class="br0">&#40;</span><span class="co2">'Time'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/ylim.html"><span class="kw2">ylim</span></a><span class="br0">&#40;</span><span class="br0">&#91;</span>-A-<span class="nu0">0.5</span>, A+<span class="nu0">0.5</span><span class="br0">&#93;</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/title.html"><span class="kw2">title</span></a><span class="br0">&#40;</span><span class="co2">'Original signal s(t)'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/print.html"><span class="kw2">print</span></a><span class="br0">&#40;</span>h, <span class="co2">'-dpng'</span>, <span class="co2">'pulse_signal.png'</span><span class="br0">&#41;</span>;
&nbsp;
<span class="co1">% Compute some of the Fourier coefficients</span>
cmax = <span class="nu0">20</span>;
kv = <span class="nu0">0</span>:cmax;
N = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/length.html"><span class="kw2">length</span></a><span class="br0">&#40;</span>kv<span class="br0">&#41;</span>;
coef = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/zeros.html"><span class="kw2">zeros</span></a><span class="br0">&#40;</span>N,<span class="nu0">1</span><span class="br0">&#41;</span>;
<span class="kw1">for</span> <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a>=<span class="nu0">1</span>:N
    k = kv<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span>;
    coef<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span> = <span class="br0">&#40;</span>D/T<span class="br0">&#41;</span>*A*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/exp.html"><span class="kw2">exp</span></a><span class="br0">&#40;</span>-<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/j.html"><span class="kw2"><span class="re0">j</span></span></a>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/pi.html"><span class="kw2">pi</span></a>*k*D/T<span class="br0">&#41;</span>*sinc<span class="br0">&#40;</span>k*D/T<span class="br0">&#41;</span>;
<span class="kw1">end</span>
&nbsp;
<span class="co1">% Plot magnitude of pulse's coefficients</span>
h = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/figure.html"><span class="kw2">figure</span></a>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/stem.html"><span class="kw2">stem</span></a><span class="br0">&#40;</span>kv, <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/abs.html"><span class="kw2">abs</span></a><span class="br0">&#40;</span>coef<span class="br0">&#41;</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/xlabel.html"><span class="kw2">xlabel</span></a><span class="br0">&#40;</span><span class="co2">'Frequency component (k)'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/ylabel.html"><span class="kw2">ylabel</span></a><span class="br0">&#40;</span><span class="co2">'Magnitude of component'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/title.html"><span class="kw2">title</span></a><span class="br0">&#40;</span><span class="co2">'Input Fourier coefficients'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/hold.html"><span class="kw2">hold</span></a> on;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/plot.html"><span class="kw2">plot</span></a><span class="br0">&#40;</span>kv, <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/abs.html"><span class="kw2">abs</span></a><span class="br0">&#40;</span>coef<span class="br0">&#41;</span>, <span class="co2">'r--'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/print.html"><span class="kw2">print</span></a><span class="br0">&#40;</span>h, <span class="co2">'-dpng'</span>, <span class="co2">'coef_pulse.png'</span><span class="br0">&#41;</span>;
&nbsp;
<span class="co1">% Compute coefficients of output after lp filter</span>
fcoef = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/zeros.html"><span class="kw2">zeros</span></a><span class="br0">&#40;</span>N,<span class="nu0">1</span><span class="br0">&#41;</span>;
fc = <span class="nu0">10</span>/T;
RC = <span class="nu0">1</span>/<span class="br0">&#40;</span><span class="nu0">2</span>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/pi.html"><span class="kw2">pi</span></a>*fc<span class="br0">&#41;</span>;
<span class="kw1">for</span> <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a>=<span class="nu0">1</span>:N
    k = kv<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span>;
    fcoef<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span> = coef<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span> / <span class="br0">&#40;</span><span class="nu0">1</span>+<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/j.html"><span class="kw2"><span class="re0">j</span></span></a>*<span class="nu0">2</span>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/pi.html"><span class="kw2">pi</span></a>*RC*k/T<span class="br0">&#41;</span>;
<span class="kw1">end</span>
&nbsp;
<span class="co1">% Plot magnitude of output's coefficients</span>
h = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/figure.html"><span class="kw2">figure</span></a>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/stem.html"><span class="kw2">stem</span></a><span class="br0">&#40;</span>kv, <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/abs.html"><span class="kw2">abs</span></a><span class="br0">&#40;</span>fcoef<span class="br0">&#41;</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/xlabel.html"><span class="kw2">xlabel</span></a><span class="br0">&#40;</span><span class="co2">'Frequency component (k)'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/ylabel.html"><span class="kw2">ylabel</span></a><span class="br0">&#40;</span><span class="co2">'Magnitude of component'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/title.html"><span class="kw2">title</span></a><span class="br0">&#40;</span><span class="co2">'Output Fourier coefficients'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/hold.html"><span class="kw2">hold</span></a> on;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/plot.html"><span class="kw2">plot</span></a><span class="br0">&#40;</span>kv, <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/abs.html"><span class="kw2">abs</span></a><span class="br0">&#40;</span>fcoef<span class="br0">&#41;</span>, <span class="co2">'r--'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/print.html"><span class="kw2">print</span></a><span class="br0">&#40;</span>h, <span class="co2">'-dpng'</span>, <span class="co2">'coef_out.png'</span><span class="br0">&#41;</span>;
&nbsp;
<span class="co1">%Construct output signal with the computed coefficients</span>
sr = <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/zeros.html"><span class="kw2">zeros</span></a><span class="br0">&#40;</span><span class="nu0">1</span>, T<span class="br0">&#41;</span>;
<span class="kw1">for</span> t=<span class="nu0">1</span>:T
    <span class="kw1">for</span> <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a>=<span class="nu0">1</span>:N
        <span class="kw1">if</span> kv<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span> ~= <span class="nu0">0</span>
            sr<span class="br0">&#40;</span>t<span class="br0">&#41;</span> = sr<span class="br0">&#40;</span>t<span class="br0">&#41;</span> + fcoef<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/exp.html"><span class="kw2">exp</span></a><span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/j.html"><span class="kw2"><span class="re0">j</span></span></a>*<span class="nu0">2</span>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/pi.html"><span class="kw2">pi</span></a>*kv<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span>*t/T<span class="br0">&#41;</span> <span class="sy0">...</span>
                    + <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/conj.html"><span class="kw2">conj</span></a><span class="br0">&#40;</span>fcoef<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span><span class="br0">&#41;</span>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/exp.html"><span class="kw2">exp</span></a><span class="br0">&#40;</span>-<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/j.html"><span class="kw2"><span class="re0">j</span></span></a>*<span class="nu0">2</span>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/pi.html"><span class="kw2">pi</span></a>*kv<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span>*t/T<span class="br0">&#41;</span>;
        <span class="kw1">else</span>
            sr<span class="br0">&#40;</span>t<span class="br0">&#41;</span> = sr<span class="br0">&#40;</span>t<span class="br0">&#41;</span> + fcoef<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/exp.html"><span class="kw2">exp</span></a><span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/j.html"><span class="kw2"><span class="re0">j</span></span></a>*<span class="nu0">2</span>*<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/pi.html"><span class="kw2">pi</span></a>*kv<span class="br0">&#40;</span><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/i.html"><span class="kw2"><span class="re0">i</span></span></a><span class="br0">&#41;</span>*t/T<span class="br0">&#41;</span>;
        <span class="kw1">end</span>
    <span class="kw1">end</span>
<span class="kw1">end</span>
&nbsp;
h=<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/figure.html"><span class="kw2">figure</span></a>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/plot.html"><span class="kw2">plot</span></a><span class="br0">&#40;</span><span class="nu0">1</span>:T, sr<span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/ylim.html"><span class="kw2">ylim</span></a><span class="br0">&#40;</span><span class="br0">&#91;</span>-A, A<span class="br0">&#93;</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/title.html"><span class="kw2">title</span></a><span class="br0">&#40;</span><span class="co2">'Output filtered signal s(t)'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/ylabel.html"><span class="kw2">ylabel</span></a><span class="br0">&#40;</span><span class="co2">'Amplitude'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/xlabel.html"><span class="kw2">xlabel</span></a><span class="br0">&#40;</span><span class="co2">'Time'</span><span class="br0">&#41;</span>;
<a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/print.html"><span class="kw2">print</span></a><span class="br0">&#40;</span>h, <span class="co2">'-dpng'</span>, <span class="co2">'output_signal.png'</span><span class="br0">&#41;</span>;</pre>

<p>
<p><div class="noteclassic">
If time allows and some of the students are interested, it would be nice to make a SPICE simulation
(e.g. on ngspice.com) with a pulse signal and an RC low-pass filter to check that the output
of the simulation is similar to what we did in MATLAB.
</p>

<p>
Here is an example of what to write in ngspice to get the “shark teeth” (for fc=ft):
</p>
<pre class="code">*RC Filter Transient example
	
V1 in 0 PULSE(0 1 1ns 1ns 1ns 40us 200us)
R1 in out 3.2k
C1 out 0 10n
	
.TRAN 10n 1m
.end</pre>

<p>
Change the capacitor value to modify the effect of the filter (smaller values mean a weaker filtering, while larger values mean a stronger filtering).

</div></p>
</p>

<p>

</div></p>
</p>

</div>
<!-- EDIT2 SECTION "Semnale in domeniul frecventa" [30-] --></div>
</body>
</html>
