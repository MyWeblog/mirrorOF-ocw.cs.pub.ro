    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>programare:laboratoare:lab13</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2016-10-04T21:55:22+0300"/>
<meta name="keywords" content="programare,laboratoare,lab13"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../../feed.php%3Fmode=list&amp;ns=programare:laboratoare"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="lab13.html"/>
<link rel="canonical" href="../../../../programare/laboratoare/lab13.html"/>
<link rel="stylesheet" type="text/css" href="../../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1476798676.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='programare:laboratoare';var JSINFO = {"id":"programare:laboratoare:lab13","namespace":"programare:laboratoare","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../../lib/exe/js.php%3Ftseed=1476798676"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level2"><div class="li"><a href="lab13.html#laboratorul_13_recapitulare">Laboratorul 13. Recapitulare</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="lab13.html#obiective">Obiective</a></div></li>
<li class="level3"><div class="li"><a href="lab13.html#exercitii_de_laborator">Exerciţii de Laborator</a></div></li>
<li class="level3"><div class="li"><a href="lab13.html#teste_recapitulative">Teste recapitulative</a></div>
<ul class="toc">
<li class="level4"><div class="li"><a href="lab13.html#testul_1">Testul 1</a></div></li>
<li class="level4"><div class="li"><a href="lab13.html#testul_2">Testul 2</a></div></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h2 class="sectionedit1" id="laboratorul_13_recapitulare">Laboratorul 13. Recapitulare</h2>
<div class="level2">

<p>
<strong>Responsabili:</strong>
</p>
<ul>
<li class="level1"><div class="li"> <a href="mailto:&#x66;&#x6c;&#x6f;&#x72;&#x69;&#x6e;&#x2e;&#x70;&#x6f;&#x70;&#x40;&#x63;&#x73;&#x2e;&#x70;&#x75;&#x62;&#x2e;&#x72;&#x6f;" class="mail" title="&#x66;&#x6c;&#x6f;&#x72;&#x69;&#x6e;&#x2e;&#x70;&#x6f;&#x70;&#x40;&#x63;&#x73;&#x2e;&#x70;&#x75;&#x62;&#x2e;&#x72;&#x6f;">Florin Pop</a>, <a href="mailto:&#x67;&#x65;&#x6f;&#x72;&#x67;&#x65;&#x2e;&#x70;&#x6f;&#x70;&#x65;&#x73;&#x63;&#x75;&#x40;&#x63;&#x73;&#x2e;&#x70;&#x75;&#x62;&#x2e;&#x72;&#x6f;" class="mail" title="&#x67;&#x65;&#x6f;&#x72;&#x67;&#x65;&#x2e;&#x70;&#x6f;&#x70;&#x65;&#x73;&#x63;&#x75;&#x40;&#x63;&#x73;&#x2e;&#x70;&#x75;&#x62;&#x2e;&#x72;&#x6f;">George Popescu</a></div>
</li>
</ul>

</div>
<!-- EDIT1 SECTION "Laboratorul 13. Recapitulare" [1-147] -->
<h3 class="sectionedit2" id="obiective">Obiective</h3>
<div class="level3">

<p>
În urma parcurgerii acestui laborator, studentul va fi capabil:
</p>
<ul>
<li class="level1"><div class="li"> să-şi estimeze gradul de acoperire al cunoştinţelor la Programare;</div>
</li>
<li class="level1"><div class="li"> să-şi facă o privire de ansamblu mai bună asupra noţiunilor învăţate la laborator şi a modului în care acestea sunt legate între ele;</div>
</li>
</ul>

</div>
<!-- EDIT2 SECTION "Obiective" [148-458] -->
<h3 class="sectionedit3" id="exercitii_de_laborator">Exerciţii de Laborator</h3>
<div class="level3">

<p>
* <code>[Easy]</code> Scrieţi un program care citeşte un număr <code>n</code> de la tastatură şi apoi alte <code>n*n</code> numere reale, pe care le plasează într-o matrice pătratică, alocată static, de dimensiune <code>n</code>. Să se sorteze apoi aceste numere crescător, de la stânga la dreapta şi de sus în jos, fără a folosi alţi vectori sau matrice, şi apoi să se afişeze matricea sortată.
</p>

<p>
* <code>[Easy]</code> Scrieţi un program care primește ca parametri un cuvânt şi apoi numele unui fișier text, apoi crează un nou fișier text pe baza primului fișier, în care toate literele din cuvântul citit vor fi înlocuite cu caracterul &#039;*&#039;.
</p>

<p>
* <code>[Medium]</code> Scrieţi un program care defineşte un vector de 10 numere întregi, pe care îl iniţializează apoi cu numere de la 0 la 9 şi apoi afişează conţinutul memoriei ocupate de vector, octet cu octet, fiecare octet fiind afişat cu două cifre hexazecimale. 
</p>

<p>
* <code>[Medium]</code> a) Care este diferenţa dintre următoarele două expresii? Explicaţi concluzia.
</p>
<pre class="code c"><span class="kw4">int</span> expr <span class="sy0">=</span> <span class="br0">&#40;</span>a <span class="sy0">+</span> b<span class="br0">&#41;</span><span class="sy0">*</span><span class="br0">&#40;</span>c <span class="sy0">-</span> d<span class="br0">&#41;</span><span class="sy0">;</span></pre>
<pre class="code c"><span class="kw4">int</span> expr <span class="sy0">=</span> <span class="br0">&#40;</span><span class="br0">&#40;</span>a <span class="sy0">+</span> b<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">*</span><span class="br0">&#40;</span><span class="br0">&#40;</span>c <span class="sy0">-</span> d<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>

<p>
b) Care este diferenţa dintre următoarele două expresii? Explicaţi concluzia.
</p>
<pre class="code c"><a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;Hello there, %s!<span class="es1">\n</span>&quot;</span><span class="sy0">,</span> <span class="st0">&quot;student&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
<pre class="code c"><a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="br0">&#40;</span><span class="st0">&quot;Hello there, %s!<span class="es1">\n</span>&quot;</span><span class="sy0">,</span> <span class="st0">&quot;student&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>

<p>
* <code>[Hard]</code> Fie următoarea structură:
</p>
<pre class="code c"><span class="kw4">struct</span> test_struct <span class="br0">&#123;</span>
  <span class="kw4">char</span> a<span class="sy0">;</span>
  <span class="kw4">short</span> b<span class="sy0">;</span>
  <span class="kw4">char</span> c<span class="sy0">;</span>
  <span class="kw4">int</span> d<span class="sy0">;</span>
<span class="br0">&#125;</span><span class="sy0">;</span></pre>

<p>
Scrieţi un program care defineşte această structură şi o variabilă de acest tip şi care afişează diferenţa dintre dimensiunea totală a structurii (calculată cu operatorul <code>sizeof</code>) şi suma dimensiunilor fiecărui câmp în parte al structurii. Explicaţi rezultatul obţinut.
</p>

<p>
<code>&#039;SOLUŢIE:</code>&#039;
</p>
<pre class="code c"><span class="co2">#include &lt;stdio.h&gt;</span>
&nbsp;
<span class="kw4">struct</span> test_struct <span class="br0">&#123;</span>
  <span class="kw4">char</span> a<span class="sy0">;</span>
  <span class="kw4">short</span> b<span class="sy0">;</span>
  <span class="kw4">char</span> c<span class="sy0">;</span>
  <span class="kw4">int</span> d<span class="sy0">;</span>
<span class="br0">&#125;</span><span class="sy0">;</span><span class="co1">// __attribute__((packed));</span>
<span class="co1">//decomentati linia anterioara pentru a instrui compilatorul sa nu mai puna</span>
<span class="co1">// &quot;padding&quot; in structuri.</span>
&nbsp;
<span class="kw4">int</span> main<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
  <span class="kw4">struct</span> test_struct t<span class="sy0">;</span>
  <span class="kw4">void</span> <span class="sy0">*</span>start<span class="sy0">,</span> <span class="sy0">*</span>offset<span class="sy0">;</span>
&nbsp;
  <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;sizeof(struct): %d<span class="es1">\n</span>&quot;</span><span class="sy0">,</span> <span class="kw4">sizeof</span><span class="br0">&#40;</span>t<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;sum(sizeof(campuri)): %d<span class="es1">\n</span>&quot;</span><span class="sy0">,</span>
      <span class="kw4">sizeof</span><span class="br0">&#40;</span>t.<span class="me1">a</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="kw4">sizeof</span><span class="br0">&#40;</span>t.<span class="me1">b</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="kw4">sizeof</span><span class="br0">&#40;</span>t.<span class="me1">c</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="kw4">sizeof</span><span class="br0">&#40;</span>t.<span class="me1">d</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  <span class="co1">//Bonus, afisarea pozitiilor fiecarui camp in structura. Ce se afiseaza</span>
  <span class="co1">//daca se mentine si atributul __attribute__((packed)) in declaratia</span>
  <span class="co1">//structurii?</span>
  start <span class="sy0">=</span> <span class="sy0">&amp;</span>t<span class="sy0">;</span>
  offset <span class="sy0">=</span> <span class="sy0">&amp;</span>t.<span class="me1">a</span><span class="sy0">;</span>
  <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;Offset a: %d<span class="es1">\n</span>&quot;</span><span class="sy0">,</span> offset <span class="sy0">-</span> start<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  offset <span class="sy0">=</span> <span class="sy0">&amp;</span>t.<span class="me1">b</span><span class="sy0">;</span>
  <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;Offset b: %d<span class="es1">\n</span>&quot;</span><span class="sy0">,</span> offset <span class="sy0">-</span> start<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  offset <span class="sy0">=</span> <span class="sy0">&amp;</span>t.<span class="me1">c</span><span class="sy0">;</span>
  <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;Offset c: %d<span class="es1">\n</span>&quot;</span><span class="sy0">,</span> offset <span class="sy0">-</span> start<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  offset <span class="sy0">=</span> <span class="sy0">&amp;</span>t.<span class="me1">d</span><span class="sy0">;</span>
  <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;Offset d: %d<span class="es1">\n</span>&quot;</span><span class="sy0">,</span> offset <span class="sy0">-</span> start<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  <span class="kw1">return</span> <span class="nu0">0</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

<p>
* <code>[Medium]</code> Definiţi macro-ul <code>for_each(vect, n, val)</code>, care să reprezinte antetul unei bucle de iteraţie prin elementele de tip <code>int</code> ale vectorului <code>vect</code>. <code>n</code> reprezintă numărul de elemente ale vectorului şi <code>val</code> numele unei variabile care să conţină valoarea curentă din iteraţie. Un exemplu de funcţie care foloseşte acest macro arată astfel:
</p>
<pre class="code c"><span class="kw4">void</span> afiseaza<span class="br0">&#40;</span><span class="kw4">int</span> <span class="sy0">*</span>v<span class="sy0">,</span> <span class="kw4">int</span> n<span class="br0">&#41;</span> <span class="br0">&#123;</span>
  <span class="kw4">int</span> crt_val<span class="sy0">;</span>
&nbsp;
  for_each<span class="br0">&#40;</span>v<span class="sy0">,</span> n<span class="sy0">,</span> crt_val<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;%d &quot;</span><span class="sy0">,</span> crt_val<span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span>
  <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;<span class="es1">\n</span>&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

<p>
* <code>[Medium]</code> Implementaţi funcţiile:
</p>
<pre class="code c"><span class="kw4">int</span> max<span class="br0">&#40;</span><span class="kw4">int</span> a<span class="sy0">,</span> <span class="kw4">int</span> b<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw4">int</span> min<span class="br0">&#40;</span><span class="kw4">int</span> a<span class="sy0">,</span> <span class="kw4">int</span> b<span class="br0">&#41;</span><span class="sy0">;</span></pre>

<p>
care calculează maximul, respectiv minimul dintre două numere fără a folosi nici o comparaţie (instrucţiune <code>if</code> sau operatorul ternar). Scrieţi apoi un program care primeşte două numere întregi ca parametri <code>&#039;în linia de comandă</code>&#039; şi afişează maximul şi minimul folosind cele două funcţii definite mai sus.
</p>

<p>
* <code>[Hard]</code> Fie programul C simplu de mai jos:
</p>
<pre class="code c"><span class="kw4">int</span> func<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
  <span class="kw1">return</span> <span class="nu0">1</span> <span class="sy0">+</span> <span class="nu0">2</span> <span class="sy0">+</span> <span class="nu0">3</span> <span class="sy0">+</span> <span class="nu0">4</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="kw4">int</span> main<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
  <span class="kw1">return</span> func<span class="br0">&#40;</span><span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">20</span><span class="sy0">,</span> <span class="nu0">30</span><span class="sy0">,</span> <span class="nu0">40</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

<p>
Încercaţi să-l compilaţi. Ce observaţi? Ce explicaţie aveţi pentru acest comportament?
</p>

<p>
* <code>[Medium]</code> Implementaţi funcţiile:
</p>
<pre class="code c"><span class="kw4">int</span> sort<span class="br0">&#40;</span><span class="kw4">void</span> <span class="sy0">*</span> <span class="sy0">,</span> <span class="kw4">int</span> <span class="br0">&#40;</span><span class="sy0">*</span>f<span class="br0">&#41;</span> <span class="br0">&#40;</span><span class="kw4">void</span> <span class="sy0">*,</span> <span class="kw4">void</span><span class="sy0">*</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="co1">//funcţie care sortează un vector si foloseste drept comparator functia f.</span>
&nbsp;
<span class="kw4">int</span> comparator <span class="br0">&#40;</span><span class="kw4">void</span> <span class="sy0">*</span> a<span class="sy0">,</span> <span class="kw4">void</span> <span class="sy0">*</span> b<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="co1">//funcţie care întoarce un număr negativ dacă a&lt;b, 0 pentru a==b, un număr pozitiv pentru a&gt;b, particularizată pentru numere întregi.</span></pre>

<p>
Scrieţi apoi un program care primeşte ca parametru al liniei de comandă un nume de fişier care este de forma:
</p>

<p>
N
</p>

<p>
A1 A2 A3 … An 
</p>

<p>
unde:
</p>

<p>
N→ numărul de elemente ale vectorului
</p>

<p>
Ai → numere întregi.
</p>

<p>
<code>&#039;SOLUŢIE:</code>&#039;
</p>
<pre class="code c"><span class="co2">#include &lt;stdio.h&gt;</span>
&nbsp;
<span class="co1">//functia de sortare generica</span>
<span class="kw4">int</span> sort<span class="br0">&#40;</span><span class="kw4">void</span> <span class="sy0">*</span> v<span class="sy0">,</span> <span class="kw4">int</span> n<span class="sy0">,</span> <span class="kw4">int</span> size<span class="sy0">,</span> <span class="kw4">int</span> <span class="br0">&#40;</span><span class="sy0">*</span>f<span class="br0">&#41;</span> <span class="br0">&#40;</span><span class="kw4">void</span> <span class="sy0">*,</span> <span class="kw4">void</span><span class="sy0">*</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
  <span class="kw4">int</span> i<span class="sy0">,</span>j<span class="sy0">;</span>
  <span class="kw4">void</span> <span class="sy0">*</span>aux <span class="sy0">=</span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/malloc.html"><span class="kw3">malloc</span></a><span class="br0">&#40;</span>size<span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> n<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">for</span> <span class="br0">&#40;</span>j <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> j <span class="sy0">&lt;</span> n<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
      <span class="co1">//incrementarea pointerilor void* se face cu 1</span>
      <span class="kw1">if</span> <span class="br0">&#40;</span>f<span class="br0">&#40;</span>v <span class="sy0">+</span> i<span class="sy0">*</span>size<span class="sy0">,</span> v <span class="sy0">+</span> j<span class="sy0">*</span>size<span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <a href="http://www.opengroup.org/onlinepubs/009695399/functions/memcpy.html"><span class="kw3">memcpy</span></a><span class="br0">&#40;</span>aux<span class="sy0">,</span> v <span class="sy0">+</span> i<span class="sy0">*</span>size<span class="sy0">,</span> size<span class="br0">&#41;</span><span class="sy0">;</span>
        <a href="http://www.opengroup.org/onlinepubs/009695399/functions/memcpy.html"><span class="kw3">memcpy</span></a><span class="br0">&#40;</span>v <span class="sy0">+</span> i<span class="sy0">*</span>size<span class="sy0">,</span> v <span class="sy0">+</span> j<span class="sy0">*</span>size<span class="sy0">,</span> size<span class="br0">&#41;</span><span class="sy0">;</span>
        <a href="http://www.opengroup.org/onlinepubs/009695399/functions/memcpy.html"><span class="kw3">memcpy</span></a><span class="br0">&#40;</span>v <span class="sy0">+</span> j<span class="sy0">*</span>size<span class="sy0">,</span> aux<span class="sy0">,</span> size<span class="br0">&#41;</span><span class="sy0">;</span>
      <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
  <span class="br0">&#125;</span>
&nbsp;
<span class="br0">&#125;</span>
&nbsp;
<span class="co1">//functia care compara doua elemente date prin pointeri void* </span>
<span class="kw4">int</span> comparator <span class="br0">&#40;</span><span class="kw4">void</span> <span class="sy0">*</span> a<span class="sy0">,</span> <span class="kw4">void</span> <span class="sy0">*</span> b<span class="br0">&#41;</span> <span class="br0">&#123;</span>
  <span class="kw1">return</span> <span class="sy0">*</span><span class="br0">&#40;</span><span class="br0">&#40;</span><span class="kw4">int</span><span class="sy0">*</span><span class="br0">&#41;</span>a<span class="br0">&#41;</span> <span class="sy0">-</span> <span class="sy0">*</span><span class="br0">&#40;</span><span class="br0">&#40;</span><span class="kw4">int</span><span class="sy0">*</span><span class="br0">&#41;</span>b<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
&nbsp;
&nbsp;
<span class="kw4">int</span> main<span class="br0">&#40;</span><span class="kw4">int</span> argc<span class="sy0">,</span> <span class="kw4">char</span> <span class="sy0">*</span>argv<span class="br0">&#91;</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
  <span class="kw1">if</span> <span class="br0">&#40;</span>argc <span class="sy0">&lt;</span> <span class="nu0">2</span><span class="br0">&#41;</span>
    <span class="kw1">return</span> <span class="nu0">1</span><span class="sy0">;</span>
&nbsp;
  FILE <span class="sy0">*</span> f <span class="sy0">=</span> <a href="http://www.opengroup.org/onlinepubs/009695399/functions/fopen.html"><span class="kw3">fopen</span></a><span class="br0">&#40;</span>argv<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="sy0">,</span> <span class="st0">&quot;r&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  <span class="co1">//citire din fisier si alocare de memorie</span>
  <span class="kw4">int</span> i<span class="sy0">,</span> <span class="sy0">*</span>v<span class="sy0">,</span> n<span class="sy0">;</span>
  <a href="http://www.opengroup.org/onlinepubs/009695399/functions/fscanf.html"><span class="kw3">fscanf</span></a><span class="br0">&#40;</span>f<span class="sy0">,</span> <span class="st0">&quot;%d&quot;</span><span class="sy0">,</span> <span class="sy0">&amp;</span>n<span class="br0">&#41;</span><span class="sy0">;</span>
  v <span class="sy0">=</span> <span class="br0">&#40;</span><span class="kw4">int</span><span class="sy0">*</span><span class="br0">&#41;</span><a href="http://www.opengroup.org/onlinepubs/009695399/functions/malloc.html"><span class="kw3">malloc</span></a><span class="br0">&#40;</span>n <span class="sy0">*</span> <span class="kw4">sizeof</span><span class="br0">&#40;</span><span class="kw4">int</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> n<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <a href="http://www.opengroup.org/onlinepubs/009695399/functions/fscanf.html"><span class="kw3">fscanf</span></a><span class="br0">&#40;</span>f<span class="sy0">,</span> <span class="st0">&quot;%d&quot;</span><span class="sy0">,</span> <span class="sy0">&amp;</span>v<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span>
&nbsp;
  <a href="http://www.opengroup.org/onlinepubs/009695399/functions/fclose.html"><span class="kw3">fclose</span></a><span class="br0">&#40;</span>f<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  <span class="co1">//afisare date initiale</span>
  <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> n<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;%d &quot;</span><span class="sy0">,</span> v<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span>
  <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;<span class="es1">\n</span>&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  <span class="co1">//sortare si afisare dupa sortare</span>
  sort<span class="br0">&#40;</span>v<span class="sy0">,</span> n<span class="sy0">,</span> <span class="kw4">sizeof</span><span class="br0">&#40;</span><span class="kw4">int</span><span class="br0">&#41;</span><span class="sy0">,</span> comparator<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> n<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;%d &quot;</span><span class="sy0">,</span> v<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>

<p>
* <code>[Hardcore]</code> Într-un fişier MP3 datele legate de titlul melodiei, artist, album, etc sunt stocate conform cu standardul ID3, într-o structură numită <code>tag ID3</code>. Această structură ocupă ultimii 128 octeţi din fişier (vezi descrierea detaliată în continuare). Prezenţa sa este determinată de primii 3 octeţi din tag. Astfel, dacă primii 3 octeţi din cei 128 conţin caracterele <code>TAG</code> atunci tagul ID3 este prezent. Altfel, se consideră că este absent.
</p>

<p>
Câmpurile unui tag ID3 sunt reprezentate în fişier pe ultimii 128 de octeţi, după cum urmează:
</p>
<div class="table sectionedit4"><table class="inline">
	<tr class="row0">
		<th class="col0"> Field </th><th class="col1"> Length </th>
	</tr>
	<tr class="row1">
		<td class="col0"> header </td><td class="col1"> 3 </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> title  </td><td class="col1"> 30</td>
	</tr>
	<tr class="row3">
		<td class="col0"> artist </td><td class="col1"> 30</td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> album  </td><td class="col1"> 30</td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> year   </td><td class="col1"> 4 </td>
	</tr>
	<tr class="row6">
		<td class="col0"> comment</td><td class="col1"> 28 or 30 </td>
	</tr>
	<tr class="row7">
		<td class="col0"> zero-byte </td><td class="col1"> 1 </td>
	</tr>
	<tr class="row8">
		<td class="col0"> track </td><td class="col1"> 1 </td>
	</tr>
	<tr class="row9">
		<td class="col0"> genre </td><td class="col1"> 1 </td>
	</tr>
</table></div>
<!-- EDIT4 TABLE [6636-7121] -->
<p>
Se cere să realizaţi un program care, primind în linia de comandă o serie de nume de fişiere mp3 să afişeze (în cazul în care există):
# numele artistului
# titlul melodiei
# titlul albumului
# anul înregistrării
# genul melodiei
Numele genurilor vor fi citite din fisierul <code>genres.dat</code>. Fişierul <code>genres.dat</code> conţine un număr de linii, fiecare linie conţinând indexul genului şi numele lui.
</p>

<p>
* <code>[Medium]</code> Scrieţi un program care primeşte ca parametru un nume de fişier şi îi afişează pe ecran conţinutul în hexazecimal, pe linii de câte 64 de caractere (asemănător cu utilitarul <code>hexdump</code> din Linux).
</p>

<p>
* <code>[Medium]</code> Scrieţi un program care permite căutarea unui cuvânt sau a unei măşti într-un text. Masca poate conţine caractere (care vor fi verificate ca atare) sau caracterul <code>?</code> cu semnificaţia că poate fi înlocuit cu orice caracter. Textul se va citi dintr-un fişier al cărui nume va fi trimis ca parametru în linia de comandă. Se vor afişa cuvintele găsite şi linia pe care au fost găsite.
</p>

</div>
<!-- EDIT3 SECTION "Exerciţii de Laborator" [459-8180] -->
<h3 class="sectionedit5" id="teste_recapitulative">Teste recapitulative</h3>
<div class="level3">

</div>

<h4 id="testul_1">Testul 1</h4>
<div class="level4">

<p>
1. (task1.c) Fie funcţiile definite astfel: 
</p>
<pre class="code c"><span class="kw4">int</span> functie<span class="br0">&#40;</span><span class="kw4">void</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw4">int</span> functie<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>

<p>
Sunt cele două definiţii echivalente? Scrieţi un program C care să justifice răspunsul dat. 
</p>

<p>
2. (task2.c) Scrieţi un program care să afişeze propriul cod sursă.
</p>

<p>
3. (task3.c) Rezolvaţi următoarele cerinţe:
</p>
<ul>
<li class="level1"><div class="li"> 3.1 Definiţi structura <code>Numar_Complex</code>, cu câmpurile parte reală, parte imaginară.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> 3.2. Definiţi funcţia <code>Numar_Complex* citire (char *filename,int *n)</code>, care să citească din fişierul dat ca parametru numărul natural n, după care să aloce un vector de n numere complexe, care se vor citi apoi de pe următoarele n linii ale fişierului.</div>
</li>
</ul>

<p>
Formatul fisierului:
</p>

<p>
 n
 x1 y1
 x2 y2
 …
 xn yn
</p>
<ul>
<li class="level1"><div class="li"> 3.3 Scrieţi un program care citeşte un vector de n numere complexe folosind funcţia de la punctul precedent, şi apoi afişează numărul de modul maxim şi poziţia acestuia în vector.</div>
</li>
</ul>

<p>
4. (task4.c) Scrieţi un program care poate primi (ca argumente în linia de comandă) opţiunile “-a” şi “-p”. Programul primeşte ca prim parametru în linia de comandă un număr întreg n. 
</p>

<p>
*Opţiunea “-a” va avea ca efect afişarea adresei variabilei din program în care se reţine numărul. 
*Opţiunea “-p” va avea ca efect afişarea pătratului numarului. Pentru a calcula pătratul numărului se va folosi o macroinscructiune. 
*Se permite rularea executabilului cu ambele opţiuni, caz în care se va afişa atât adresa variabilei cât şi pătratul valorii. La rularea executabilului fără opţiuni, nu se va afiţa nimic. 
*Se va afişa un mesaj de eroare în oricare dintre cazurile: lipsa parametrului n, parametrii nu sunt cei specificaţi mai sus, număr prea mare de parametri. 
</p>

<p>
5. (task5.c) Scrieţi un program care interschimbă două variabile x şi y, fără a folosi o variabilă auxiliară.
</p>

<p>
6. Modificaţi următorul fişier makefile, astfel încât executabilul de la problema 4 să se numească task6.
</p>
<pre class="code c"> <span class="co2">#makefile</span>
&nbsp;
 CC<span class="sy0">=</span>gcc 
 CFLAGS<span class="sy0">=-</span>Wall
&nbsp;
 all<span class="sy0">:</span> task1 task2 task3 task4 task5 
&nbsp;
 task1<span class="sy0">:</span> task1.<span class="me1">c</span> 
 task2<span class="sy0">:</span> task2.<span class="me1">c</span> 
 task3<span class="sy0">:</span> task3.<span class="me1">c</span>
 task4<span class="sy0">:</span> task4.<span class="me1">c</span> 
 task5<span class="sy0">:</span> task5.<span class="me1">c</span> </pre>

</div>

<h4 id="testul_2">Testul 2</h4>
<div class="level4">

<p>
1. (task1.c) De ce urmatorul program nu afişează rezultatul corect/aşteptat?
</p>
<pre class="code c"><span class="co2">#include &lt;stdio.h&gt;</span>
&nbsp;
<span class="kw4">int</span> main<span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
  <span class="kw4">float</span> f<span class="sy0">=</span><span class="nu17">0.0f</span><span class="sy0">;</span>
  <span class="kw4">int</span> i<span class="sy0">;</span>
  <span class="kw1">for</span><span class="br0">&#40;</span>i<span class="sy0">=</span><span class="nu0">0</span><span class="sy0">;</span>i<span class="sy0">&lt;</span><span class="nu0">10</span><span class="sy0">;</span>i<span class="sy0">++</span><span class="br0">&#41;</span>
    f <span class="sy0">=</span> f <span class="sy0">+</span> <span class="nu17">0.1f</span><span class="sy0">;</span>
&nbsp;
  <span class="kw1">if</span><span class="br0">&#40;</span>f <span class="sy0">==</span> <span class="nu17">1.0f</span><span class="br0">&#41;</span>
    <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;f is 1.0 <span class="es1">\n</span>&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="kw1">else</span>
    <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;f is NOT 1.0<span class="es1">\n</span>&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  <span class="kw1">return</span> <span class="nu0">0</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

<p>
2. (task2.c) Scrieţi un program care să afişeze câţi biţi dintr-un număr reprezentat pe 4 octeţi sunt 1. 
</p>

<p>
3. (task3.c) Rezolvaţi următoarele cerinţe:
</p>
<ul>
<li class="level1"><div class="li"> 3.1 Definiţi structura Numar_Real, cu câmpurile parte întreagă, parte fracţionară.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> 3.2 Definiţi funcţia <code>Numar_Real* citire(char *filename,int *n)</code>, care să citească din fişierul dat ca parametru dimensiunea vectorului v, să îl aloce dinamic, apoi să citeasca n numere reale, şi să le reţină într-un vector, sub formă de structuri definite ca la punctul precedent.</div>
</li>
</ul>

<p>
Formatul fişierului:
</p>

<p>
 n
 nr_1
 nr_2
 …
 nr_n
</p>
<ul>
<li class="level1"><div class="li"> 3.3 Scrieţi un program care să testeze funcţia de citire de la punctul precedent, afişând numerele din vector în ordinea crescătoare a părţii fracţionare. Afişarea se va face în forma:</div>
</li>
</ul>

<p>
i1 f1
i2 f2
…
in fn,
unde i reprezintă partea întreagă, iar f partea fracţionară.
</p>

<p>
4. (task4.c) Scrieţi un program care primeşte (ca argumente în linia de comandă) două numere <code>a</code> şi <code>b</code>, şi poate primi una dintre opţiunile: “-m” sau “-f”. 
* Veţi defini un macro care calculează minimul dintre a şi b, precum şi o funcţie cu acelaşi scop: &lt;tt&gt;int minim(int a, int b)&lt;/tt&gt;. 
* Dacă este apelat cu optiunea “-m”, programul va afisa minimul dintre a si b,  folosind macrodefinitia. 
* Dacă este apelat cu optiunea “-f”, programul va afişa adresa funcţiei &lt;tt&gt;minim&lt;/tt&gt;. Dacă este apelat cu ambele optiuni, vor fi afişate ambele informaţii.
* Programul va afişa un mesaj de eroare în oricare dintre următoarele cazuri: nu sunt daţi parametrii a şi b (sau unul dintre ei), parametrii nu sunt cei specificaţi mai sus, număr prea mare de parametri. 
</p>

<p>
5. (task5.c) Scrieţi un program care afişează caracterul &#039;;&#039; (cod <abbr title="American Standard Code for Information Interchange">ASCII</abbr>: 59), fără a folosi <code>&#039;deloc</code>&#039; &#039;;&#039; în sursa C. (task5.c) 
</p>

<p>
6. Modificaţi următorul fişier makefile, adăugând o regulă <code>clean</code>, care să şteargă fişierele executabile, precum şi fisierele temporare, ale căror nume se termină cu &#039;~&#039;.
</p>
<pre class="code c"> <span class="co2">#makefile</span>
&nbsp;
 CC<span class="sy0">=</span>gcc 
 CFLAGS<span class="sy0">=-</span>Wall 
&nbsp;
 all<span class="sy0">:</span> task1 task2 task3 task4 task5 
&nbsp;
 task1<span class="sy0">:</span> task1.<span class="me1">c</span> 
 task2<span class="sy0">:</span> task2.<span class="me1">c</span> 
 task3<span class="sy0">:</span> task3.<span class="me1">c</span> 
 task4<span class="sy0">:</span> task4.<span class="me1">c</span> 
 task5<span class="sy0">:</span> task5.<span class="me1">c</span> </pre>

</div>
<!-- EDIT5 SECTION "Teste recapitulative" [8181-] --></div>
</body>
</html>
