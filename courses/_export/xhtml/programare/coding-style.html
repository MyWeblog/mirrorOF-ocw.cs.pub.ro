    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>programare:coding-style</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2013-10-30T10:16:09+0200"/>
<meta name="keywords" content="programare,coding-style"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../feed.php%3Fmode=list&amp;ns=programare"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="coding-style.html"/>
<link rel="canonical" href="../../../programare/coding-style.html"/>
<link rel="stylesheet" type="text/css" href="../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1476798676.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='programare';var JSINFO = {"id":"programare:coding-style","namespace":"programare","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../lib/exe/js.php%3Ftseed=1476798676"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">

<h5 id="coding_style">Coding style</h5>
<div class="level5">

<p>
Codul pe care îl scriem nu este suficient să ruleze corect, el trebuie să și îndeplinească anumite standarde de claritate, concizie si lizibilitate. Fie că lucrăm într-o companie în care mai multe persoane editează același fișier sau ne uităm peste o bucată de cod scrisă cu mult timp în urmă, caracteristicile menționate mai sus trebuie să creeze un standard care sa ajute la o viteză mare de înțelegere a aspectelor codului.
</p>

<p>
Bineînțeles, fiecare limbaj care un coding style propriu, anumite companii pot avea regulile lor, iar fiecare persoană poate avea un stil propriu, dar totuși există un set de reguli generale ce trebuie urmat.
</p>
<ul>
<li class="level1"><div class="li"> Alegeți nume sugestive de variabile si functii. Observati diferența dintre cele doua funcții de mai jos:</div>
</li>
</ul>
<dl class="code">
<dt><a href="../../code/programare/coding-style%3Fcodeblock=0" title="Download Snippet" class="mediafile mf_c">asa_nu.c</a></dt>
<dd><pre class="code c"><span class="kw4">void</span> f<span class="br0">&#40;</span><span class="kw4">char</span><span class="sy0">*</span> a<span class="sy0">,</span> <span class="kw4">char</span><span class="sy0">*</span> b<span class="sy0">,</span> <span class="kw4">char</span><span class="sy0">*</span> c<span class="br0">&#41;</span> <span class="br0">&#123;</span>
  <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;Date personale: %s %s %s<span class="es1">\n</span>&quot;</span><span class="sy0">,</span> a<span class="sy0">,</span> b<span class="sy0">,</span> c<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>
</dd></dl>
<dl class="code">
<dt><a href="../../code/programare/coding-style%3Fcodeblock=1" title="Download Snippet" class="mediafile mf_c">asa_da.c</a></dt>
<dd><pre class="code c"><span class="kw4">void</span> printPersonalData<span class="br0">&#40;</span><span class="kw4">char</span> <span class="sy0">*</span>firstName<span class="sy0">,</span> <span class="kw4">char</span> <span class="sy0">*</span>lastName<span class="sy0">,</span> <span class="kw4">char</span> <span class="sy0">*</span>birthDate<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;Date personale: %s %s %s<span class="es1">\n</span>&quot;</span><span class="sy0">,</span> firstName<span class="sy0">,</span> lastName<span class="sy0">,</span> birthDate<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>
</dd></dl>

<p>
În cazul primei funcții, nu ne puteam da seama de conținutul variabilelor a, b, și c decât dupa rulare (și chiar și asa, tot ar fi existat cazuri în care apăreau confuzii sau neclaritați). De asemenea, numele functiei ar trebui să fie destul de sugestiv astfel încât să nu fie nevoie să ne uităm la corpul său pentru a ne da seama ce face acesta.
</p>
<ul>
<li class="level1"><div class="li"> Folosiți spații între operatori și în cadrul structurilor</div>
</li>
</ul>
<dl class="code">
<dt><a href="../../code/programare/coding-style%3Fcodeblock=2" title="Download Snippet" class="mediafile mf_c">asa_nu.c</a></dt>
<dd><pre class="code c"><span class="kw1">if</span><span class="br0">&#40;</span>i<span class="sy0">&gt;=</span><span class="nu0">2</span><span class="sy0">&amp;&amp;</span><span class="br0">&#40;</span>j<span class="sy0">&lt;=</span><span class="nu0">1</span><span class="sy0">||</span><span class="br0">&#40;</span>c<span class="sy0">+</span>d<span class="sy0">&gt;</span><span class="nu0">4</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
  <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;%d&quot;</span><span class="sy0">,</span>v<span class="br0">&#91;</span>a<span class="br0">&#91;</span>i<span class="sy0">+</span>j<span class="br0">&#93;</span><span class="sy0">+</span>max<span class="br0">&#40;</span>c<span class="sy0">,</span>d<span class="sy0">+</span><span class="nu0">3</span><span class="br0">&#41;</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>
</dd></dl>
<dl class="code">
<dt><a href="../../code/programare/coding-style%3Fcodeblock=3" title="Download Snippet" class="mediafile mf_c">asa_da.c</a></dt>
<dd><pre class="code c"><span class="kw1">if</span> <span class="br0">&#40;</span>i <span class="sy0">&gt;=</span> <span class="nu0">2</span> <span class="sy0">&amp;&amp;</span> <span class="br0">&#40;</span>j <span class="sy0">&lt;=</span> <span class="nu0">1</span> <span class="sy0">||</span> <span class="br0">&#40;</span>c <span class="sy0">+</span> d <span class="sy0">&gt;</span> <span class="nu0">4</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
	<a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;%d&quot;</span><span class="sy0">,</span> v<span class="br0">&#91;</span>a<span class="br0">&#91;</span>i <span class="sy0">+</span> j<span class="br0">&#93;</span> <span class="sy0">+</span> max<span class="br0">&#40;</span>c<span class="sy0">,</span> d <span class="sy0">+</span> <span class="nu0">3</span><span class="br0">&#41;</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>
</dd></dl>

<p>
Care dintre cele două bucăți de cod arată mai aerisit și mai ușor de înțeles :)?
</p>

<p>
De asemenea, lăsați rânduri libere pentru a delimita paragrafe “logice” de cod sau diverse definiții de funcții.
</p>

<p>
Nu uitați, s-ar putea ca și alte persoane să vă citească codul (sau poate chiar voi peste mult timp), așa că scrieți-l într-o  manieră aerisită și ușor de urmârit!
</p>

<p>
<p><div class="noteclassic">
“Always code as if the guy who ends up maintaining your code will be a violent psychopath who knows where you live.”

</div></p>
</p>
<ul>
<li class="level1"><div class="li"> Folosiți o indentare buna! De regulă, dimensiunea tab-ului se stabilește la 4 sau 8 spații (dupa preferințe). Este indicat să folosiți tab-uri (nu spații) și să configurați editorul vostru încât să afișeze tab-ul așa cum preferați. Nu amestecați spații cu tab-uri! Corpul funcțiilor, al instrucțiunilor <code>if-else</code>, <code>for</code>, <code>while</code> trebuie indentat cu un tab in plus față de indentarea funcției sau a instrucțiunii. Evitați scrierea mai multor instrucțiuni pe aceeași linie, nu are nici un avantaj acest lucru, dati enter si continuați pe urmatoarea linie.</div>
</li>
</ul>
<pre class="code c"><span class="kw4">void</span> example<span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="kw4">int</span> a <span class="sy0">=</span> <span class="nu0">2</span><span class="sy0">,</span> b <span class="sy0">=</span> <span class="nu0">2</span><span class="sy0">;</span>
&nbsp;
	<span class="kw1">for</span> <span class="br0">&#40;</span>...<span class="br0">&#41;</span> <span class="br0">&#123;</span>
		<span class="kw1">if</span> <span class="br0">&#40;</span>...<span class="br0">&#41;</span> <span class="br0">&#123;</span>
			instr1<span class="sy0">;</span>
			instr2<span class="sy0">;</span>
		<span class="br0">&#125;</span> <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>...<span class="br0">&#41;</span> <span class="br0">&#123;</span>
			instr3<span class="sy0">;</span>
		<span class="br0">&#125;</span>
&nbsp;
		instr4<span class="sy0">;</span>
&nbsp;
		<span class="kw1">while</span> <span class="br0">&#40;</span>...<span class="br0">&#41;</span> <span class="br0">&#123;</span>
			instr5<span class="sy0">;</span>
			instr6<span class="sy0">;</span>
		<span class="br0">&#125;</span>
	<span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
<ul>
<li class="level1"><div class="li"> Folosiţi acolade chiar şi pentru blocurile de o singură instrucţiune. De ce? Claritatea este sporită, iar în cazul în care dorim să mai adăugăm înca nişte instrucţiuni blocului curent să nu fie nevoie să scriem şi acoladele (sau mai rău, sa uităm să le punem şi sa trăim cu impresia sa respectivele instruţiuni fac parte din blocul curent).</div>
</li>
<li class="level1"><div class="li"> Definiți constante în programul vostru și folosiți-le. De ce? Pe de o parte claritatea, este mult mai ușor să înțelegi ce semnifică constanta <code>PI</code> decât <code>3.14</code>, și pe de altă parte sunt mult mai ușor de modificat (mai bine modifici într-un singur loc decât de x ori în tot programul).</div>
</li>
</ul>
<pre class="code c"><span class="kw1">if</span> <span class="br0">&#40;</span>i <span class="sy0">&lt;</span> <span class="nu0">10</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
 ...
<span class="br0">&#125;</span></pre>
<pre class="code c"><span class="co2">#define MAX_NR_PERSONS 10</span>
&nbsp;
<span class="kw1">if</span> <span class="br0">&#40;</span>i <span class="sy0">&lt;</span> MAX_NR_PERSONS<span class="br0">&#41;</span> <span class="br0">&#123;</span>
 ...
<span class="br0">&#125;</span></pre>
<ul>
<li class="level1"><div class="li"> Codul vostru <strong>nu</strong> trebuie să conțină linii <strong>mai lungi de 80 de caractere</strong>. Daca aveți astfel de linii, spărgeți-le în mai multe. Exemple:</div>
</li>
</ul>
<pre class="code c"><span class="kw1">if</span> <span class="br0">&#40;</span>nr_persons <span class="sy0">&lt;</span> MAX_NR_PERSONS <span class="sy0">&amp;&amp;</span> avg_age <span class="sy0">&gt;</span> <span class="nu0">18</span> <span class="sy0">&amp;&amp;</span>
    <span class="br0">&#40;</span>send_email <span class="sy0">==</span> <span class="kw2">true</span> <span class="sy0">||</span> send_sms <span class="sy0">==</span> <span class="kw2">true</span> <span class="sy0">||</span>
     send_mail <span class="sy0">==</span> <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    ...
  <span class="br0">&#125;</span></pre>
<pre class="code c"><a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">&#40;</span><span class="st0">&quot;Acest printf contine foarte multe caractere &quot;</span>
       <span class="st0">&quot;asa ca m-am hotarat sa il impart pe mai multe &quot;</span>
       <span class="st0">&quot;linii astfel incat coding style-ul sa fie bun&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
<pre class="code c">functionWithLotsOfParameters<span class="br0">&#40;</span>
	parameter1<span class="sy0">,</span>
	parameter2<span class="sy0">,</span>
	parameter3<span class="sy0">,</span>
	parameter4<span class="sy0">,</span>
	parameter5
  <span class="br0">&#41;</span><span class="sy0">;</span></pre>
<ul>
<li class="level1"><div class="li"> Comentați-vă codul! Folosiți destule comentarii cât să asigurați o bună înțelegere a codului, dar nici prea multe, comentând lucruri banale, cum ar fi incrementarea unei variabile. Este recomandat sa dați fiecărei funcții o scurtă descriere legată de ce face acea funcție, explicați porțiuni de cod mai greu de înțeles, sau argumentați semnificația parametrilor transmiși unei funcții (dacă denumirea acestora nu este suficientă).</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Evitați folosirea variabilelor globale. În schimb, transmiteți variabile prin referință funcțiilor ce urmează să le modifice (astfel se observă clar fiecare funcție cu ce variabile lucrează, și împiedică modificarea accidentală a unei variabile globale într-un loc greșit).</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Iar, la final, o organigramă despre cum să scriem “good code” :)</div>
</li>
</ul>

<p>
<a href="../../../lib/exe/fetch.php%3Fhash=fd1cee&amp;media=http%253A%252F%252Fimgs.xkcd.com%252Fcomics%252Fgood_code.png" class="media" title="http://imgs.xkcd.com/comics/good_code.png"><img src="../../../lib/exe/fetch.php%3Fhash=fd1cee&amp;w=250&amp;tok=7c45b4&amp;media=http%253A%252F%252Fimgs.xkcd.com%252Fcomics%252Fgood_code.png" class="medialeft" alt="" width="250" /></a>
</p>

</div>
</div>
</body>
</html>
