    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>iot:courses:03</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2016-06-23T10:17:27+0300"/>
<meta name="keywords" content="iot,courses,03"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../../feed.php%3Fmode=list&amp;ns=iot:courses"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="03.html"/>
<link rel="canonical" href="../../../../iot/courses/03.html"/>
<link rel="stylesheet" type="text/css" href="../../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1476798676.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='iot:courses';var JSINFO = {"id":"iot:courses:03","namespace":"iot:courses","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../../lib/exe/js.php%3Ftseed=1476798676"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="03.html#lecture_3phonegap_plugins">Lecture 3: PhoneGap plugins</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="03.html#core_plugins">Core Plugins</a></div></li>
<li class="level2"><div class="li"><a href="03.html#storage">Storage</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="03.html#localstorage">localStorage</a></div></li>
<li class="level3"><div class="li"><a href="03.html#websql">WebSQL</a></div></li>
<li class="level3"><div class="li"><a href="03.html#indexeddb">IndexedDB</a></div></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="lecture_3phonegap_plugins">Lecture 3: PhoneGap plugins</h1>
<div class="level1">

<p>

<iframe src="http://www.slideshare.net/slideshow/embed_code/key/2btnvM0HoJf66I" width="425" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="http://www.slideshare.net/AvnerSolomon/plugins-50070936" title="Plugins" target="_blank">Plugins</a> </strong> from <strong><a href="http://www.slideshare.net/AvnerSolomon" target="_blank">Avner Solomon</a></strong> </div>

</p>

<p>
By default a PhoneGap app consists only of a WebView showing the <abbr title="HyperText Markup Language">HTML</abbr> code written by you. The native functionalities offered by the phone (Batter, Camera, Contacts etc.) is available through special JavaScript calls, but only if you install the proper plugins into your project.
</p>

<p>
Plugins can be separated in 3 categories:
</p>
<ol>
<li class="level1"><div class="li"> <a href="https://build.phonegap.com/plugins/core" class="urlextern" title="https://build.phonegap.com/plugins/core"  rel="nofollow">Core plugins</a> (the plugins officially developed by the cordova team)</div>
</li>
<li class="level1"><div class="li"> Public Repository plugins (any public plugin on npm, github or phonegap repositories)</div>
</li>
<li class="level1"><div class="li"> Custom plugins which you manually develop and include in your project</div>
</li>
</ol>

<p>
In order to check which plugins are installed in your project you need to run a shell/cmd and go to the root folder of the project than type in the command:
</p>
<pre class="code">phonegap plugins ls</pre>

<p>
This command will list all the installed plugins.
</p>

<p>
For installing plugins the command is
</p>
<pre class="code">phonegap plugins add package-name</pre>

<p>
for plugins in the npm registry or phonegap
example : 
</p>
<pre class="code">phonegap plugins add org.apache.cordova.camera&quot; 
to install the official camera plugin</pre>

<p>
or
</p>
<pre class="code">phonegap plugins add url-to-github-projects</pre>

<p>
example:
</p>
<pre class="code">phonegap plugins add https://github.com/apache/cordova-plugin-console.git</pre>

<p>
There is also the possibility to search for plugins directly from console with
</p>
<pre class="code">phonegap plugins search multiple-search-words</pre>

<p>
example:
</p>
<pre class="code">phonegap plugins search bar code</pre>

<p>
For more tutorials on the PhoneGap check this <a href="https://cordova.apache.org/docs/en/3.3.0/guide_cli_index.md.html" class="urlextern" title="https://cordova.apache.org/docs/en/3.3.0/guide_cli_index.md.html"  rel="nofollow"> page</a> but use “phonegap” instead of “cordova”.
</p>

<p>
If you are going to build only using the PhoneGap Build cloud service there is no need to install the plugins locally since you are not going to upload them on the server. All you need to do is edit the config.xml to tell the builder which plugins to include.
The most simple way to do this is by adding the line
</p>
<pre class="code">&lt;gap:plugin name=&quot;package name&quot; /&gt;</pre>

<p>
example:
</p>
<pre class="code">&lt;gap:plugin name=&quot;com.phonegap.plugins.example&quot; /&gt;</pre>

<p>
you can also add version to it to be sure that in future build you won&#039;t get another version than the one you tested:
</p>
<pre class="code">&lt;gap:plugin name=&quot;com.phonegap.plugins.example&quot; version=&quot;2.2.1&quot; /&gt;</pre>

<p>
For more information check <a href="http://docs.build.phonegap.com/en_US/configuring_plugins.md.html" class="urlextern" title="http://docs.build.phonegap.com/en_US/configuring_plugins.md.html"  rel="nofollow">here</a>
</p>

</div>
<!-- EDIT1 SECTION "Lecture 3: PhoneGap plugins" [1-2822] -->
<h2 class="sectionedit2" id="core_plugins">Core Plugins</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-battery-status/blob/c80ffae72fd1c3ad1b2dada96be79abb7dad8d49/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-battery-status/blob/c80ffae72fd1c3ad1b2dada96be79abb7dad8d49/doc/index.md"  rel="nofollow">Battery</a> Offers battery information and events to check battery status</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-camera/blob/af18483d6970b32a22f016292d3d2cb921eedb00/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-camera/blob/af18483d6970b32a22f016292d3d2cb921eedb00/doc/index.md"  rel="nofollow">Camera</a> Allows capture of video/photo with either front or back camera by using the native capture app. Also allows use pictures/videos from the gallery</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-media-capture/blob/5888a627f7c12f17573b2fa9907dc2ce76e44a7a/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-media-capture/blob/5888a627f7c12f17573b2fa9907dc2ce76e44a7a/doc/index.md"  rel="nofollow">Capture</a> Captures images/audio/video</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-console/blob/9d1c255ac78f6c81bfec00a08c4918171937ff3f/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-console/blob/9d1c255ac78f6c81bfec00a08c4918171937ff3f/doc/index.md"  rel="nofollow">Console</a> used for debugging</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-contacts/blob/e42219a7d5b9492eb5b4a31c84e392d3379f6a08/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-contacts/blob/e42219a7d5b9492eb5b4a31c84e392d3379f6a08/doc/index.md"  rel="nofollow">Contacts</a> Allows to Create/Edit/Find contacts</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-device/blob/c6e23d8a61793c263443794d66d40723b4d04377/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-device/blob/c6e23d8a61793c263443794d66d40723b4d04377/doc/index.md"  rel="nofollow">Device</a> Device information</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-device-motion/blob/213aea947f46b24067d5aeda4c04ba3d8524289f/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-device-motion/blob/213aea947f46b24067d5aeda4c04ba3d8524289f/doc/index.md"  rel="nofollow">Device Motion</a> gives access to the accelerometer</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-device-orientation/blob/a09ef3c4ff052359f7a0ae366f7d18f667c3d9e2/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-device-orientation/blob/a09ef3c4ff052359f7a0ae366f7d18f667c3d9e2/doc/index.md"  rel="nofollow">Device Orientation</a> fives access to the magnetic compas</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-file/blob/198ca6198e7e5f4dc64024304560dc8deb69732d/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-file/blob/198ca6198e7e5f4dc64024304560dc8deb69732d/doc/index.md"  rel="nofollow">File</a> File storage <abbr title="Application Programming Interface">API</abbr></div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-file-transfer/blob/16249c2f7ac53cb593e11eeae180066a88a28271/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-file-transfer/blob/16249c2f7ac53cb593e11eeae180066a88a28271/doc/index.md"  rel="nofollow">File Transfer</a> Makes File transfers over HTTP POST via mutli-part encoding</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-geolocation/blob/543afdf88a201131eb8f3109f4c135d6a671f513/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-geolocation/blob/543afdf88a201131eb8f3109f4c135d6a671f513/doc/index.md"  rel="nofollow">Geolocation</a> Get and track position</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-globalization/blob/6c4798d263b3abc20bc07bbe24a3b907241555fe/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-globalization/blob/6c4798d263b3abc20bc07bbe24a3b907241555fe/doc/index.md"  rel="nofollow">Globalization</a> Get globalization/language information from the device</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-inappbrowser/blob/8ce6b497fa803936784629187e9c66ebaddfbe1b/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-inappbrowser/blob/8ce6b497fa803936784629187e9c66ebaddfbe1b/doc/index.md"  rel="nofollow">InAppBrowser</a> open a webpage inside your app</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-media/blob/b2e92f93964f76bbec667dfdfe15caec435932b6/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-media/blob/b2e92f93964f76bbec667dfdfe15caec435932b6/doc/index.md"  rel="nofollow">Media</a> Play/Record Audio</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-network-information/blob/df7aac845dc7deddbdb76e89216776a802ee8b67/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-network-information/blob/df7aac845dc7deddbdb76e89216776a802ee8b67/doc/index.md"  rel="nofollow">Network Information</a> Gives information about the network connection (Ex: 2G/3G/4G/Wi-Fi) + offline/online events</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-dialogs/blob/64017132b429314cc74acdab4c8c1d87a9ffcf1b/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-dialogs/blob/64017132b429314cc74acdab4c8c1d87a9ffcf1b/doc/index.md"  rel="nofollow">Notification</a> Alert boxes native to the phone (to not be confused with Push Notifications)</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-splashscreen/blob/b46cdca795173d67337c97731b343922d24fc770/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-splashscreen/blob/b46cdca795173d67337c97731b343922d24fc770/doc/index.md"  rel="nofollow">Splashscreen</a> </div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/apache/cordova-plugin-vibration/blob/5adf530d3663226ad6913de6cfc8493672334023/doc/index.md" class="urlextern" title="https://github.com/apache/cordova-plugin-vibration/blob/5adf530d3663226ad6913de6cfc8493672334023/doc/index.md"  rel="nofollow">Vibration</a></div>
</li>
</ol>

<p>
For a list of 3rd party plugins in the repository check <a href="https://build.phonegap.com/plugins" class="urlextern" title="https://build.phonegap.com/plugins"  rel="nofollow">here</a>
</p>

</div>
<!-- EDIT2 SECTION "Core Plugins" [2823-6055] -->
<h2 class="sectionedit3" id="storage">Storage</h2>
<div class="level2">

<p>
While some features need plugins to become available to our code, others are just mapped over the native HTML5 javascript methods and events.
Example: window.DeviceOrientationEvent returns information from the gyroscope
</p>

<p>
Such is also the case of the 3 HTML5 storage APIs which do not need installing plugins.
</p>

</div>
<!-- EDIT3 SECTION "Storage" [6056-6386] -->
<h3 class="sectionedit4" id="localstorage">localStorage</h3>
<div class="level3">

<p>
localStorage is a simple system to store key/pair values. In order to store object is recommended to stringify them.
</p>

<p>
Supported platforms:
</p>
<ul>
<li class="level1"><div class="li"> Android</div>
</li>
<li class="level1"><div class="li"> BlackBerry WebWorks (<abbr title="Operating System">OS</abbr> 6.0 and higher)</div>
</li>
<li class="level1"><div class="li"> iOS</div>
</li>
<li class="level1"><div class="li"> Tizen</div>
</li>
<li class="level1"><div class="li"> Windows Phone 7 and 8</div>
</li>
</ul>

<p>
Set:
</p>
<pre class="code">window.localStorage.setItem(&quot;key&quot;, &quot;value&quot;);</pre>

<p>
Get:
</p>
<pre class="code">var value = window.localStorage.getItem(&quot;key&quot;);</pre>

<p>
Remove:
</p>
<pre class="code">window.localStorage.removeItem(&quot;key&quot;);</pre>

</div>
<!-- EDIT4 SECTION "localStorage" [6387-6809] -->
<h3 class="sectionedit5" id="websql">WebSQL</h3>
<div class="level3">

<p>
Supported platforms:
</p>
<ul>
<li class="level1"><div class="li"> Android</div>
</li>
<li class="level1"><div class="li"> BlackBerry 10</div>
</li>
<li class="level1"><div class="li"> iOS</div>
</li>
<li class="level1"><div class="li"> Tizen</div>
</li>
</ul>

<p>
WebSQL is a client side SQL-query driven database.
</p>

<p>
In order to create or open an existing database:
</p>
<pre class="code">var db = window.openDatabase(database_name,version,description, allocated_memory);</pre>

<p>
If a database with a previous existing name and version is opened the already existing db will be accessed, otherwise a new one will be created.
In order to run SQL queries they must be grouped into transactions:
</p>
<pre class="code">db.transaction(function (tx) {
  tx.executeSql(&#039;CREATE TABLE IF NOT EXISTS LOGS (id unique, log)&#039;);
  tx.executeSql(&#039;INSERT INTO LOGS (id, log) VALUES (1, &quot;foobar&quot;)&#039;);
  tx.executeSql(&#039;INSERT INTO LOGS (id, log) VALUES (2, &quot;logmsg&quot;)&#039;);
});</pre>

<p>
In order to retrieve the results we will need to give a callback to the execute sql method:
</p>
<pre class="code">tx.executeSQL(sql_query,optiona_arguments,callback);</pre>

<p>
where the callback should be a function that takes transaction and result_set as argument:
</p>
<pre class="code">tx.executeSQL(sql_query,optiona_arguments,function(tx,result){
   //the insert id of the last insert is in result.insertID
   //the rows returned by the query are in result.rows
   // result.rowsAffected contains the number of rows.
});</pre>

</div>
<!-- EDIT5 SECTION "WebSQL" [6810-8033] -->
<h3 class="sectionedit6" id="indexeddb">IndexedDB</h3>
<div class="level3">

<p>
Supported platforms:
</p>
<ul>
<li class="level1"><div class="li"> BlackBerry 10</div>
</li>
<li class="level1"><div class="li"> Firefox <abbr title="Operating System">OS</abbr></div>
</li>
<li class="level1"><div class="li"> Windows Phone 8</div>
</li>
<li class="level1"><div class="li"> Windows 8</div>
</li>
</ul>

<p>
Since neither WebSQL nor IndexedDB don&#039;t offer full support yet we won&#039;t focus on those to technologies in this class. For a detailed tutorial on IndexedDB check <a href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB" class="urlextern" title="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB"  rel="nofollow">MDN (Mozilla Developer Network)</a>
</p>

</div>
<!-- EDIT6 SECTION "IndexedDB" [8034-] --></div>
</body>
</html>
