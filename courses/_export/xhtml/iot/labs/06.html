    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>iot:labs:06</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2016-06-24T10:58:25+0300"/>
<meta name="keywords" content="iot,labs,06"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../../feed.php%3Fmode=list&amp;ns=iot:labs"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="06.html"/>
<link rel="canonical" href="../../../../iot/labs/06.html"/>
<link rel="stylesheet" type="text/css" href="../../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1476798676.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='iot:labs';var JSINFO = {"id":"iot:labs:06","namespace":"iot:labs","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../../lib/exe/js.php%3Ftseed=1476798676"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="06.html#lab_6light_blink">Lab 6: Light Blink</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="06.html#what_you_need">What you need</a></div></li>
<li class="level2"><div class="li"><a href="06.html#the_setup">The Setup</a></div></li>
<li class="level2"><div class="li"><a href="06.html#the_code">The Code</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="06.html#visual_programming">Visual Programming</a></div></li>
<li class="level3"><div class="li"><a href="06.html#python">Python</a></div></li>
<li class="level3"><div class="li"><a href="06.html#useful_functions">Useful Functions</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="06.html#tips_tricks">Tips &amp; Tricks</a></div></li>
<li class="level2"><div class="li"><a href="06.html#exercises">Exercises</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="lab_6light_blink">Lab 6: Light Blink</h1>
<div class="level1">

</div>
<!-- EDIT1 SECTION "Lab 6: Light Blink" [1-34] -->
<h2 class="sectionedit2" id="what_you_need">What you need</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> One Raspberry Pi connected to Wyliodrin STUDIO;</div>
</li>
<li class="level1"><div class="li"> One LED;</div>
</li>
<li class="level1"><div class="li"> One 220 Ohm resistor;</div>
</li>
<li class="level1"><div class="li"> Jumper wires;</div>
</li>
<li class="level1"><div class="li"> Breadboard;</div>
</li>
</ul>

<p>
 <a href="../../../../_detail/iot2015/labs/leed.png%3Fid=iot%253Alabs%253A06.html" class="media" title="iot2015:labs:leed.png"><img src="../../../../_media/iot2015/labs/leed.png%3Fw=80&amp;tok=a9b226" class="mediacenter" alt="" width="80" /></a>
<a href="../../../../_detail/iot2015/labs/resist.png%3Fid=iot%253Alabs%253A06.html" class="media" title="iot2015:labs:resist.png"><img src="../../../../_media/iot2015/labs/resist.png%3Fw=100&amp;tok=c3d757" class="mediacenter" alt="" width="100" /></a>
</p>

</div>
<!-- EDIT2 SECTION "What you need" [35-257] -->
<h2 class="sectionedit3" id="the_setup">The Setup</h2>
<div class="level2">

<p>
Connect the LED to the Raspberry Pi following the schematics in the figure.
</p>

<p>
First of all, you need to distinguish the anode from the cathode. The LED has two legs: one is longer, that one is usually the anode and the shorter one is the cathode. Another way of identifying them is by looking inside the LED. There are two metal parts in it. The smaller one is connected to the anode and the bigger one is connected to the cathode. 
<a href="../../../../_detail/iot/labs/led-blink-schematics.png%3Fid=iot%253Alabs%253A06.html" class="media" title="iot:labs:led-blink-schematics.png"><img src="../../../../_media/iot/labs/led-blink-schematics.png%3Fw=300&amp;tok=6e5d88" class="mediacenter" alt="" width="300" /></a>
To understand the anode and the cathode of the LED, imagine these two following situations:
</p>
<ol>
<li class="level1"><div class="li">  The cathode is connected ,through the resistor of course, to the ground. This means that the anode will be wired to the GPIO pin, which has to be <em>High</em> in order to make the LED light up.</div>
</li>
<li class="level1"><div class="li"> The anode is connected to the VCC pin of the board. Which means that, should you want to light up the LED, the cathode has to be connected to the GPIO setted to <em>Low </em>. Don&#039;t forget this kind of a circuit also requires a resistor. </div>
</li>
</ol>

<p>
To sum it up, although the position of the resistor is not fixed, it can can either connect the ground to the cathode or the anode to the GPIO pin, the cathode should be connected to the ground to obtain the usually desired behaviour. Meaning you want the LED to light when the GPIO is set to HIGH and not to light when the GPIO is set to LOW. If you put the legs the other way around, the effect will be the opposite. 
</p>

</div>
<!-- EDIT3 SECTION "The Setup" [258-1705] -->
<h2 class="sectionedit4" id="the_code">The Code</h2>
<div class="level2">

<p>
Let&#039;s see the same application in three different programming languages. 
</p>

</div>
<!-- EDIT4 SECTION "The Code" [1706-1801] -->
<h3 class="sectionedit5" id="visual_programming">Visual Programming</h3>
<div class="level3">

<p>
First, you can try it out in Visual Programming. 
Here&#039;s an example: 
<a href="../../../../_detail/iot2015/labs/blink-application.png%3Fid=iot%253Alabs%253A06.html" class="media" title="iot2015:labs:blink-application.png"><img src="../../../../_media/iot2015/labs/blink-application.png%3Fw=300&amp;tok=09f9e3" class="mediacenter" alt="" width="300" /></a>
The first two blocks will simply print on the screen the messages written inside them. 
The <em> repeat while true</em> blocks will create an endless loop. Inside it, there will be the blocks that turn on and off the LED on the chosen pin. There is also a <em> delay</em> block, which will insert here a pause of 0.5 seconds between the <em> on </em>  state of the LED and the <em> off </em> one.
</p>

</div>
<!-- EDIT5 SECTION "Visual Programming" [1802-2325] -->
<h3 class="sectionedit6" id="python">Python</h3>
<div class="level3">

<p>
An important feature of Visual Programming in Wyliodrin is that you can easily get the Python code for your projects, just by clicking the <em> Show code</em> button.  
</p>
<pre class="code python"><span class="kw1">from</span> wyliodrin <span class="kw1">import</span> *
<span class="kw1">from</span> <span class="kw3">time</span> <span class="kw1">import</span> *
&nbsp;
pinMode <span class="br0">&#40;</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">print</span><span class="br0">&#40;</span><span class="st0">'Led on pin 0 should blink'</span><span class="br0">&#41;</span>
<span class="kw1">print</span><span class="br0">&#40;</span><span class="st0">'Press the Stop button to stop'</span><span class="br0">&#41;</span>
<span class="kw1">while</span> <span class="kw2">True</span>:
  digitalWrite <span class="br0">&#40;</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">&#41;</span>
  sleep <span class="br0">&#40;</span><span class="br0">&#40;</span><span class="nu0">500</span><span class="br0">&#41;</span>/<span class="nu0">1000.0</span><span class="br0">&#41;</span>
  digitalWrite <span class="br0">&#40;</span><span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="br0">&#41;</span>
  sleep <span class="br0">&#40;</span><span class="br0">&#40;</span><span class="nu0">500</span><span class="br0">&#41;</span>/<span class="nu0">1000.0</span><span class="br0">&#41;</span></pre>

<p>
First of all, you need to import the <em>wyliodrin</em> and <em>time</em> modules that will allow you to use some simple functions.
</p>

<p>
Firstly, you have to declare the pins you are going to use and their purpose. In this case, pin 0 is used as <em>OUTPUT</em>. This is what <em>pinMode(0,1)</em> does (1=OUTPUT, 0=INPUT). 
</p>

<p>
Next, there are the <em>print</em> functions that simply write the text in the shell.
</p>

<p>
Another useful function is <em>digitalWrite</em>. The function receives as parameter the pin and the value. As you are doing a digital write, the value can be either 0 or 1. If the value is 0, the pin will have no current. If the value is 1, there is current.
</p>

<p>
The <em>sleep</em> function makes the program wait for the desired number of seconds.
</p>

<p>
All this code is enclosed within the <em>while True</em> loop that makes it to be run forever, until the application is stopped.
</p>

</div>
<!-- EDIT6 SECTION "Python" [2326-3613] -->
<h3 class="sectionedit7" id="useful_functions">Useful Functions</h3>
<div class="level3">

<p>
You can use the following functions both in Python and JavaScript:
</p>
<ul>
<li class="level1"><div class="li"> <strong>wyliodrin.pinMode (pin, mode)</strong> - configures the specified pin to behave either as an input or an output;</div>
</li>
<li class="level1"><div class="li"> <strong>wyliodrin.digitalWrite (pin, value)</strong> - writes a HIGH or a LOW value to a digital pin;</div>
</li>
<li class="level1"><div class="li"> <strong>wyliodrin.delay()</strong> - pauses the program for the amount of time (in miliseconds) specified as parameter.</div>
</li>
</ul>

<p>
In order to use these function, import the <strong>wyliodrin</strong> module:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Python:</strong> from wyliodrin import wyliodrin</div>
</li>
<li class="level1"><div class="li"> <strong>JavaScript:</strong> var wyliodrin = require (&#039;wyliodrin&#039;);</div>
</li>
</ul>

</div>
<!-- EDIT7 SECTION "Useful Functions" [3614-4196] -->
<h2 class="sectionedit8" id="tips_tricks">Tips &amp; Tricks</h2>
<div class="level2">

<p>
Usually the longer leg is the anode and the shorted one is the cathode. However, this is not standard, to make sure which is which, you should know that the cathode leg is always connected to the bigger part inside the LED.
</p>

</div>
<!-- EDIT8 SECTION "Tips & Tricks" [4197-4447] -->
<h2 class="sectionedit9" id="exercises">Exercises</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> Use one LED to write SOS using the international morse code using Python or JavaScript.<a href="../../../../_detail/iot2015/labs/international_morse_code.png%3Fid=iot%253Alabs%253A06.html" class="media" title="iot2015:labs:international_morse_code.png"><img src="../../../../_media/iot2015/labs/international_morse_code.png%3Fw=300&amp;tok=427486" class="mediacenter" alt="" width="300" /></a></div>
</li>
<li class="level1"><div class="li"> Create a traffic lights system that has lights for cars and for pedestrians. </div>
</li>
<li class="level1"><div class="li"> Use <a href="http://openweathermap.org/api" class="urlextern" title="http://openweathermap.org/api"  rel="nofollow">Open Weather Map</a> to get the temperature in Bucharest and light up one of the green, yellow or red LEDs depending on the temperature. <strong>Note:</strong>Use the <strong>requests</strong> module.</div>
</li>
</ol>

</div>
<!-- EDIT9 SECTION "Exercises" [4448-] --></div>
</body>
</html>
