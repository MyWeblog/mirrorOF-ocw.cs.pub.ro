    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>so2:laboratoare:quiz:quiz_lab06</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2013-02-10T02:10:39+0200"/>
<meta name="keywords" content="so2,laboratoare,quiz,quiz_lab06"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../../../feed.php%3Fmode=list&amp;ns=so2:laboratoare:quiz"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="quiz_lab06.html"/>
<link rel="canonical" href="../../../../../so2/laboratoare/quiz/quiz_lab06.html"/>
<link rel="stylesheet" type="text/css" href="../../../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1479898000.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='so2:laboratoare:quiz';var JSINFO = {"id":"so2:laboratoare:quiz:quiz_lab06","namespace":"so2:laboratoare:quiz","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../../../lib/exe/js.php%3Ftseed=1479898000"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">
<ul>
<li class="level1"><div class="li"> În Linux, porturile alocate apar în:</div>
<ol>
<li class="level2"><div class="li"> /proc/ioports</div>
</li>
<li class="level2"><div class="li"> /proc/interrupts</div>
</li>
<li class="level2"><div class="li"> /proc/iomem</div>
</li>
<li class="level2"><div class="li"> /proc/stat</div>
</li>
</ol>
<ul>
<li class="level2"><div class="li"> [1]</div>
</li>
<li class="level2"><div class="li"> (1)</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Pentru a proteja accesul la date partajate între rutina de tratare a întreruperii şi operaţia <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/write" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:write">write</a>} a unui device driver se foloseşte:</div>
<ol>
<li class="level2"><div class="li"> <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/spin_lock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:spin_lock">spin_lock</a>}/<a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/spin_unlock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:spin_unlock">spin_unlock</a>} în rutina de tratare a întreruperii şi <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/spin_lock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:spin_lock">spin_lock</a>}/<a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/spin_unlock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:spin_unlock">spin_unlock</a>} în <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/write" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:write">write</a>}</div>
</li>
<li class="level2"><div class="li"> <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/spin_lock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:spin_lock">spin_lock</a>}/<a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/spin_unlock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:spin_unlock">spin_unlock</a>} în rutina de tratare a întreruperii şi <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/spin_lock_irqsave" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:spin_lock_irqsave">spin_lock_irqsave</a>}/<a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/spin_unlock_irqrestore" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:spin_unlock_irqrestore">spin_unlock_irqrestore</a>} în <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/write" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:write">write</a>}</div>
</li>
<li class="level2"><div class="li"> <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/spin_lock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:spin_lock">spin_lock</a>}/<a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/spin_unlock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:spin_unlock">spin_unlock</a>} în rutina de tratare a întreruperii şi <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/disable_irq" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:disable_irq">disable_irq</a>}/<a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/enable_irq" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:enable_irq">enable_irq</a>} în write</div>
</li>
<li class="level2"><div class="li"> <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/spin_lock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:spin_lock">spin_lock</a>}/<a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/spin_unlock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:spin_unlock">spin_unlock</a>} în rutina de tratare a întreruperii şi <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/local_irq_disable" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:local_irq_disable">local_irq_disable</a>}/<a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/local_irq_enable" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:local_irq_enable">local_irq_enable</a>} în write</div>
</li>
</ol>
<ul>
<li class="level2"><div class="li"> [2]</div>
</li>
<li class="level2"><div class="li"> (1)</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> O întrerupere partajată:</div>
<ol>
<li class="level2"><div class="li"> se înregistrează prin specificarea flag-ului <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/irqf_shared" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:irqf_shared">irqf_shared</a>} pentru <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/request_irq" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:request_irq">request_irq</a>}</div>
</li>
<li class="level2"><div class="li"> este tratată prin execuţia tuturor rutinelor înregistrate</div>
</li>
<li class="level2"><div class="li"> se înregistrează cu <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/request_irq_my_irq_my_handler_irqf_shared_dev_name_null" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:request_irq_my_irq_my_handler_irqf_shared_dev_name_null">request_irq_my_irq_my_handler_irqf_shared_dev_name_null</a>}</div>
</li>
<li class="level2"><div class="li"> trebuie să verifice registrul de stare în rutina de tratare a întreruperii pentru a determina daca întreruperea a fost generată de dispozitivul pe care îl gestionează</div>
</li>
</ol>
<ul>
<li class="level2"><div class="li"> [1]</div>
</li>
<li class="level2"><div class="li"> (1)</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Care din următoarele variante sunt corecte?</div>
<ol>
<li class="level2"><div class="li"> <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/outb_value_my_baseport" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:outb_value_my_baseport">outb_value_my_baseport</a>}</div>
</li>
<li class="level2"><div class="li"> <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/outb_my_baseport_value" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:outb_my_baseport_value">outb_my_baseport_value</a>}</div>
</li>
<li class="level2"><div class="li"> <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/write_port_uchar_value_puchar_my_baseport" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:write_port_uchar_value_puchar_my_baseport">write_port_uchar_value_puchar_my_baseport</a>}</div>
</li>
<li class="level2"><div class="li"> <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/write_port_uchar_puchar_my_baseport_value" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:write_port_uchar_puchar_my_baseport_value">write_port_uchar_puchar_my_baseport_value</a>}</div>
</li>
</ol>
<ul>
<li class="level2"><div class="li"> [1]</div>
</li>
<li class="level2"><div class="li"> (1)</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> În Linux, putem afla numărul de întreruperi generate din :</div>
<ol>
<li class="level2"><div class="li"> /proc/ioports</div>
</li>
<li class="level2"><div class="li"> /proc/interrupts</div>
</li>
<li class="level2"><div class="li"> /proc/iomem</div>
</li>
<li class="level2"><div class="li"> /proc/stat</div>
</li>
</ol>
<ul>
<li class="level2"><div class="li"> [2]</div>
</li>
<li class="level2"><div class="li"> (1)</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Pentru a proteja accesul la date partajate între rutina de a întreruperii şi operaţia <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/write" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:write">write</a>} a unui device driver se foloseşte:</div>
<ol>
<li class="level2"><div class="li"> <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/keacquirespinlock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:keacquirespinlock">keacquirespinlock</a>}/<a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/kereleasespinlock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:kereleasespinlock">kereleasespinlock</a>} în rutina de tratare a întreruperii şi <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/keacquirespinlock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:keacquirespinlock">keacquirespinlock</a>}/<a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/kereleasespinlock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:kereleasespinlock">kereleasespinlock</a>} în <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/write" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:write">write</a>}</div>
</li>
<li class="level2"><div class="li"> <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/keacquireinstackqueuedspinlock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:keacquireinstackqueuedspinlock">keacquireinstackqueuedspinlock</a>}/<a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/kereleaseinstackqueuedspinlock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:kereleaseinstackqueuedspinlock">kereleaseinstackqueuedspinlock</a>} în rutina de tratare a întreruperii şi <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/keacquirespinlock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:keacquirespinlock">keacquirespinlock</a>}/<a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/kereleasespinlock" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:kereleasespinlock">kereleasespinlock</a>} în <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/write" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:write">write</a>}</div>
</li>
<li class="level2"><div class="li"> accesul direct la date în rutina de tratare a întreruperii  şi <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/kesynchronizeexecution" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:kesynchronizeexecution">kesynchronizeexecution</a>} în write</div>
</li>
<li class="level2"><div class="li"> <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/kesynchronizeexecution" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:kesynchronizeexecution">kesynchronizeexecution</a>} în rutina de tratare a întreruperii şi accesul direct la date în write</div>
</li>
</ol>
<ul>
<li class="level2"><div class="li"> [1]</div>
</li>
<li class="level2"><div class="li"> (1)</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Pentru activarea întreruperii care apare la primirea de date pe portul serial trebuie setat:</div>
<ol>
<li class="level2"><div class="li"> bitul 0 (<code>Enable Received Data Available Interrupt</code>) în registrul <code>IER</code></div>
</li>
<li class="level2"><div class="li"> bitul 0 (<code>Interrupt Pending</code>) din registrul <code>IIR</code></div>
</li>
<li class="level2"><div class="li"> bitul 0 (<code>Enable FIFO&#039;s</code>) din registrul <code>FCR</code></div>
</li>
<li class="level2"><div class="li"> bitul 3 (<code>Aux Output 2</code>) în registrul <code>MCR</code></div>
</li>
</ol>
<ul>
<li class="level2"><div class="li"> [1]</div>
</li>
<li class="level2"><div class="li"> (1)</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> În rutina de tratarea a întreruperii:</div>
<ol>
<li class="level2"><div class="li"> trebuie dezactivate întreruperile la intrarea în funcţie</div>
</li>
<li class="level2"><div class="li"> se verifică registrul de stare pentru a determina dacă întreruperea a fost generată de dispozitivul pe care îl gestionează</div>
</li>
<li class="level2"><div class="li"> se întoarce <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/irq_none" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:irq_none">irq_none</a>}/<a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/false" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:false">false</a>} dacă întreruperea nu a fost generată de dispozitivul pe care îl gestionează şi <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/irq_handled" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:irq_handled">irq_handled</a>}/<a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/true" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:true">true</a>} în caz contrar</div>
</li>
<li class="level2"><div class="li"> se resetează bitul <code>interrupt-pending</code> pe dispozitivul fizic</div>
</li>
</ol>
<ul>
<li class="level2"><div class="li"> [1]</div>
</li>
<li class="level2"><div class="li"> (1)</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Parametrul <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/synchronizeirql" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:synchronizeirql">synchronizeirql</a>} al funcţiei <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/ioconnectinterrupt" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:ioconnectinterrupt">ioconnectinterrupt</a>}:</div>
<ol>
<li class="level2"><div class="li"> specifică valoarea IRQ-ului la care va rula rutina de tratare a înteruperii</div>
</li>
<li class="level2"><div class="li"> este folosit pentru sincronizare între rutina de tratare a întreruperii şi contex proces</div>
</li>
<li class="level2"><div class="li"> trebuie să fie valoarea maximă dintre toate întreruperile servite de o rutină de tratare a întreruperii</div>
</li>
<li class="level2"><div class="li"> trebuie să aibă aceeaşi valoare cu parametrul <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/irql" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:irql">irql</a>} al aceleiaşi funcţii</div>
</li>
</ol>
<ul>
<li class="level2"><div class="li"> [1]</div>
</li>
<li class="level2"><div class="li"> (1)</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Care din următoarele secvenţe vor eşua la obţinerea unei întreruperi?</div>
<ol>
<li class="level2"><div class="li"> <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/request_irq_irq_handler1_irqf_shared_dev1_data1/request_irq_irq_handler2_irqf_shared_dev2_data2" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:request_irq_irq_handler1_irqf_shared_dev1_data1:request_irq_irq_handler2_irqf_shared_dev2_data2">request_irq_irq_handler2_irqf_shared_dev2_data2</a>}</div>
</li>
<li class="level2"><div class="li"> <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/request_irq_irq_handler1_0_dev1_data1/request_irq_irq_handler2_irqf_shared_dev2_data2" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:request_irq_irq_handler1_0_dev1_data1:request_irq_irq_handler2_irqf_shared_dev2_data2">request_irq_irq_handler2_irqf_shared_dev2_data2</a>}</div>
</li>
<li class="level2"><div class="li"> <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/request_irq_irq_handler1_irqf_shared_dev1_data1/request_irq_irq_handler2_0_dev2_data2" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:request_irq_irq_handler1_irqf_shared_dev1_data1:request_irq_irq_handler2_0_dev2_data2">request_irq_irq_handler2_0_dev2_data2</a>}</div>
</li>
<li class="level2"><div class="li"> <a href="http://ocw.cs.pub.ro/courses/_media/so2/laboratoare/quiz/request_irq_irq_handler1_0_dev1_data1/request_irq_irq_handler2_0_dev2_data2" class="media mediafile mf_ wikilink2" title="so2:laboratoare:quiz:request_irq_irq_handler1_0_dev1_data1:request_irq_irq_handler2_0_dev2_data2">request_irq_irq_handler2_0_dev2_data2</a>}</div>
</li>
</ol>
<ul>
<li class="level2"><div class="li"> [1]</div>
</li>
<li class="level2"><div class="li"> (1)</div>
</li>
</ul>
</li>
</ul>
</div>
</body>
</html>
