    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>so2:resurse:sala-de-laborator</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2015-02-22T21:34:30+0200"/>
<meta name="keywords" content="so2,resurse,sala-de-laborator"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../../feed.php%3Fmode=list&amp;ns=so2:resurse"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="sala-de-laborator.html"/>
<link rel="canonical" href="../../../../so2/resurse/sala-de-laborator.html"/>
<link rel="stylesheet" type="text/css" href="../../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1476798676.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='so2:resurse';var JSINFO = {"id":"so2:resurse:sala-de-laborator","namespace":"so2:resurse","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../../lib/exe/js.php%3Ftseed=1476798676"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="sala-de-laborator.html#sala_de_laborator">Sală de laborator</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="sala-de-laborator.html#reguli">Reguli</a></div></li>
<li class="level2"><div class="li"><a href="sala-de-laborator.html#mod_de_lucru">Mod de lucru</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="sala-de-laborator.html#exercitii_linux">Exerciții Linux</a></div></li>
<li class="level3"><div class="li"><a href="sala-de-laborator.html#exercitii_windows">Exerciții Windows</a></div></li>
<li class="level3"><div class="li"><a href="sala-de-laborator.html#observatii_generale">Observații generale</a></div></li>
<li class="level3"><div class="li"><a href="sala-de-laborator.html#editarea_folosind_vim">Editarea folosind vim</a></div></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="sala_de_laborator">Sală de laborator</h1>
<div class="level1">

<p>
Sistemul de operare utilizat pentru laboratorul de SO2 este Linux, distribuția Debian 7.0 (Wheezy). Configurația software în Linux este protejată printr-un sistem de freeze; la repornirea sistemului, orice actualizări sunt modificate.
</p>

<p>
Sistemele din laborator au configurate două mașini virtuale (o mașină virtuală Linux și o mașină virtuală Windows) care vor fi utilizate pe parcursul orelor de laborator.
</p>

<p>
Sistemul de freeze permite studenților să efectueze orice tip de modificări asupra configurației software (inclusiv configurări greșite) și asigură refacerea configurației inițiale în momentul repornirii sistemului. Astfel, în laborator, fiecare student beneficiază de condiții identice și, în același timp, sistemele sunt protejate de erori care le-ar putea face neutilizabile.
</p>

</div>
<!-- EDIT1 SECTION "Sală de laborator" [1-853] -->
<h2 class="sectionedit2" id="reguli">Reguli</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li">La terminarea activității în laborator, <strong>obligatoriu</strong> fiecare student va da <em class="u">restart</em> sau <em class="u">shut down</em> (dacă nu urmează altă oră de laborator în acea sală) la <em>mașina gazdă</em>.</div>
</li>
<li class="level1"><div class="li">Monitorul nu trebuie închis; va intra automat în modul standby.</div>
</li>
</ul>

</div>
<!-- EDIT2 SECTION "Reguli" [854-1139] -->
<h2 class="sectionedit3" id="mod_de_lucru">Mod de lucru</h2>
<div class="level2">

</div>
<!-- EDIT3 SECTION "Mod de lucru" [1140-1165] -->
<h3 class="sectionedit4" id="exercitii_linux">Exerciții Linux</h3>
<div class="level3">

<p>
Pentru rezolvarea exercițiilor de Linux, sunt posibile două moduri de lucru:
</p>
<ul>
<li class="level1"><div class="li"><strong>Editare surse prin SSH</strong> (folosind vim, emacs sau alt editor text-based); compilare prin SSH</div>
</li>
<li class="level1"><div class="li"> Se pornește mașina virtuală de Linux.</div>
</li>
<li class="level1"><div class="li"> Se deschide o conexiune SSH cu mașina virtuală, executând într-un terminal comanda: <code>ssh root@spook.local</code> <br/>
(sau forma echivalentă: <code>ssh -l root spook.local</code>).</div>
</li>
<li class="level1"><div class="li"> Se descarcă scheletul laboratorului, executând într-un terminal comanda: <code>get-lab XX</code> (se înlocuiește XX cu numărul laboratorului curent). Scheletul va fi descărcat și extras în directorul curent.</div>
</li>
<li class="level1"><div class="li"> Se poate folosi un tab suplimentar în terminal pentru compilarea surselor. Se apasă <code>Ctrl+Shift+T</code> în terminal pentru a deschide un tab nou și se realizează înca o conexiune SSH în acest tab.</div>
</li>
<li class="level1"><div class="li"> Se deschide <code>Netconsole Terminal</code> (icon-ul este pe Desktop) pentru a primi mesajele trimise de kernelul mașinii virtuale.</div>
</li>
</ul>

<p>
<strong>Editare surse local</strong> (folosind un editor vizual cum ar fi gedit sau gVim); compilare prin SSH
</p>
<ul>
<li class="level1"><div class="li"> Se pornește mașina virtuală de Linux.</div>
</li>
<li class="level1"><div class="li"> Se montează directorul <code>/home/student</code> de pe mașina virtuală în directorul <code>/home/student/spook-share/</code> al mașinii gazdă, folosind <code>Mount spook-share</code> (icon-ul este pe Desktop; dupa rularea scriptului se confirmă montarea apăsând OK, apoi se așteaptă mesajul de succes sau de eroare; <em>nu</em> se va rula scriptul a doua oară inainte de a primi acele mesaje); alternativ, se poate executa într-un terminal comanda <code>mount-spook-share</code> sau comanda de montare manuală (<code>mount /home/student/spook-share</code>).</div>
</li>
<li class="level1"><div class="li"> Se verifică montarea corectă a directorului: <code>ls /home/student/spook-share/</code> (ar trebui să se vada un fișier <code>hello.txt</code>; prezența unui fișier <code>not-mounted.txt</code> indică faptul că în acel director nu este montat nimic).</div>
</li>
<li class="level1"><div class="li"> Se descarcă scheletul laboratorului, executând comanda: <code>get-lab XX</code> (se înlocuiește XX cu numărul laboratorului curent). Scheletul va fi descărcat și extras în directorul curent.</div>
</li>
<li class="level1"><div class="li"> Se deschide editorul preferat (gedit, gVim) și se încarcă scheletul primului exercițiu din directorul <code>/home/student/spook-share/labXX-tasks/</code>.</div>
</li>
<li class="level1"><div class="li"> Se deschide o conexiune SSH cu mașina virtuală pentru compilarea surselor. Din terminalul deschis mai sus, se execută comanda: <code>ssh root@spook.local</code> (sau forma echivalentă: <code>ssh -l root spook.local</code>). Apoi se navighează în directorul primului exercițiu: <code>cd labXX-tasks/…</code></div>
</li>
<li class="level1"><div class="li"> Se deschide <code>Netconsole Terminal</code> (icon-ul este pe Desktop) pentru a primi mesajele trimise de kernelul mașinii virtuale.</div>
</li>
<li class="level1"><div class="li"></div>
</li>
</ul>

</div>
<!-- EDIT4 SECTION "Exerciții Linux" [1166-3824] -->
<h3 class="sectionedit5" id="exercitii_windows">Exerciții Windows</h3>
<div class="level3">

<p>
Se va lucra direct pe mașina virtuală de Windows.
</p>

<p>
Sfaturi utile:
</p>
<ul>
<li class="level1"><div class="li">Pentru <strong>compilarea modulelor de kernel</strong>, se foloseste <em class="u">numai</em> consola<code>x86 Checked Build Environment</code>. Compilând cu această consolă vor fi activate warning-urile, care de cele mai multe ori vă indică probleme serioase în cod.</div>
</li>
<li class="level1"><div class="li">Pentru <strong>compilarea aplicațiilor user-space</strong> (de exemplu, testerele care însoțesc scheletul), se folosește <em class="u">numai</em> consola <code>Visual Studio 2008 Command Prompt</code>.</div>
</li>
<li class="level1"><div class="li">Deschideți DbgView înainte să inserați orice modul în kernel.</div>
</li>
</ul>

</div>
<!-- EDIT5 SECTION "Exerciții Windows" [3825-4405] -->
<h3 class="sectionedit6" id="observatii_generale">Observații generale</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li">Dacă hostname-urile <code>spook.local</code> sau <code>chooch.local</code> nu sunt recunoscute:</div>
<ul>
<li class="level2"><div class="li">Verificați că mașina virtuală respectivă este pornită și funcțională.</div>
</li>
<li class="level2"><div class="li">Porniți manual Avahi mDNS/<abbr title="Domain Name System">DNS</abbr>-SD daemon, executând comanda următoare într-un terminal de pe mașina gazdă: <code>sudo /etc/init.d/avahi-daemon start</code></div>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT6 SECTION "Observații generale" [4406-4760] -->
<h3 class="sectionedit7" id="editarea_folosind_vim">Editarea folosind vim</h3>
<div class="level3">

<p>
Sfaturi utile pentru editarea folosind vim:
</p>
<ul>
<li class="level1"><div class="li"><strong>Paste fără linii “în scară”:</strong> Când se face paste, editorul va încerca să indenteze automat liniile ca și cum ar fi scrise de la tastatură.</div>
<ul>
<li class="level2"><div class="li">Pentru a păstra formatarea codului, inainte de a da paste se execută comanda <code>:set paste</code></div>
</li>
<li class="level2"><div class="li">Pentru a reveni la modul normal, în care indentarea se realizează automat, se executa comanda: <code>:set nopaste</code></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"><strong>Cut, copy, paste în mod vizual:</strong> Pentru a selecta rapid text nu se folosește mouse-ul (nu funcționează cum ar trebui prin SSH).</div>
<ul>
<li class="level2"><div class="li">Editorul vim are un buffer intern (ca un clipboard) în care se poate stoca un bloc de text. O parte a buffer-ului este păstrată și după ieșirea din editor (în fișierul <code>~/.viminfo</code>)</div>
</li>
<li class="level2"><div class="li">Se intră în modul vizual apăsând tasta <code>v</code> (pentru modul de selecție caracter-cu-caracter) sau tasta <code>V</code> (pentru modul de selecție linie-cu-linie).</div>
</li>
<li class="level2"><div class="li">Selecția începe de la caracterul curent / linia curentă.</div>
</li>
<li class="level2"><div class="li">Se folosesc săgețile pentru a selecta bucata de cod relevantă și în final se apasă <code>d</code> (delete) pentru a șterge selecția și a o pune în buffer sau <code>y</code> (yank) pentru a copia selecția în buffer. Se va reveni automat la modul comandă.</div>
</li>
<li class="level2"><div class="li">Se deplasează cursorul cu săgețile și se poziționează înainte de caracterul / linia unde se vrea să se insereze conținutul buffer-ului.</div>
</li>
<li class="level2"><div class="li">Se apasă <code>p</code> (paste) pentru a insera conținutul buffer-ului <em class="u">după</em> caracterul / linia curentă. Se poate folosi <code>P</code> pentru a insera conținutul buffer-ului <em class="u">înainte</em> de caracterul / linia curentă.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"><strong>Cut, copy, paste rapid:</strong> Se folosește pentru a șterge, muta sau copia câteva linii.</div>
<ul>
<li class="level2"><div class="li">Pentru a copia linia curentă în buffer se apasă <code>yy</code>.</div>
</li>
<li class="level2"><div class="li">Pentru a muta linia curentă în buffer se apasă <code>dd</code>.</div>
</li>
<li class="level2"><div class="li">Pentru a copia/muta în buffer mai multe linii, se prefixează comanda cu un număr. De exemplu, <code>10dd</code> mută 10 linii în buffer.</div>
</li>
<li class="level2"><div class="li">Pentru a insera conținutul buffer-ului se folosește comanda <code>p</code> (inserare inainte de linia curentă) sau <code>P</code> (inserare după linia curentă).</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"><strong>Tags pentru căutare rapidă în surse:</strong> sunt configurate deja în vim pentru mașina virtuală de Linux de la laborator, deci e de ajuns să folosiți shortcut-urile specifice: se poziționează cursorul pe un identifcator/nume de fișier include și se apasă <code>Ctrl+]</code> ; pentru a reveni se apasă <code>Ctrl+t</code> . Mai multe detalii <a href="http://blog.golden-ratio.net/2008/09/using-ctags-with-vim/" class="urlextern" title="http://blog.golden-ratio.net/2008/09/using-ctags-with-vim/"  rel="nofollow">aici</a>.</div>
</li>
</ul>

</div>
<!-- EDIT7 SECTION "Editarea folosind vim" [4761-] --></div>
</body>
</html>
