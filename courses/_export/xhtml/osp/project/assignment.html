    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>osp:project:assignment</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2016-10-30T19:37:43+0200"/>
<meta name="keywords" content="osp,project,assignment"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../../feed.php%3Fmode=list&amp;ns=osp:project"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="assignment.html"/>
<link rel="canonical" href="../../../../osp/project/assignment.html"/>
<link rel="stylesheet" type="text/css" href="../../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1476798676.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='osp:project';var JSINFO = {"id":"osp:project:assignment","namespace":"osp:project","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../../lib/exe/js.php%3Ftseed=1476798676"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="assignment.html#assignment">Assignment</a></div>
<ul class="toc">
<li class="clear">
<ul class="toc">
<li class="level3"><div class="li"><a href="assignment.html#general_description">General description</a></div></li>
<li class="level3"><div class="li"><a href="assignment.html#setup">Setup</a></div></li>
<li class="level3"><div class="li"><a href="assignment.html#tasks">Tasks</a></div>
<ul class="toc">
<li class="level4"><div class="li"><a href="assignment.html#task_1login_and_user_creation_activity_1p">Task 1: Login and user creation activity (1p)</a></div></li>
<li class="level4"><div class="li"><a href="assignment.html#task_2display_all_users_1p">Task 2: Display all users (1p)</a></div></li>
<li class="level4"><div class="li"><a href="assignment.html#task_3favorite_users_15p">Task 3: Favorite users (1.5p)</a></div></li>
<li class="level4"><div class="li"><a href="assignment.html#task_4chat_activity_25p">Task 4: Chat activity (2.5p)</a></div></li>
<li class="level4"><div class="li"><a href="assignment.html#task_5communication_with_the_server_3p">Task 5: Communication with the server (3p)</a></div></li>
<li class="level4"><div class="li"><a href="assignment.html#task_6service_reconnect_1p">Task 6: Service reconnect (1p)</a></div></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="assignment">Assignment</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> <strong>Deadline: January 15th, 2017</strong></div>
</li>
<li class="level1"><div class="li"> Upload the assignment at the following location: TODO.</div>
</li>
<li class="level1"><div class="li"> You should upload a zip archive containing: </div>
<ul>
<li class="level2"><div class="li"> the sources of the application </div>
</li>
<li class="level2"><div class="li"> the apk </div>
</li>
<li class="level2"><div class="li"> screenshots with the graphical interface</div>
</li>
<li class="level2"><div class="li">  a README file which should describe the functionality and specify whether the application has known issues.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Make sure that your team is registered <a href="../../../../osp/project/team-choice.html" class="urlextern" title="http://ocw.cs.pub.ro/courses/osp/project/team-choice"  rel="nofollow">here</a>.</div>
</li>
<li class="level1"><div class="li"> A single team member must upload the assignment. The team members should be mentioned in the README file.</div>
</li>
</ul>

</div>
<!-- EDIT1 SECTION "Assignment" [2-603] -->
<h3 class="sectionedit2" id="general_description">General description</h3>
<div class="level3">

<p>
The purpose of this homework will be to create a messenger-like application with a client component (the Android application) and a server component (already written in Python). The latest version of the Python server can be found <a href="../../../../_media/osp/media/server.zip" class="media mediafile mf_zip" title="osp:media:server.zip (2.3 KB)">here</a>.  The server listens on the TCP port 4000. 
</p>

<p>
Communication between the client and the server will be done through <a href="https://en.wikipedia.org/wiki/JSON" class="urlextern" title="https://en.wikipedia.org/wiki/JSON"  rel="nofollow">JSON</a> messages. All messages must be followed by a NULL (&#039;\0&#039;) character.
</p>

</div>
<!-- EDIT2 SECTION "General description" [604-1122] -->
<h3 class="sectionedit3" id="setup">Setup</h3>
<div class="level3">

<p>
The Python server needs to be run using the following command <strong>python3</strong> which should be available after downloading and installing the latest version of <a href="https://www.python.org/downloads/" class="urlextern" title="https://www.python.org/downloads/"  rel="nofollow">Python 3</a>. The server has to run on a computer or laptop.
</p>

<p>
If the Android client application is developed using an Android mobile device, a WiFi connection is required in order for the client to be able to communicate with the server. 
</p>

<p>
If the Android client application is developed on an emulator, there is no need for a WiFi connection since the communication will be done using local sockets (localhost/127.0.0.1).
</p>

</div>
<!-- EDIT3 SECTION "Setup" [1123-1751] -->
<h3 class="sectionedit4" id="tasks">Tasks</h3>
<div class="level3">

<p>
The application will need to have the following features:
</p>

</div>

<h4 id="task_1login_and_user_creation_activity_1p">Task 1: Login and user creation activity (1p)</h4>
<div class="level4">

<p>
The entry activity for the application will be the login activity which will contain the following elements:
</p>
<ul>
<li class="level1"><div class="li"> an entry where the user can type the username</div>
</li>
<li class="level1"><div class="li"> an entry where the user can type the password (it should mask the password that was introduced)</div>
</li>
<li class="level1"><div class="li"> a button that when clicked will use the credentials typed in the previous two entries to login to the server. The user will also be redirected to the activity mentioned in Task 2.</div>
</li>
<li class="level1"><div class="li"> a button that when clicked will redirect the user to the user creation activity.</div>
</li>
</ul>

<p>
The user creation activity should contain the following elements:
</p>
<ul>
<li class="level1"><div class="li"> an entry where the user can type a new username</div>
</li>
<li class="level1"><div class="li"> an entry where the user can type the password (it should mask the password that was introduced)</div>
</li>
<li class="level1"><div class="li"> an entry where the user has to retype the password (it should mask the password that was introduced and it should match the password that was introduced the first time)</div>
</li>
<li class="level1"><div class="li"> a button that when clicked will create the user on the server side and will redirect the user to the login activity.</div>
</li>
</ul>

<p>
When logging in, the message that the client will send to the server has the following structure:
</p>
<pre class="code"> {
  &quot;user&quot;: &quot;username&quot;,
  &quot;pass&quot;: &quot;password&quot;
} </pre>

<p>
The account creation message has the following structure:
</p>
<pre class="code"> {
  &quot;user&quot;: &quot;username&quot;,
  &quot;pass&quot;: &quot;password&quot;,
  &quot;create&quot;: true
} </pre>

<p>
If everything is ok, the server will reply with the following message:
</p>
<pre class="code"> {
  &quot;response&quot;: 0
  &quot;message&quot;: &quot;OK&quot;
  &quot;users&quot;: [&quot;user1&quot;, &quot;user2&quot;, ...]
} </pre>

<p>
The list contains all users registered with the server plus 3 special (predefined) users: Echo, EchoX2 and EchoDelayed. These users are bots that send back the messages sent to them (Echo 1 message immediately, EchoX2 sends two messages immediately and EchoDelayed sends one message after 5 seconds).
</p>

<p>
If login (or account creation) does not succeed, you will get a message like this:
</p>
<pre class="code"> {
  &quot;response&quot;: !0
  &quot;message&quot;: &quot;error message&quot;
} </pre>

<p>
You should display the error message to the user using a Dialog.
</p>

</div>

<h4 id="task_2display_all_users_1p">Task 2: Display all users (1p)</h4>
<div class="level4">

<p>
After login, the user should be redirected to an activity that displays a list of all existing users from the server.
</p>

<p>
This activity should also have a menu with two options:
</p>
<ul>
<li class="level1"><div class="li"> one that allows the user to navigate to the favorite users activity</div>
</li>
<li class="level1"><div class="li"> one that allows the user to logout of the application by redirecting the user to the login activity</div>
</li>
</ul>

</div>

<h4 id="task_3favorite_users_15p">Task 3: Favorite users (1.5p)</h4>
<div class="level4">

<p>
This activity will contain a list with the favorite users who will be locally stored in a database.
</p>

<p>
For each list item from the activity that displays all users (Task 2) add two buttons:
</p>
<ul>
<li class="level1"><div class="li"> one that adds the user to the list of favorite users (which should change state and not let the user press it again if the user is already on the favorite list)</div>
</li>
<li class="level1"><div class="li"> one that removes a user from the list of favorite users.</div>
</li>
</ul>

</div>

<h4 id="task_4chat_activity_25p">Task 4: Chat activity (2.5p)</h4>
<div class="level4">

<p>
This activity will be used for sending messages and reading messages received from a user.
</p>

<p>
Conversations should be displayed per user and clicking on the name of the user in the list with all the users should show the conversation with that user. Conversations should be stored locally in a database. The TCP connection with the server should be kept alive after login.
</p>

<p>
Format of outgoing message:
</p>
<pre class="code"> {
  &quot;users&quot;: [&quot;user1&quot;, &quot;user2&quot;, &quot;user3&quot;, ...],
  &quot;message&quot;: &quot;Message&quot;
} </pre>

<p>
The list of users from the outgoing message represents the users who should receive this message (it is similar to a broadcast message).
</p>

<p>
<p><div class="notewarning">
The outgoing message does not contain information about the author of the message. The Python server will “guess” the author of the message using the information provided by the login message. Therefore, only one user can be logged in at a time in the application.

</div></p>
</p>

<p>
Format of incoming message:
</p>
<pre class="code"> {
  &quot;type&quot;: 1
  &quot;user&quot;: &quot;user1&quot;
  &quot;message&quot;: &quot;Message&quot;
} </pre>

<p>
Make sure to ignore messages of other types (the protocol might be expanded).
</p>

</div>

<h4 id="task_5communication_with_the_server_3p">Task 5: Communication with the server (3p)</h4>
<div class="level4">

<p>
Communication with the server should be implemented through a service which stays alive after login and dies once the socket is closed or the user decides to logout.
</p>

<p>
The service should display new message notifications which open the correct Activity for reading the message.
</p>

</div>

<h4 id="task_6service_reconnect_1p">Task 6: Service reconnect (1p)</h4>
<div class="level4">

<p>
Add a broadcast receiver component which reconnects the service when the internet comes back online (if previous state was logged in).
</p>

</div>
<!-- EDIT4 SECTION "Tasks" [1752-] --></div>
</body>
</html>
