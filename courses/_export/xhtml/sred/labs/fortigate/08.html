    
    

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>sred:labs:fortigate:08</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2015-06-01T20:51:42+0300"/>
<meta name="keywords" content="sred,labs,fortigate,08"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../../../feed.php%3Fmode=list&amp;ns=sred:labs:fortigate"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="08.html"/>
<link rel="canonical" href="../../../../../sred/labs/fortigate/08.html"/>
<link rel="stylesheet" type="text/css" href="../../../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1476798676.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='sred:labs:fortigate';var JSINFO = {"id":"sred:labs:fortigate:08","namespace":"sred:labs:fortigate","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../../../lib/exe/js.php%3Ftseed=1476798676"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="08.html#f08_-_ssl_vpn">F08 - SSL VPN</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="08.html#topology">Topology</a></div></li>
<li class="level2"><div class="li"><a href="08.html#tasks">Tasks</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="08.html#basic_setup">1. Basic Setup</a></div>
<ul class="toc">
<li class="level4"><div class="li"><a href="08.html#a_connectivity_tests">A. Connectivity tests</a></div></li>
</ul>
</li>
<li class="level3"><div class="li"><a href="08.html#ssl_vpn">2. SSL VPN</a></div>
<ul class="toc">
<li class="level4"><div class="li"><a href="08.html#a_address_setup">A. Address Setup</a></div></li>
<li class="level4"><div class="li"><a href="08.html#user_setup">User Setup</a></div></li>
<li class="level4"><div class="li"><a href="08.html#ssl-vpn_policy">SSL-VPN Policy</a></div></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="f08_-_ssl_vpn">F08 - SSL VPN</h1>
<div class="level1">

</div>
<!-- EDIT1 SECTION "F08 - SSL VPN" [19-47] -->
<h2 class="sectionedit2" id="topology">Topology</h2>
<div class="level2">

<p>
<a href="../../../../../_detail/sred/labs/fortigate/fg_topology_05.png%3Fid=sred%253Alabs%253Afortigate%253A08.html" class="media" title="sred:labs:fortigate:fg_topology_05.png"><img src="../../../../../_media/sred/labs/fortigate/fg_topology_05.png" class="mediacenter" alt="" /></a>
</p>

</div>
<!-- EDIT2 SECTION "Topology" [48-115] -->
<h2 class="sectionedit3" id="tasks">Tasks</h2>
<div class="level2">

</div>
<!-- EDIT3 SECTION "Tasks" [116-134] -->
<h3 class="sectionedit4" id="basic_setup">1. Basic Setup</h3>
<div class="level3">

<p>
In this task you will test that the required services are available.
</p>

</div>

<h4 id="a_connectivity_tests">A. Connectivity tests</h4>
<div class="level4">

<p>
<p><div class="noteimportant"> Use the topology above to discover the required IP addresses 
</div></p>
</p>

<p>
Check that you can access the web page on the <code>200.0.0.1</code> Ubuntu Server. You may need to edit the FortiGate policies.
</p>

<p>
<p><div class="noteimportant"> Traffic from the host computer to the <code>Ubuntu Server</code> is routed through <strong>FortiGate1</strong>. 
</div></p>
</p>

</div>
<!-- EDIT4 SECTION "1. Basic Setup" [135-584] -->
<h3 class="sectionedit5" id="ssl_vpn">2. SSL VPN</h3>
<div class="level3">

<p>
In this task you will configure SSL VPN.
</p>

</div>

<h4 id="a_address_setup">A. Address Setup</h4>
<div class="level4">

<p>
Create an address firewall object called <code>ssl_tunnel</code>. Include the 172.16.1.0/24 address space in the interval.
</p>

<p>
<p><div class="noteclassic"> Use the <em>Firewall Objects/Address</em> tab. 
</div></p>
</p>

<p>
Select the address interval created above for the SSL VPN tunnel.
</p>

<p>
<p><div class="noteclassic"> Use the <em>VPN/SSL</em> tab. 
</div></p>
</p>
<div class="solution"><div class="solution_title"><span class="title_text">Rezolvare</span></div><div class="solution_contents"><a href="http://elf.cs.pub.ro/sred/wiki/videos/08_02b.ogv" class="urlextern" title="http://elf.cs.pub.ro/sred/wiki/videos/08_02b.ogv"  rel="nofollow"> Rezolvare</a>
</div></div>

</div>

<h4 id="user_setup">User Setup</h4>
<div class="level4">

<p>
Create a new local user named <code>test_ssl</code> with password <code>123456</code>.
</p>

<p>
<p><div class="noteclassic"> Use the <em>User &amp; Device/User</em> tab. 
</div></p>
</p>
<div class="solution"><div class="solution_title"><span class="title_text">Rezolvare</span></div><div class="solution_contents"><a href="http://elf.cs.pub.ro/sred/wiki/videos/08_02c.ogv" class="urlextern" title="http://elf.cs.pub.ro/sred/wiki/videos/08_02c.ogv"  rel="nofollow"> Rezolvare</a>
</div></div>

<p>
In order to enable <code>full-access</code> through the SSL tunnel, create a new user group named <code>ssl_vpn</code>. Add the <code>test_ssl</code> user to the <code>ssl_vpn</code> user group.
</p>
<div class="solution"><div class="solution_title"><span class="title_text">Rezolvare</span></div><div class="solution_contents"><a href="http://elf.cs.pub.ro/sred/wiki/videos/08_02d.ogv" class="urlextern" title="http://elf.cs.pub.ro/sred/wiki/videos/08_02d.ogv"  rel="nofollow"> Rezolvare</a>
</div></div>

</div>

<h4 id="ssl-vpn_policy">SSL-VPN Policy</h4>
<div class="level4">

<p>
Change the firewall policy to SSL/SSL-VPN.
</p>

<p>
Determine the correct values for the following policy fields (also create objects where necessary):
</p>
<ul>
<li class="level1"><div class="li"> Incoming Interface</div>
</li>
<li class="level1"><div class="li"> Remote Address</div>
</li>
<li class="level1"><div class="li"> Local Interface</div>
</li>
<li class="level1"><div class="li"> Local Protected Subnet </div>
</li>
</ul>

<p>
Permit access to any service at any time for members of the previously created user group (use the <em>Create New</em> button below <em>Configure SSL-VPN Authentication Rules</em>)
</p>

<p>
Use the full-access VPN portal.
</p>
<div class="solution"><div class="solution_title"><span class="title_text">Rezolvare</span></div><div class="solution_contents"><a href="http://elf.cs.pub.ro/sred/wiki/videos/08_023.ogv" class="urlextern" title="http://elf.cs.pub.ro/sred/wiki/videos/08_023.ogv"  rel="nofollow"> Rezolvare</a>
</div></div>

<p>
Test the SSL VPN setup by connecting to <a href="https://10.99.99.10:10443" class="urlextern" title="https://10.99.99.10:10443"  rel="nofollow">https://10.99.99.10:10443</a>. You might need to download a different browser from <a href="http://download.mozilla.org/?product=firefox-3.6.28&amp;os=linux&amp;lang=en-US" class="urlextern" title="http://download.mozilla.org/?product=firefox-3.6.28&amp;os=linux&amp;lang=en-US"  rel="nofollow">here</a>.
</p>

<p>
Create a new bookmark, called Ubuntu, to 200.0.0.1. Click the bookmark and analyze the resulting link.
</p>
<div class="solution"><div class="solution_title"><span class="title_text">Rezolvare</span></div><div class="solution_contents"><a href="http://elf.cs.pub.ro/sred/wiki/videos/08_02g.ogv" class="urlextern" title="http://elf.cs.pub.ro/sred/wiki/videos/08_02g.ogv"  rel="nofollow"> Rezolvare</a>
</div></div>

</div>
<!-- EDIT5 SECTION "2. SSL VPN" [585-] --></div>
</body>
</html>
