    
    

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
    Lab 4: Programming with Streams    [CS Open CourseWare]
  </title>

  <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2016-06-17T15:45:22+0300"/>
<meta name="keywords" content="iot2015,labs,04"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../feed.php%3Fmode=list&amp;ns=iot2015:labs"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/iot2015/labs/04.html"/>
<link rel="canonical" href="04.html"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php%3Ft=arctic&amp;tseed=1479898000.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='iot2015:labs';var JSINFO = {"id":"iot2015:labs:04","namespace":"iot2015:labs","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php%3Ftseed=1479898000"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>

  <link rel="shortcut icon" href="../../lib/tpl/arctic/images/favicon.ico" />

  
</head>
<body>
<div id="wrapper" class='show'>
  <div class="dokuwiki">

    
    <div class="stylehead">
      <div class="header">
        <div class="pagename">
          <a href="../index.html"><img height="70" src="../../res/sigla_iot.png"/> </a>        </div>
        <div class="logo">
          <a style="color: #AAA !important;" href="http://innovationlabs.ro"/><img height="70" src="../../res/sigla_il.png" name="dokuwiki__top"/></a>        </div>
      </div>
    
       
      <div class="breadcrumbs">
              </div>
      
            </div>

                  <div class="bar" id="bar__top">
        <div class="bar-left">
                  </div>
        <div class="bar-right">
          <a href="04%3Fdo=recent.html"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a><a href="04%3Fdo=login&amp;sectok=f62420cf5b01253da4b50505d148181b.html"  class="action login" rel="nofollow" title="Login">Login</a>        </div>
    </div>
        
    
    
    
              <div class="left_page">
          
<h1 class="sectionedit1" id="lab_4programming_with_streams">Lab 4: Programming with Streams</h1>
<div class="level1">

</div>

<h2 class="sectionedit2" id="multicolor_lamp">Multicolor lamp</h2>
<div class="level2">

<p>
Let&#039;s replace the simple blinking lamp with a multicolor one.
</p>

<p>
The purpose of this project is to light up an RGB LED in different colors. In order to achieve this, you need three PWM pins to control the LED and have a say on each of its colors. To work with them, you can add three sliders in the Dashboard and, according on the value they send, to set the intensity of each color. 
</p>

</div>

<h2 class="sectionedit3" id="what_you_need">What you need</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li">  One Edison connected to Wyliodrin;</div>
</li>
<li class="level1"><div class="li">  One RGB LED;</div>
</li>
<li class="level1"><div class="li">  Three 200 Ohm resistors;</div>
</li>
<li class="level1"><div class="li">  Male-male jumper wires.</div>
</li>
</ul>

</div>

<h2 class="sectionedit4" id="the_setup">The Setup</h2>
<div class="level2">

<p>
Connect the RGB LED to the Edison following the schematics in the figure.
<a href="../../_detail/iot2015/labs/rgbled.png%3Fid=iot2015%253Alabs%253A04.html" class="media" title="iot2015:labs:rgbled.png"><img src="../../_media/iot2015/labs/rgbled.png%3Fw=400&amp;tok=80196f" class="mediacenter" alt="" width="400" /></a>
The RGB LED is simply an LED consisting of three simple LEDs: a red one, a green one and a blue one. Each of these LEDs is controlled by a PWM pin, so that it can light brighter or dimmer. As a result, the color of the RGB LED will be the result of these three colors.
</p>

</div>

<h2 class="sectionedit5" id="the_code">The Code</h2>
<div class="level2">

<p>
You go to the Wyliodrin Applications page and create a new application. you name it and select Streams as programming language. 
<a href="../../_detail/iot2015/labs/rgb_code.png%3Fid=iot2015%253Alabs%253A04.html" class="media" title="iot2015:labs:rgb_code.png"><img src="../../_media/iot2015/labs/rgb_code.png%3Fw=350&amp;tok=ce1688" class="mediacenter" alt="" width="350" /></a>
The most important thing to do is to choose the node that receives the value given by your sliders. This node connects your application to the dashboard by making it subscribe to signals to be received. Basically, each time a signal is received, the code inside this node gets executed. You can see that the <em>receive signal</em> node also has two parameters: <em>name</em> and <em>signal</em>. <em>Name</em> is of no difficulty, it represents the name of the node and <em>signal</em> the name of the signal the application subscribes to.  As you can imply from the node&#039;s looks, there is no place in this node where you get a value. Why is that? Because the value in the message received changes its value each time a new signal comes. The dashboard has to send the application a value and this is how they interact: through messages. You can think of this message as of a container. The dashboard places the value inside, then it notifies the application, which gets the value from the container and can simply use it.
</p>

<p>
Once you have the value from the slider, you write it on the PWM pin, using the analog write function.
Now consider the sliders. In their settings you have to name them and make sure their scale is from 0 to 255, as those are the values a PWM pin expects.
<a href="../../_detail/iot2015/labs/rgbsliders.png%3Fid=iot2015%253Alabs%253A04.html" class="media" title="iot2015:labs:rgbsliders.png"><img src="../../_media/iot2015/labs/rgbsliders.png%3Fw=400&amp;tok=9ca263" class="mediacenter" alt="" width="400" /></a>
Once you click the <em>Run the application</em> button, the project will get deployed on the board.
</p>

</div>

<h2 class="sectionedit6" id="exercises">Exercises</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> Make a Streams application and use it to create a project that will light up a LED for 3 seconds at one press of a button. </div>
</li>
<li class="level1"><div class="li"> Do the same, using a switch from the dashboard instead of the button.</div>
</li>
<li class="level1"><div class="li"> Connect a button that you will have to press in order to turn on an LED and press again to turn the LED off.</div>
</li>
<li class="level1"><div class="li"> The same, only that if you have pressed the button once, for the next two seconds, pressing again the button will have no effect. In a nutshell, once you press the button, it will become inactive for the next two seconds.</div>
</li>
<li class="level1"><div class="li"> The same, but using the switch from the dashboard instead of the button.</div>
</li>
<li class="level1"><div class="li">  Make a chat in Python with your neighbour&#039;s board. You read the messages from the keyboard in Python and the messages received will be shown in Python as well. Every time a new message comes, you turn on an LED for a few seconds. This part of the project should be made using streams nodes.</div>
</li>
</ol>

</div>

        </div>
        <div class="right_sidebar">
          <form action="../../start.html" accept-charset="utf-8" class="search" id="dw__search" method="get"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>          <div class="namespace_sidebar sidebar_box">

<h1 class="sectionedit1" id="lectures">Lectures</h1>
<div class="level1">

<div><div id="nojs_indexmenu_941316882583579d3de0ab" data-jsajax="" class="indexmenu_nojs">

<ul class="idx">
<li class="level1"><div class="li"><a href="../courses/01.html" class="wikilink1" title="iot2015:courses:01">Lecture 1: Introduction to IoT</a></div></li>
<li class="level1"><div class="li"><a href="../courses/02.html" class="wikilink1" title="iot2015:courses:02">Lecture 2: Electronics for the Internet of Things</a></div></li>
<li class="level1"><div class="li"><a href="../courses/03.html" class="wikilink1" title="iot2015:courses:03">Lecture 3: Software for the Internet of Things</a></div></li>
<li class="level1"><div class="li"><a href="../courses/04.html" class="wikilink1" title="iot2015:courses:04">Lecture 4: Sensors and peripherals</a></div></li>
<li class="level1"><div class="li"><a href="../courses/05.html" class="wikilink1" title="iot2015:courses:05">Lecture 5: Wyliodrin Dashboard</a></div></li>
<li class="level1"><div class="li"><a href="../courses/06.html" class="wikilink1" title="iot2015:courses:06">Lecture 6: Web servers</a></div></li>
<li class="level1"><div class="li"><a href="../courses/07.html" class="wikilink1" title="iot2015:courses:07">Lecture 7: Signals and Systems</a></div></li>
<li class="level1"><div class="li"><a href="../courses/08.html" class="wikilink1" title="iot2015:courses:08">Lecture 8: Transfer Function</a></div></li>
<li class="level1"><div class="li"><a href="../courses/09.html" class="wikilink1" title="iot2015:courses:09">Lecture 9: Filters</a></div></li>
<li class="level1"><div class="li"><a href="../courses/10.html" class="wikilink1" title="iot2015:courses:10">Lecture 10: Cross platform mobile development</a></div></li>
<li class="level1"><div class="li"><a href="../courses/11.html" class="wikilink1" title="iot2015:courses:11">Lecture 11: Web Services</a></div></li>
<li class="level1"><div class="li"><a href="../courses/12.html" class="wikilink1" title="iot2015:courses:12">Lecture 12: PhoneGap plugins</a></div></li>
</ul>
</div></div>

</div>
<!-- EDIT1 SECTION "Lectures" [1-55] -->
<h1 class="sectionedit2" id="labs">Labs</h1>
<div class="level1">

<div><div id="nojs_indexmenu_627283587583579d3dffef" data-jsajax="" class="indexmenu_nojs">

<ul class="idx">
<li class="level1"><div class="li"><a href="01.html" class="wikilink1" title="iot2015:labs:01">Lab 1: Setting up Edison</a></div></li>
<li class="level1"><div class="li"><a href="02.html" class="wikilink1" title="iot2015:labs:02">Lab 2: Linux</a></div></li>
<li class="level1"><div class="li"><a href="03.html" class="wikilink1" title="iot2015:labs:03">Lab 3: Blink a LED</a></div></li>
<li class="level1"><div class="li"><span class="curid"><a href="04.html" class="wikilink1" title="iot2015:labs:04">Lab 4: Programming with Streams</a></span></div></li>
<li class="level1"><div class="li"><a href="05.html" class="wikilink1" title="iot2015:labs:05">Lab 5: Connecting Analog Sensors to the board and adding charts</a></div></li>
<li class="level1"><div class="li"><a href="06.html" class="wikilink1" title="iot2015:labs:06">Lab 6: Connect and use an LCD</a></div></li>
<li class="level1"><div class="li"><a href="07.html" class="wikilink1" title="iot2015:labs:07">Lab 7: Digital sensors</a></div></li>
<li class="level1"><div class="li"><a href="08.html" class="wikilink1" title="iot2015:labs:08">Lab 8: Web server</a></div></li>
<li class="level1"><div class="li"><a href="09.html" class="wikilink1" title="iot2015:labs:09">Lab 9: App Inventor</a></div></li>
<li class="level1"><div class="li"><a href="10.html" class="wikilink1" title="iot2015:labs:10">Lab 10: User Interface and User Experience</a></div></li>
<li class="level1"><div class="li"><a href="11.html" class="wikilink1" title="iot2015:labs:11">Lab 11: Web Services</a></div></li>
<li class="level1"><div class="li"><a href="12.html" class="wikilink1" title="iot2015:labs:12">Lab 12: Plugins and Local Storage</a></div></li>
</ul>
</div></div>

</div>
<!-- EDIT2 SECTION "Labs" [56-105] -->
<h1 class="sectionedit3" id="others">Others</h1>
<div class="level1">

<div><div id="nojs_indexmenu_1687972323583579d3e1f78" data-jsajax="" class="indexmenu_nojs">

<ul class="idx">
<li class="level1"><div class="li"><a href="../res/bilbiografie.html" class="wikilink1" title="iot2015:res:bilbiografie">Bibliography</a></div></li>
<li class="level1"><div class="li"><a href="../res/components.html" class="wikilink1" title="iot2015:res:components">Components</a></div></li>
<li class="level1"><div class="li"><a href="../res/electronics.html" class="wikilink1" title="iot2015:res:electronics">Electronics</a></div></li>
<li class="level1"><div class="li"><a href="../res/installingtools.html" class="wikilink1" title="iot2015:res:installingtools">App Inventor - Installing tools</a></div></li>
<li class="level1"><div class="li"><a href="../res/resistors.html" class="wikilink1" title="iot2015:res:resistors">Resistor Color Code</a></div></li>
<li class="level1"><div class="li"><a href="../res/streams.html" class="wikilink1" title="iot2015:res:streams">Streams nodes</a></div></li>
<li class="level1"><div class="li"><a href="../res/tipsandtricks.html" class="wikilink1" title="iot2015:res:tipsandtricks">Tips &amp; Tricks</a></div></li>
<li class="level1"><div class="li"><a href="../res/wyliodrin.html" class="wikilink1" title="iot2015:res:wyliodrin">Wyliodrin</a></div></li>
</ul>
</div></div>



</div>
<!-- EDIT3 SECTION "Others" [106-] -->
</div>
<div class="toc_sidebar sidebar_box">
<!-- TOC START -->
<div id="sb__right__dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="04.html#lab_4programming_with_streams">Lab 4: Programming with Streams</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="04.html#multicolor_lamp">Multicolor lamp</a></div></li>
<li class="level2"><div class="li"><a href="04.html#what_you_need">What you need</a></div></li>
<li class="level2"><div class="li"><a href="04.html#the_setup">The Setup</a></div></li>
<li class="level2"><div class="li"><a href="04.html#the_code">The Code</a></div></li>
<li class="level2"><div class="li"><a href="04.html#exercises">Exercises</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->
</div>
        </div>
      
    
      <div class="stylefoot">
        <div class="meta">
          <div class="user">
                    </div>
          <div class="doc">
          iot2015/labs/04.txt · Last modified: 2016/06/17 15:45 (external edit)          </div>
        </div>
      </div>

    <div class="clearer"></div>

    
                <div class="bar" id="bar__bottom">
      <div class="bar-left">
        <a href="04%3Fdo=revisions.html"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]">Old revisions</a>      </div>
      <div class="bar-right">
        <a href="04%3Fdo=media&amp;ns=iot2015%253Alabs.html"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a><a href="04.html#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]">Back to top</a>      </div>
    </div>
    <div class="clearer"></div>
            
    <div align="center" class="footerinc">
  <div class="license"><a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-sa.png" alt="CC Attribution-Share Alike 3.0 Unported" /></a></div>
  <a target="_blank" href="http://www.chimeric.de" title="www.chimeric.de"><img src="../../lib/tpl/arctic/images/button-chimeric-de.png" width="80" height="15" alt="www.chimeric.de" border="0" /></a>

  <a target="_blank" href="http://jigsaw.w3.org/css-validator/check/referer" title="Valid CSS"><img src="../../lib/tpl/arctic/images/button-css.png" width="80" height="15" alt="Valid CSS" border="0" /></a>

  <a target="_blank" href="http://wiki.splitbrain.org/wiki:dokuwiki" title="Driven by DokuWiki"><img src="../../lib/tpl/arctic/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" border="0" /></a>

  <a target="_blank" href="http://www.firefox-browser.de" title="do yourself a favour and use a real browser - get firefox"><img src="../../lib/tpl/arctic/images/button-firefox.png" width="80" height="15" alt="do yourself a favour and use a real browser - get firefox!!" border="0" /></a>
  
  <a target="_blank" href="../../feed.php" title="Recent changes RSS feed"><img src="../../lib/tpl/arctic/images/button-rss.png" width="80" height="15" alt="Recent changes RSS feed" border="0" /></a>

  <a target="_blank" href="http://validator.w3.org/check/referer" title="Valid XHTML 1.0"><img src="../../lib/tpl/arctic/images/button-xhtml.png" width="80" height="15" alt="Valid XHTML 1.0" border="0" /></a>
</div>

  </div>
</div>

<div class="no"><img src="../../lib/exe/indexer.php%3Fid=iot2015%253Alabs%253A04&amp;1479899603" width="2" height="1" alt="" /></div>
</body>
</html>
