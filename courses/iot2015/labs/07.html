    
    

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
    Lab 7: Digital sensors    [CS Open CourseWare]
  </title>

  <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2016-06-17T15:45:22+0300"/>
<meta name="keywords" content="iot2015,labs,07"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../feed.php%3Fmode=list&amp;ns=iot2015:labs"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/iot2015/labs/07.html"/>
<link rel="canonical" href="07.html"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php%3Ft=arctic&amp;tseed=1479898000.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='iot2015:labs';var JSINFO = {"id":"iot2015:labs:07","namespace":"iot2015:labs","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php%3Ftseed=1479898000"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>

  <link rel="shortcut icon" href="../../lib/tpl/arctic/images/favicon.ico" />

  
</head>
<body>
<div id="wrapper" class='show'>
  <div class="dokuwiki">

    
    <div class="stylehead">
      <div class="header">
        <div class="pagename">
          <a href="../index.html"><img height="70" src="../../res/sigla_iot.png"/> </a>        </div>
        <div class="logo">
          <a style="color: #AAA !important;" href="http://innovationlabs.ro"/><img height="70" src="../../res/sigla_il.png" name="dokuwiki__top"/></a>        </div>
      </div>
    
       
      <div class="breadcrumbs">
              </div>
      
            </div>

                  <div class="bar" id="bar__top">
        <div class="bar-left">
                  </div>
        <div class="bar-right">
          <a href="07%3Fdo=recent.html"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a><a href="07%3Fdo=login&amp;sectok=f62420cf5b01253da4b50505d148181b.html"  class="action login" rel="nofollow" title="Login">Login</a>        </div>
    </div>
        
    
    
    
              <div class="left_page">
          
<h1 class="sectionedit1" id="lab_7digital_sensors">Lab 7: Digital sensors</h1>
<div class="level1">

<p>
You have already used a number of sensors, which you connected to the analog pins. 
You will see now another type of sensor.
This digital sensor provides linearized, calibrated signals in I²C format.
</p>

</div>

<h2 class="sectionedit2" id="accelerometer">Accelerometer</h2>
<div class="level2">

</div>

<h3 class="sectionedit3" id="wiring">Wiring</h3>
<div class="level3">

<p>
You can connect the accelerometer either by SPI or I2C. 
The easiest way will be the I2C connection. SDA and SCL pins go to the respective ones on the board, GND to Ground and VCC to <strong> 3.3V</strong>. 
</p>

<p>
<a href="../../_detail/iot2015/labs/accel.png%3Fid=iot2015%253Alabs%253A07.html" class="media" title="iot2015:labs:accel.png"><img src="../../_media/iot2015/labs/accel.png%3Fw=500&amp;tok=270503" class="mediacenter" alt="" width="500" /></a>
</p>

</div>

<h3 class="sectionedit4" id="the_code">The code</h3>
<div class="level3">

<p>
Using streams, the code is just as easy to write. For the simplest application, just add a visual node where you will measure and return, in the payload, the acceleration on one of the axis, the one you chose. The visual blocks for the accelerometer can be found under <em>Sensors</em>, in the side menu, in section <em>Accelerometer</em>. There is one slight change you have to make. You don&#039;t need the default <em> set</em> block to initialise the sensor. You want the initialisation block, which can be found in the <em>Functions</em> section, under the name <em>Initialise…</em>
<a href="../../_detail/iot2015/labs/acceloblocks.png%3Fid=iot2015%253Alabs%253A07.html" class="media" title="iot2015:labs:acceloblocks.png"><img src="../../_media/iot2015/labs/acceloblocks.png%3Fw=400&amp;tok=9d44e5" class="mediacenter" alt="" width="400" /></a>
</p>

<p>
So the nodes you are going to use are <em> run </em>, followed by the visual node and then you can send a signal with the value, via the corresponding node, or print it on the screen, using <em> print </em>
</p>

</div>

<h2 class="sectionedit5" id="humidity_sensor">Humidity sensor</h2>
<div class="level2">

<p>
<a href="../../_detail/iot2015/labs/humidity.png%3Fid=iot2015%253Alabs%253A07.html" class="media" title="iot2015:labs:humidity.png"><img src="../../_media/iot2015/labs/humidity.png%3Fw=400&amp;tok=055d36" class="mediacenter" alt="" width="400" /></a>
You can use it both for temperature and humidity. 
It is easy to connect to the board, as you see in the example above. 
</p>

</div>

<h3 class="sectionedit6" id="the_code1">The code</h3>
<div class="level3">

<p>
As for the code, you only need a <em>visual</em> node to extract the data from the sensor.
<a href="../../_detail/iot2015/labs/strhumid.png%3Fid=iot2015%253Alabs%253A07.html" class="media" title="iot2015:labs:strhumid.png"><img src="../../_media/iot2015/labs/strhumid.png%3Fw=400&amp;tok=08f944" class="mediacenter" alt="" width="400" /></a>
</p>

<p>
Make sure that when you go under <em>sensors</em> and <em> humidity sensor</em> and drag the initialisation block, you extract only the blue, <em>init</em> block. Instead of putting it inside a <em>set</em> block, you choose from <em> function</em> the <em>initialise</em> block. This way, the values from the sensor will be stable. <br/>

<a href="../../_detail/iot2015/labs/humidblocks.png%3Fid=iot2015%253Alabs%253A07.html" class="media" title="iot2015:labs:humidblocks.png"><img src="../../_media/iot2015/labs/humidblocks.png%3Fw=400&amp;tok=216029" class="mediacenter" alt="" width="400" /></a>
In case you want to extract the humidity as well, you can use a <em>change</em> node.<br/>

<strong>Hint</strong> Double check to have <strong>the same name of the variable</strong> where the sensor was initialised and in the blocks where you take the values. 
</p>

</div>

<h2 class="sectionedit7" id="exercises">Exercises</h2>
<div class="level2">

<p>
Now, that you got friends with the sensors, you can make a variety of applications using it.
</p>

<p>
After you wired correctly and understood how the sensor works, start solving the following exercises,
</p>
<ol>
<li class="level1"><div class="li"> For each axis, show the value of the acceleration on an LCD</div>
</li>
<li class="level1"><div class="li"> Find the angle of inclination. You have to move the sensor on a single angle and apply the formula to find the angle. <br/>
<strong>angle=arcsin(A/g)</strong> , where A is the measured acceleration, g Earth gravity vector. </div>
</li>
<li class="level1"><div class="li"> Connect an LED to the Edison. Put the sensor on the desk and hit the desk. The sensor will register the vibrations from the collision  and light up the LED.</div>
</li>
<li class="level1"><div class="li"> Identify the movement&#039;s frequency on one of the axis using <em> fft</em> .</div>
</li>
<li class="level1"><div class="li"> Show the difference of temperature between a thermistor&#039;s value and the one given by the humidity sensor. Put the two on the same graphics and see the variation. <br/>
<strong> Hint</strong> you can find the function for the thermistor and the wiring in the sensors lab. </div>
</li>
<li class="level1"><div class="li"> Use this graphics to apply a signal filter in a filter design software. (Matlab, Octave )</div>
</li>
<li class="level1"><div class="li"> Calculate the difference between the values of the two sensors and show it on a chart.</div>
</li>
<li class="level1"><div class="li"> Create a low pass filter with the cutoff frequency wc, using a filter design software.</div>
</li>
<li class="level1"><div class="li"> Apply this filter to the signal sent by the thermistor. </div>
</li>
</ol>

</div>

        </div>
        <div class="right_sidebar">
          <form action="../../start.html" accept-charset="utf-8" class="search" id="dw__search" method="get"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>          <div class="namespace_sidebar sidebar_box">

<h1 class="sectionedit1" id="lectures">Lectures</h1>
<div class="level1">

<div><div id="nojs_indexmenu_1350645498583579d507fcd" data-jsajax="" class="indexmenu_nojs">

<ul class="idx">
<li class="level1"><div class="li"><a href="../courses/01.html" class="wikilink1" title="iot2015:courses:01">Lecture 1: Introduction to IoT</a></div></li>
<li class="level1"><div class="li"><a href="../courses/02.html" class="wikilink1" title="iot2015:courses:02">Lecture 2: Electronics for the Internet of Things</a></div></li>
<li class="level1"><div class="li"><a href="../courses/03.html" class="wikilink1" title="iot2015:courses:03">Lecture 3: Software for the Internet of Things</a></div></li>
<li class="level1"><div class="li"><a href="../courses/04.html" class="wikilink1" title="iot2015:courses:04">Lecture 4: Sensors and peripherals</a></div></li>
<li class="level1"><div class="li"><a href="../courses/05.html" class="wikilink1" title="iot2015:courses:05">Lecture 5: Wyliodrin Dashboard</a></div></li>
<li class="level1"><div class="li"><a href="../courses/06.html" class="wikilink1" title="iot2015:courses:06">Lecture 6: Web servers</a></div></li>
<li class="level1"><div class="li"><a href="../courses/07.html" class="wikilink1" title="iot2015:courses:07">Lecture 7: Signals and Systems</a></div></li>
<li class="level1"><div class="li"><a href="../courses/08.html" class="wikilink1" title="iot2015:courses:08">Lecture 8: Transfer Function</a></div></li>
<li class="level1"><div class="li"><a href="../courses/09.html" class="wikilink1" title="iot2015:courses:09">Lecture 9: Filters</a></div></li>
<li class="level1"><div class="li"><a href="../courses/10.html" class="wikilink1" title="iot2015:courses:10">Lecture 10: Cross platform mobile development</a></div></li>
<li class="level1"><div class="li"><a href="../courses/11.html" class="wikilink1" title="iot2015:courses:11">Lecture 11: Web Services</a></div></li>
<li class="level1"><div class="li"><a href="../courses/12.html" class="wikilink1" title="iot2015:courses:12">Lecture 12: PhoneGap plugins</a></div></li>
</ul>
</div></div>

</div>
<!-- EDIT1 SECTION "Lectures" [1-55] -->
<h1 class="sectionedit2" id="labs">Labs</h1>
<div class="level1">

<div><div id="nojs_indexmenu_1203255518583579d509f05" data-jsajax="" class="indexmenu_nojs">

<ul class="idx">
<li class="level1"><div class="li"><a href="01.html" class="wikilink1" title="iot2015:labs:01">Lab 1: Setting up Edison</a></div></li>
<li class="level1"><div class="li"><a href="02.html" class="wikilink1" title="iot2015:labs:02">Lab 2: Linux</a></div></li>
<li class="level1"><div class="li"><a href="03.html" class="wikilink1" title="iot2015:labs:03">Lab 3: Blink a LED</a></div></li>
<li class="level1"><div class="li"><a href="04.html" class="wikilink1" title="iot2015:labs:04">Lab 4: Programming with Streams</a></div></li>
<li class="level1"><div class="li"><a href="05.html" class="wikilink1" title="iot2015:labs:05">Lab 5: Connecting Analog Sensors to the board and adding charts</a></div></li>
<li class="level1"><div class="li"><a href="06.html" class="wikilink1" title="iot2015:labs:06">Lab 6: Connect and use an LCD</a></div></li>
<li class="level1"><div class="li"><span class="curid"><a href="07.html" class="wikilink1" title="iot2015:labs:07">Lab 7: Digital sensors</a></span></div></li>
<li class="level1"><div class="li"><a href="08.html" class="wikilink1" title="iot2015:labs:08">Lab 8: Web server</a></div></li>
<li class="level1"><div class="li"><a href="09.html" class="wikilink1" title="iot2015:labs:09">Lab 9: App Inventor</a></div></li>
<li class="level1"><div class="li"><a href="10.html" class="wikilink1" title="iot2015:labs:10">Lab 10: User Interface and User Experience</a></div></li>
<li class="level1"><div class="li"><a href="11.html" class="wikilink1" title="iot2015:labs:11">Lab 11: Web Services</a></div></li>
<li class="level1"><div class="li"><a href="12.html" class="wikilink1" title="iot2015:labs:12">Lab 12: Plugins and Local Storage</a></div></li>
</ul>
</div></div>

</div>
<!-- EDIT2 SECTION "Labs" [56-105] -->
<h1 class="sectionedit3" id="others">Others</h1>
<div class="level1">

<div><div id="nojs_indexmenu_1183492764583579d50be4a" data-jsajax="" class="indexmenu_nojs">

<ul class="idx">
<li class="level1"><div class="li"><a href="../res/bilbiografie.html" class="wikilink1" title="iot2015:res:bilbiografie">Bibliography</a></div></li>
<li class="level1"><div class="li"><a href="../res/components.html" class="wikilink1" title="iot2015:res:components">Components</a></div></li>
<li class="level1"><div class="li"><a href="../res/electronics.html" class="wikilink1" title="iot2015:res:electronics">Electronics</a></div></li>
<li class="level1"><div class="li"><a href="../res/installingtools.html" class="wikilink1" title="iot2015:res:installingtools">App Inventor - Installing tools</a></div></li>
<li class="level1"><div class="li"><a href="../res/resistors.html" class="wikilink1" title="iot2015:res:resistors">Resistor Color Code</a></div></li>
<li class="level1"><div class="li"><a href="../res/streams.html" class="wikilink1" title="iot2015:res:streams">Streams nodes</a></div></li>
<li class="level1"><div class="li"><a href="../res/tipsandtricks.html" class="wikilink1" title="iot2015:res:tipsandtricks">Tips &amp; Tricks</a></div></li>
<li class="level1"><div class="li"><a href="../res/wyliodrin.html" class="wikilink1" title="iot2015:res:wyliodrin">Wyliodrin</a></div></li>
</ul>
</div></div>



</div>
<!-- EDIT3 SECTION "Others" [106-] -->
</div>
<div class="toc_sidebar sidebar_box">
<!-- TOC START -->
<div id="sb__right__dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="07.html#lab_7digital_sensors">Lab 7: Digital sensors</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="07.html#accelerometer">Accelerometer</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="07.html#wiring">Wiring</a></div></li>
<li class="level3"><div class="li"><a href="07.html#the_code">The code</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="07.html#humidity_sensor">Humidity sensor</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="07.html#the_code1">The code</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="07.html#exercises">Exercises</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->
</div>
        </div>
      
    
      <div class="stylefoot">
        <div class="meta">
          <div class="user">
                    </div>
          <div class="doc">
          iot2015/labs/07.txt · Last modified: 2016/06/17 15:45 (external edit)          </div>
        </div>
      </div>

    <div class="clearer"></div>

    
                <div class="bar" id="bar__bottom">
      <div class="bar-left">
        <a href="07%3Fdo=revisions.html"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]">Old revisions</a>      </div>
      <div class="bar-right">
        <a href="07%3Fdo=media&amp;ns=iot2015%253Alabs.html"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a><a href="07.html#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]">Back to top</a>      </div>
    </div>
    <div class="clearer"></div>
            
    <div align="center" class="footerinc">
  <div class="license"><a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-sa.png" alt="CC Attribution-Share Alike 3.0 Unported" /></a></div>
  <a target="_blank" href="http://www.chimeric.de" title="www.chimeric.de"><img src="../../lib/tpl/arctic/images/button-chimeric-de.png" width="80" height="15" alt="www.chimeric.de" border="0" /></a>

  <a target="_blank" href="http://jigsaw.w3.org/css-validator/check/referer" title="Valid CSS"><img src="../../lib/tpl/arctic/images/button-css.png" width="80" height="15" alt="Valid CSS" border="0" /></a>

  <a target="_blank" href="http://wiki.splitbrain.org/wiki:dokuwiki" title="Driven by DokuWiki"><img src="../../lib/tpl/arctic/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" border="0" /></a>

  <a target="_blank" href="http://www.firefox-browser.de" title="do yourself a favour and use a real browser - get firefox"><img src="../../lib/tpl/arctic/images/button-firefox.png" width="80" height="15" alt="do yourself a favour and use a real browser - get firefox!!" border="0" /></a>
  
  <a target="_blank" href="../../feed.php" title="Recent changes RSS feed"><img src="../../lib/tpl/arctic/images/button-rss.png" width="80" height="15" alt="Recent changes RSS feed" border="0" /></a>

  <a target="_blank" href="http://validator.w3.org/check/referer" title="Valid XHTML 1.0"><img src="../../lib/tpl/arctic/images/button-xhtml.png" width="80" height="15" alt="Valid XHTML 1.0" border="0" /></a>
</div>

  </div>
</div>

<div class="no"><img src="../../lib/exe/indexer.php%3Fid=iot2015%253Alabs%253A07&amp;1479899605" width="2" height="1" alt="" /></div>
</body>
</html>
