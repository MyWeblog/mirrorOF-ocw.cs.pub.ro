    
    

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
    07. [15p] Adresare și configurare rute statice    [CS Open CourseWare]
  </title>

  <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2013-10-31T12:24:21+0200"/>
<meta name="keywords" content="rl,labs,05,contents,07"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../../../feed.php%3Fmode=list&amp;ns=rl:labs:05:contents"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../../../_export/xhtml/rl/labs/05/contents/07.html"/>
<link rel="canonical" href="07.html"/>
<link rel="stylesheet" type="text/css" href="../../../../lib/exe/css.php%3Ft=arctic&amp;tseed=1476798676.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='rl:labs:05:contents';var JSINFO = {"id":"rl:labs:05:contents:07","namespace":"rl:labs:05:contents","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../../../lib/exe/js.php%3Ftseed=1476798676"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>

  <link rel="shortcut icon" href="../../../../lib/tpl/arctic/images/favicon.ico" />

  
</head>
<body>
<div id="wrapper" class='show'>
  <div class="dokuwiki">

    
    <div class="stylehead">
      <div class="header">
        <div class="pagename">
          <a href="http://ocw.cs.pub.ro/courses/rl/"><img height="70" src="../../../../res/sigla_rl.png"/> </a>        </div>
        <div class="logo">
          <a style="color: #AAA !important;" href="../../../../systems/index.html"/><img height="70" src="../../../../res/systems.png" name="dokuwiki__top"/></a>        </div>
      </div>
    
       
      <div class="breadcrumbs">
              </div>
      
            </div>

                  <div class="bar" id="bar__top">
        <div class="bar-left">
                  </div>
        <div class="bar-right">
          <a href="07%3Fdo=recent.html"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a><a href="07%3Fdo=login&amp;sectok=f62420cf5b01253da4b50505d148181b.html"  class="action login" rel="nofollow" title="Login">Login</a>        </div>
    </div>
        
    
    
    
              <div class="left_page">
          
<h3 class="sectionedit1" id="p_adresare_si_configurare_rute_statice">07. [15p] Adresare și configurare rute statice</h3>
<div class="level3">

<p>
Dorim să configurăm rutarea într-o topologie cu trei rutere.
</p>

<p>
În topologia de la <a href="../../../../_media/rl/labs/05/contents/rl_lab-05_adresare-rutare-linie.pkt" class="media mediafile mf_pkt" title="rl:labs:05:contents:rl_lab-05_adresare-rutare-linie.pkt (8 KB)">această adresă</a> se află două rețele interconectate prin trei rutere cascadate. Dorim să asigurăm conectivitate completă între toate stațiile.
</p>

<p>
Pe moment sunt configurate:
</p>
<ul>
<li class="level1"><div class="li"> adresă IP pe fiecare stație</div>
</li>
<li class="level1"><div class="li"> default gateway pe fiecare stație: ruterul din rețea (de fapt adresa IP a ruterului din rețea)</div>
</li>
<li class="level1"><div class="li"> adresă IP pe fiecare interfață de ruter dintr-o rețea cu stații: <code>Router0(Fa0/0)</code>, <code>Router1(Fa1/0)</code></div>
</li>
</ul>

<p>
<p><div class="notetip">
Glisați (<em>hover</em>) mouse-ul deasupra stațiilor și ruterelor pentru a afla adresa IP a fiecărei stații și a interfeței configurate a fiecărui ruter.

</div></p>
</p>

<p>
Folosiți <code>ping</code> de pe fiecare din ruterele cu interfețele în rețele cu stații (<code>Router0</code> și <code>Router1</code>) pentru verificarea conectivității la stațiile din rețea. La fel, pentru stații, folosiți <code>ping</code> pentru a verifica conectivtatea la ruterul din rețea și la cealaltă stație. Pentru stații, pentru a folosi <code>ping</code>, accesați tab-ul <code>Desktop</code> și opțiunea <code>Command Prompt</code>.
</p>

<p>
Veți realiza următori pași:
</p>
<ol>
<li class="level1"><div class="li"> Veți configura adrese IP pe cele două rețele dintre rutere (<code>Router0(Fa1/0)</code> ↔ <code>Router2(Fa0/0)</code>, <code>Router2(Fa1/0)</code> ↔ <code>Router1(Fa0/0)</code>).</div>
</li>
<li class="level1"><div class="li"> Veți adăuga rutele necesare pe fiecare ruter (vor trebui adăugate câte două rute).</div>
</li>
<li class="level1"><div class="li"> Veți verifica faptul că toate stațiile sunt conectate cu ajutorul comenzii <code>ping</code> și veți depana problemele întâlnite.</div>
</li>
</ol>

<p>
Pentru cele două rețele dintre rutere configurați adresele astfel:
</p>
<ol>
<li class="level1"><div class="li"> Pentru rețeaua <code>Router0(Fa1/0)</code> ↔ <code>Router2(Fa0/0)</code> configurați adrese din spațiul <code>4.4.4.0/30</code>.</div>
</li>
<li class="level1"><div class="li"> Pentru rețeaua <code>Router2(Fa1/0)</code> ↔ <code>Router1(Fa0/0)</code> configurați adrese din spațiul <code>4.4.4.4/30</code>.</div>
</li>
</ol>

<p>
Pentru a asigura conectivitate între toate stațiile va trebui să adăugați rute statice pe rutere. Întrucât există patru rețele în topologie, fiecare ruter va avea în final patru rute. Momentan, fiecare ruter are câte două rute, ambele direct conectate. Verificați acest lucru prin rularea comenzii <code>show ip route</code>.
</p>

<p>
Vor trebui adăugate pe fiecare ruter câte două rute statice către rețelele care nu sunt direct conectate. Veți adăuga astfel:
</p>
<ul>
<li class="level1"><div class="li"> pe ruterul <code>Router0</code></div>
<ol>
<li class="level2"><div class="li"> o rută către rețeaua <code>Router2(Fa1/0)</code> ↔ <code>Router1(Fa0/0)</code> (adică <code>4.4.4.4/30</code>) având ca next hop adresa IP a interfeței <code>Fa0/0</code> a ruterului <code>Router2</code></div>
</li>
<li class="level2"><div class="li"> o rută către rețeaua stațiilor <code>PC2</code> și <code>PC3</code> (adică <code>172.16.100.0/24</code>) având ca next hop <strong>tot</strong> adresa IP a interfeței <code>Fa0/0</code> a ruterului <code>Router2</code></div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> pe ruterul <code>Router1</code></div>
<ol>
<li class="level2"><div class="li"> o rută către rețeaua <code>Router0(Fa1/0)</code> ↔ <code>Router2(Fa0/0)</code> (adică <code>4.4.4.0/30</code>) având ca next hop adresa IP a interfeței <code>Fa1/0</code> a ruterului <code>Router2</code></div>
</li>
<li class="level2"><div class="li"> o rută către rețeaua stațiilor <code>PC0</code> și <code>PC1</code> (adică <code>192.168.100.0/24</code>) având ca next hop <strong>tot</strong> adresa IP a interfeței <code>Fa1/0</code> a ruterului <code>Router2</code></div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> pe ruterul <code>Router2</code></div>
<ol>
<li class="level2"><div class="li"> o rută către rețeaua stațiilor <code>PC0</code> și <code>PC1</code> (adică <code>192.168.100.0/24</code>) având ca next hop adresa IP a interfeței <code>Fa1/0</code> a ruterului <code>Router0</code></div>
</li>
<li class="level2"><div class="li"> o rută către rețeaua stațiilor <code>PC2</code> și <code>PC3</code> (adică <code>172.16.100.0/24</code>) având ca next hop adresa IP a interfeței <code>Fa0/0</code> a ruterului <code>Router1</code></div>
</li>
</ol>
</li>
</ul>

<p>
În final, fiecare ruter va avea patru rute: două rute direct conectate și două rute statice conform configurației de mai sus. Folosiți comanda <code>show ip route</code> pentru a verifica acest lucru.
</p>

<p>
<p><div class="notetip">
Dacă ați greșit o rută, folosiți <code>no</code> în fața comenzii de adăugare de rute. De exemplu, dacă dorim să ștergem ruta către rețeaua <code>10.0.100.0/24</code> având ca next hop adresa IP <code>3.3.3.3</code>, vom folosi comanda:
</p>
<pre class="code">Router(config)#no ip route 10.0.100.0 255.255.255.0 3.3.3.3</pre>

<p>
Puteți căuta în istoria de comenzi, găsi comanda cu care ați adăugat ruta greșită și pune <code>no</code> în fața comenzii pentru a anula efectul acesteia.

</div></p>
</p>

<p>
După o configurare corectă veți avea conectivitate între toate stațiile din topologie. Pentru verificare folosiți comanda <code>ping</code> din meniul unei stații și transmiteți pachete către celelalte stații.
</p>

<p>
<p><div class="noteimportant">
În Cisco IOS primul pachet trimis poate să nu fie de fapt trimis din cauza absenței tabelei ARP. De aceea este posibil ca un set întreg de pachete trimise la rularea unei comenzi <code>ping</code> pe stație (sunt trimise patru în mod implicit) să eșueze, întrucât traversează multe rutere. A doua comandă <code>ping</code> pe stație va reuși, în cazul unei configurări corecte.

</div></p>
</p>

<p>
Dacă aveți probleme de conectivitate, verificați din aproape în aproape între ce dispozitive aveți sau nu conectivitate. Verificare din aproape în aproape înseamnă folosirea comenzii <code>ping</code> către adrese IP aflate la început aproape și apoi din ce în ce mai departe de stația care le-a generat. O verificare din aproape în aproape a conectivității între stațiile <code>PC0</code> și <code>PC2</code> înseamnă folosirea stația <code>PC0</code> a comenzii <code>ping</code> cu următoarele argumente:
</p>
<ol>
<li class="level1"><div class="li"> adresa IP a interfeței <code>Fa0/0</code> a ruterului <code>Router0</code>, adică <code>192.168.100.1</code></div>
</li>
<li class="level1"><div class="li"> adresa IP a interfeței <code>Fa1/0</code> a ruterului <code>Router0</code>, adică o adresă din rețeaua <code>4.4.4.0/30</code></div>
</li>
<li class="level1"><div class="li"> adresa IP a interfeței <code>Fa0/0</code> a ruterului <code>Router2</code>, adică cealaltă adresă din rețeaua <code>4.4.4.0/30</code></div>
</li>
<li class="level1"><div class="li"> adresa IP a interfeței <code>Fa1/0</code> a ruterului <code>Router2</code>, adică o adresă din rețeaua <code>4.4.4.4/30</code></div>
</li>
<li class="level1"><div class="li"> adresa IP a interfeței <code>Fa0/0</code> a ruterului <code>Router1</code>, adică cealaltă adresă din rețeaua <code>4.4.4.4/30</code></div>
</li>
<li class="level1"><div class="li"> adresa IP a interfeței <code>Fa1/0</code> a ruterului <code>Router1</code>, adică <code>172.16.100.1</code></div>
</li>
<li class="level1"><div class="li"> adresa IP a stației <code>PC2</code>, adică <code>172.16.100.2</code></div>
</li>
</ol>

<p>
În caz de probleme, urmăriți pe rutere adresele IP configurate (folosiți comanda <code>show ip interface brief</code>) și tabela de rutare (folosiți comanda <code>show ip route</code>) pentru fiecare ruter și identificați cauza problemei.
</p>

</div>

        </div>
        <div class="right_sidebar">
          <form action="../../../../start.html" accept-charset="utf-8" class="search" id="dw__search" method="get"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>          <div class="namespace_sidebar sidebar_box">

<h2 class="sectionedit1" id="navigare">Navigare</h2>
<div class="level2">

<p>
<strong><a href="../../05.html" class="wikilink1" title="rl:labs:05">Laboratorul 5</a></strong>
</p>

</div>
<!-- EDIT2 PLUGIN_INCLUDE_START "rl:labs:05:meta:nav" [0-] --><div class="plugin_include_content plugin_include__rl:labs:05:meta:nav">
<div class="level2">

<div><div id="nojs_indexmenu_20990257715835608bb1f58" data-jsajax="%26skipfile%3D%252B/sidebar/" class="indexmenu_nojs">

<ul class="idx">
<li class="level1"><div class="li"><a href="00.html" class="wikilink1" title="rl:labs:05:contents:00">00. [5p] Procesul de rutare</a></div></li>
<li class="level1"><div class="li"><a href="01.html" class="wikilink1" title="rl:labs:05:contents:01">01. [10p] Configurare default gateway</a></div></li>
<li class="level1"><div class="li"><a href="02.html" class="wikilink1" title="rl:labs:05:contents:02">02. [10p] Antetul pachetelor în procesul de rutare</a></div></li>
<li class="level1"><div class="li"><a href="03.html" class="wikilink1" title="rl:labs:05:contents:03">03. [5p] Rute și pachete de reply</a></div></li>
<li class="level1"><div class="li"><a href="04.html" class="wikilink1" title="rl:labs:05:contents:04">04. [10p] Adresare și default gateway</a></div></li>
<li class="level1"><div class="li"><a href="05.html" class="wikilink1" title="rl:labs:05:contents:05">05. [10p] Configurare rute statice</a></div></li>
<li class="level1"><div class="li"><a href="06.html" class="wikilink1" title="rl:labs:05:contents:06">06. [5p] Vizualizare tabelă de rutare</a></div></li>
<li class="level1"><div class="li"><span class="curid"><a href="07.html" class="wikilink1" title="rl:labs:05:contents:07">07. [15p] Adresare și configurare rute statice</a></span></div></li>
<li class="level1"><div class="li"><a href="08.html" class="wikilink1" title="rl:labs:05:contents:08">08. [10p] Depanare probleme de configurare a rutării</a></div></li>
<li class="level1"><div class="li"><a href="09.html" class="wikilink1" title="rl:labs:05:contents:09">09. [10p] Adresare și configurare rute statice (reiterare)</a></div></li>
<li class="level1"><div class="li"><a href="10.html" class="wikilink1" title="rl:labs:05:contents:10">10. [10p] Rute implicite pe rutere</a></div></li>
<li class="level1"><div class="li"><a href="11.html" class="wikilink1" title="rl:labs:05:contents:11">11. [BONUS - 10p] Adresare și configurare rute statice (avansat)</a></div></li>
<li class="level1"><div class="li"><a href="12.html" class="wikilink1" title="rl:labs:05:contents:12">12. [BONUS - 10p] Rutare inter-VLAN</a></div></li>
</ul>
</div></div>

</div>
<!-- EDIT3 PLUGIN_INCLUDE_END "rl:labs:05:meta:nav" [0-] --></div>
<div class="level2">

</div>

</div>
        </div>
      
    
      <div class="stylefoot">
        <div class="meta">
          <div class="user">
                    </div>
          <div class="doc">
          rl/labs/05/contents/07.txt · Last modified: 2013/10/31 12:24 by razvan.deaconescu          </div>
        </div>
      </div>

    <div class="clearer"></div>

    
                <div class="bar" id="bar__bottom">
      <div class="bar-left">
              </div>
      <div class="bar-right">
        <a href="07%3Fdo=media&amp;ns=rl%253Alabs%253A05%253Acontents.html"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a><a href="07.html#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]">Back to top</a>      </div>
    </div>
    <div class="clearer"></div>
            
    <div align="center" class="footerinc">
  <div class="license"><a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="../../../../lib/images/license/button/cc-by-sa.png" alt="CC Attribution-Share Alike 3.0 Unported" /></a></div>
  <a target="_blank" href="http://www.chimeric.de" title="www.chimeric.de"><img src="../../../../lib/tpl/arctic/images/button-chimeric-de.png" width="80" height="15" alt="www.chimeric.de" border="0" /></a>

  <a target="_blank" href="http://jigsaw.w3.org/css-validator/check/referer" title="Valid CSS"><img src="../../../../lib/tpl/arctic/images/button-css.png" width="80" height="15" alt="Valid CSS" border="0" /></a>

  <a target="_blank" href="http://wiki.splitbrain.org/wiki:dokuwiki" title="Driven by DokuWiki"><img src="../../../../lib/tpl/arctic/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" border="0" /></a>

  <a target="_blank" href="http://www.firefox-browser.de" title="do yourself a favour and use a real browser - get firefox"><img src="../../../../lib/tpl/arctic/images/button-firefox.png" width="80" height="15" alt="do yourself a favour and use a real browser - get firefox!!" border="0" /></a>
  
  <a target="_blank" href="../../../../feed.php" title="Recent changes RSS feed"><img src="../../../../lib/tpl/arctic/images/button-rss.png" width="80" height="15" alt="Recent changes RSS feed" border="0" /></a>

  <a target="_blank" href="http://validator.w3.org/check/referer" title="Valid XHTML 1.0"><img src="../../../../lib/tpl/arctic/images/button-xhtml.png" width="80" height="15" alt="Valid XHTML 1.0" border="0" /></a>
</div>

  </div>
</div>

<div class="no"><img src="../../../../lib/exe/indexer.php%3Fid=rl%253Alabs%253A05%253Acontents%253A07&amp;1479893131" width="2" height="1" alt="" /></div>
</body>
</html>
