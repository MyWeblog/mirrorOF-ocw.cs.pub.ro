    
    

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
    08. OpenGL on Android    [CS Open CourseWare]
  </title>

  <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2014-06-16T14:55:05+0300"/>
<meta name="keywords" content="ndk,courses,08"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../feed.php%3Fmode=list&amp;ns=ndk:courses"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/ndk/courses/08.html"/>
<link rel="canonical" href="08.html"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php%3Ft=arctic&amp;tseed=1479898000.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='ndk:courses';var JSINFO = {"id":"ndk:courses:08","namespace":"ndk:courses","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php%3Ftseed=1479898000"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>

  <link rel="shortcut icon" href="../../lib/tpl/arctic/images/favicon.ico" />

  
</head>
<body>
<div id="wrapper" class='show'>
  <div class="dokuwiki">

    
    <div class="stylehead">
      <div class="header">
        <div class="pagename">
          <a href="../index.html"><img height="70" src="../../res/sigla_ndk.png"/> </a>        </div>
        <div class="logo">
          <a style="color: #AAA !important;" href="../../systems/index.html"/><img height="70" src="../../res/systems.png" name="dokuwiki__top"/></a>        </div>
      </div>
    
       
      <div class="breadcrumbs">
              </div>
      
            </div>

                  <div class="bar" id="bar__top">
        <div class="bar-left">
                  </div>
        <div class="bar-right">
          <a href="08%3Fdo=recent.html"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a><a href="08%3Fdo=login&amp;sectok=f62420cf5b01253da4b50505d148181b.html"  class="action login" rel="nofollow" title="Login">Login</a>        </div>
    </div>
        
    
    
    
              <div class="left_page">
          
<h2 class="sectionedit1" id="opengl_on_android">08. OpenGL on Android</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Description: OpenGL, OpenGL ES, accessing GPU features with NDK</div>
</li>
<li class="level1"><div class="li"> Practical part: Create GPU-using apps</div>
</li>
</ul>

</div>

<h3 class="sectionedit2" id="lecture">Lecture</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"><a href="../../_media/ndk/courses/lecture-8.pdf" class="media mediafile mf_pdf" title="ndk:courses:lecture-8.pdf (936.7 KB)"> Lecture Slides</a></div>
</li>
</ul>

<p>
<iframe title="" src="../../_media/ndk/courses/lecture-8.pdf" style="width:98%; height:400px"></iframe>
</p>

</div>

<h3 class="sectionedit3" id="practical">Practical</h3>
<div class="level3">

<p>
Lab archive: <a href="../../_media/ndk/courses/lab-8.zip" class="media mediafile mf_zip" title="ndk:courses:lab-8.zip (16.4 KB)">lab-8.zip</a>
Lab solutions: <a href="../../_media/ndk/courses/lab-8-solved.zip" class="media mediafile mf_zip" title="ndk:courses:lab-8-solved.zip (15.5 KB)">lab-8-solved.zip</a>
</p>

<p>
<p><div class="notewarning">
 If running the emulator from command line make sure to add the OpenGL libraries to the path:
 export LD_LIBRARY_PATH=/opt/intel/beaconmountain/ADT/sdk/tools/lib/:$LD_LIBRARY_PATH 

</div></p>
</p>

</div>

<h4 id="task_1_-_draw_a_square_instead_of_a_triangle">Task 1 - Draw a square instead of a triangle</h4>
<div class="level4">

<p>
Polygons in OpenGL are made up of multiple triangles. To draw a square, you have to draw two triangles. Modify the lab starter code such that it draws a colored square. Remember, respect clockwise or counter clockwise order for drawing polygons, otherwise you will have problems later on.
</p>

<p>
(Hint: GL_TRIANGLE_STRIP)
</p>

</div>

<h4 id="task_2_-_move_the_camera_with_gestures">Task 2 - Move the camera with gestures</h4>
<div class="level4">

<p>
To use gestures, you have to add an <a href="http://developer.android.com/reference/android/view/View.OnTouchListener.html" class="urlextern" title="http://developer.android.com/reference/android/view/View.OnTouchListener.html"  rel="nofollow">OnTouchListener</a> to the view or overwrite the onTouchEvent of the activity or GLSurfaceView. The received <a href="http://developer.android.com/reference/android/view/MotionEvent.html" class="urlextern" title="http://developer.android.com/reference/android/view/MotionEvent.html"  rel="nofollow">MotionEvent</a> will contain the gesture type and the position. You want to capture ACTION_MOVE and get X and Y position, and then transmit them to the step method, and use them for modifying one of the rotation parameters (rx, ry, or rz). Remember to return true, otherwise you will not receive any more events.
</p>

</div>

<h4 id="task_3_-_using_android_debugging_capabilities">Task 3 - Using Android debugging capabilities</h4>
<div class="level4">

<p>
Look in the settings menu under “Developer Options”.
</p>

<p>
There are 4 options of interest:
</p>
<ul>
<li class="level1"><div class="li"> Debug GPU overdraw - this shows which parts of the screen are drawn over more than once. If there are many part of the screen updated more than once it can lead to performance problems. Clip the objects which are not visible.</div>
</li>
<li class="level1"><div class="li"> Debug Non Rectangluar Clipping Operations - see parts clipped using the stencil buffer (helpful to debug stencil buffer)</div>
</li>
<li class="level1"><div class="li"> Profile GPU rendering - draws bars or lines on screen to determine how long it takes to update a view (blue is how long it takes to create commands, orange is how long it takes to issue commands, and yellow is how much it takes to draw the commands) or through dumpsys gfxinfo.</div>
</li>
<li class="level1"><div class="li"> Enable OpenGL traces - creates traces to use with Tracer or to inspect visually.</div>
</li>
</ul>

</div>

<h4 id="task_4_-_use_tracer_for_opengl_es">Task 4 - Use Tracer for OpenGL ES</h4>
<div class="level4">

<p>
In Eclipse switch to Tracer perspective (<strong>Window &gt; Open Perspective &gt; Other</strong>). In the context bar there should be two new icons: <strong>Open existing trace</strong> and <strong>Connect to a device</strong>. Use the second one, choose the device and use the package and activity name of the application: package com.android.gl2jni and activity GL2JNIActivity.
</p>

</div>

        </div>
        <div class="right_sidebar">
          <form action="../../start.html" accept-charset="utf-8" class="search" id="dw__search" method="get"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>          <div class="namespace_sidebar sidebar_box">

<p>
<a href="../grading.html" class="wikilink1" title="ndk:grading">Rules and Grading</a> <br/>

<a href="../register.html" class="wikilink1" title="ndk:register">Class Register</a>
</p>

<h1 class="sectionedit1" id="lectures_labs">Lectures &amp; labs</h1>
<div class="level1">

<div><div id="nojs_indexmenu_150936082658357acaa98f6" data-jsajax="" class="indexmenu_nojs">

<ul class="idx">
<li class="level1"><div class="li"><a href="01.html" class="wikilink1" title="ndk:courses:01">01. Android Technology</a></div></li>
<li class="level1"><div class="li"><a href="02.html" class="wikilink1" title="ndk:courses:02">02. Android Platform</a></div></li>
<li class="level1"><div class="li"><a href="03.html" class="wikilink1" title="ndk:courses:03">03. Android Internals</a></div></li>
<li class="level1"><div class="li"><a href="04.html" class="wikilink1" title="ndk:courses:04">04. C, Bionic and Low-Level Libraries</a></div></li>
<li class="level1"><div class="li"><a href="05.html" class="wikilink1" title="ndk:courses:05">05. NDK Integration (JNI)</a></div></li>
<li class="level1"><div class="li"><a href="06.html" class="wikilink1" title="ndk:courses:06">06. NDK Integration (JNI)</a></div></li>
<li class="level1"><div class="li"><a href="07.html" class="wikilink1" title="ndk:courses:07">07. Debugging and Profiling</a></div></li>
<li class="level1"><div class="li"><span class="curid"><a href="08.html" class="wikilink1" title="ndk:courses:08">08. OpenGL on Android</a></span></div></li>
<li class="level1"><div class="li"><a href="09.html" class="wikilink1" title="ndk:courses:09">09. Native Activity</a></div></li>
<li class="level1"><div class="li"><a href="10.html" class="wikilink1" title="ndk:courses:10">10. Renderscript</a></div></li>
<li class="level1"><div class="li"><a href="11.html" class="wikilink1" title="ndk:courses:11">11. NDK Optimization and Portability</a></div></li>
</ul>
</div></div>

</div>
<!-- EDIT1 SECTION "Lectures & labs" [73-130] -->
<h1 class="sectionedit2" id="resources">Resources</h1>
<div class="level1">

<div><div id="nojs_indexmenu_163568142658357acaaa894" data-jsajax="" class="indexmenu_nojs">

<ul class="idx">
<li class="level1"><div class="li"><a href="../resources/01.html" class="wikilink1" title="ndk:resources:01">Resources</a></div></li>
</ul>
</div></div>

</div>
<!-- EDIT2 SECTION "Resources" [131-184] -->
<h1 class="sectionedit3" id="assignments">Assignments</h1>
<div class="level1">

<div><div id="nojs_indexmenu_89485109458357acaab832" data-jsajax="" class="indexmenu_nojs">

<ul class="idx">
<li class="level1"><div class="li"><a href="../assignments/project.html" class="wikilink1" title="ndk:assignments:project">Project</a></div></li>
<li class="level1"><div class="li"><a href="../assignments/warmup.html" class="wikilink1" title="ndk:assignments:warmup">Warm-up assignment</a></div></li>
</ul>
</div></div>

</div>
<!-- EDIT3 SECTION "Assignments" [185-] -->
</div>
<div class="toc_sidebar sidebar_box">
<!-- TOC START -->
<div id="sb__right__dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level2"><div class="li"><a href="08.html#opengl_on_android">08. OpenGL on Android</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="08.html#lecture">Lecture</a></div></li>
<li class="level3"><div class="li"><a href="08.html#practical">Practical</a></div>
<ul class="toc">
<li class="level4"><div class="li"><a href="08.html#task_1_-_draw_a_square_instead_of_a_triangle">Task 1 - Draw a square instead of a triangle</a></div></li>
<li class="level4"><div class="li"><a href="08.html#task_2_-_move_the_camera_with_gestures">Task 2 - Move the camera with gestures</a></div></li>
<li class="level4"><div class="li"><a href="08.html#task_3_-_using_android_debugging_capabilities">Task 3 - Using Android debugging capabilities</a></div></li>
<li class="level4"><div class="li"><a href="08.html#task_4_-_use_tracer_for_opengl_es">Task 4 - Use Tracer for OpenGL ES</a></div></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->
</div>
        </div>
      
    
      <div class="stylefoot">
        <div class="meta">
          <div class="user">
                    </div>
          <div class="doc">
          ndk/courses/08.txt · Last modified: 2014/06/16 14:55 by petre.eftime          </div>
        </div>
      </div>

    <div class="clearer"></div>

    
                <div class="bar" id="bar__bottom">
      <div class="bar-left">
        <a href="08%3Fdo=revisions.html"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]">Old revisions</a>      </div>
      <div class="bar-right">
        <a href="08%3Fdo=media&amp;ns=ndk%253Acourses.html"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a><a href="08.html#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]">Back to top</a>      </div>
    </div>
    <div class="clearer"></div>
            
    <div align="center" class="footerinc">
  <div class="license"><a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-sa.png" alt="CC Attribution-Share Alike 3.0 Unported" /></a></div>
  <a target="_blank" href="http://www.chimeric.de" title="www.chimeric.de"><img src="../../lib/tpl/arctic/images/button-chimeric-de.png" width="80" height="15" alt="www.chimeric.de" border="0" /></a>

  <a target="_blank" href="http://jigsaw.w3.org/css-validator/check/referer" title="Valid CSS"><img src="../../lib/tpl/arctic/images/button-css.png" width="80" height="15" alt="Valid CSS" border="0" /></a>

  <a target="_blank" href="http://wiki.splitbrain.org/wiki:dokuwiki" title="Driven by DokuWiki"><img src="../../lib/tpl/arctic/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" border="0" /></a>

  <a target="_blank" href="http://www.firefox-browser.de" title="do yourself a favour and use a real browser - get firefox"><img src="../../lib/tpl/arctic/images/button-firefox.png" width="80" height="15" alt="do yourself a favour and use a real browser - get firefox!!" border="0" /></a>
  
  <a target="_blank" href="../../feed.php" title="Recent changes RSS feed"><img src="../../lib/tpl/arctic/images/button-rss.png" width="80" height="15" alt="Recent changes RSS feed" border="0" /></a>

  <a target="_blank" href="http://validator.w3.org/check/referer" title="Valid XHTML 1.0"><img src="../../lib/tpl/arctic/images/button-xhtml.png" width="80" height="15" alt="Valid XHTML 1.0" border="0" /></a>
</div>

  </div>
</div>

<div class="no"><img src="../../lib/exe/indexer.php%3Fid=ndk%253Acourses%253A08&amp;1479899850" width="2" height="1" alt="" /></div>
</body>
</html>
