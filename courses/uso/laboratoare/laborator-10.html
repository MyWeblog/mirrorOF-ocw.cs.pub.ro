    
    

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
    Laborator 10 - Stocarea si prelucrarea datelor    [CS Open CourseWare]
  </title>

  <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="noindex,nofollow"/>
<meta name="date" content="2016-11-22T23:35:17+0200"/>
<meta name="keywords" content="uso,laboratoare,laborator-10"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="CS Open CourseWare"/>
<link rel="start" href="../../../courses.1.html"/>
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../feed.php%3Fmode=list&amp;ns=uso:laboratoare"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="http://ocw.cs.pub.ro/courses/_export/xhtml/uso/laboratoare/laborator-10"/>
<link rel="canonical" href="laborator-10.html"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php%3Ft=arctic&amp;tseed=1479898000.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='uso:laboratoare';var JSINFO = {"id":"uso:laboratoare:laborator-10","namespace":"uso:laboratoare","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php%3Ftseed=1479898000"></script>
<script type="text/x-mathjax-config">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>

  <link rel="shortcut icon" href="../../lib/tpl/arctic/images/favicon.ico" />

  
</head>
<body>
<div id="wrapper" class='show'>
  <div class="dokuwiki">

    
    <div class="stylehead">
      <div class="header">
        <div class="pagename">
          <a href="http://ocw.cs.pub.ro/courses/uso/"><img height="70" src="../../res/sigla_uso.png"/> </a>        </div>
        <div class="logo">
          <a style="color: #AAA !important;" href="../../systems/index.html"/><img height="70" src="../../res/systems.png" name="dokuwiki__top"/></a>        </div>
      </div>
    
       
      <div class="breadcrumbs">
              </div>
      
            </div>

                  <div class="bar" id="bar__top">
        <div class="bar-left">
                  </div>
        <div class="bar-right">
          <a href="http://ocw.cs.pub.ro/courses/uso/laboratoare/laborator-10?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a><a href="http://ocw.cs.pub.ro/courses/uso/laboratoare/laborator-10?do=login&amp;sectok=f62420cf5b01253da4b50505d148181b"  class="action login" rel="nofollow" title="Login">Login</a>        </div>
    </div>
        
    
    
    
              <div class="left_page">
          
<h1 class="sectionedit1" id="laborator_10_-_stocarea_si_prelucrarea_datelor">Laborator 10 - Stocarea si prelucrarea datelor</h1>
<div class="level1">

</div>

<h1 class="sectionedit2" id="suport_laborator">Suport laborator</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> <strong>Cuvinte cheie</strong>: date digitale, structurate, nestructurate, entitate, proprietate, asociere, format tabelar, format text, format binar, serializare, atribut-valoare, INI, JSON, YAML, XML, CSV, spreadsheet, bază de date, SGBD, DBMS, relațional, RDMBS, interogare, SQL, sed, histograma, gnuplot</div>
</li>
</ul>

</div>

<h1 class="sectionedit3" id="repository_laborator">Repository laborator</h1>
<div class="level1">

<p>
Pentru a descărca fișierele necesare acestui laborator deschidem un terminal (folosim combinația de taste <code>Alt+Ctrl+t</code>) și clonăm repository-ului oficial uso. Folosim comanda:
</p>
<pre class="code bash"><span class="co4">student@midgard:~$ </span><span class="kw2">git clone</span> https:<span class="sy0">//</span>github.com<span class="sy0">/</span>systems-cs-pub-ro<span class="sy0">/</span>uso</pre>

<p>
În directorul <code>/home/student/uso/lab09</code> găsim fișierele necesare pentru laboratorul 9.
</p>

<p>
În plus, avem nevoie de câteva <strong>pachete suplimentare</strong>:
</p>
<pre class="code bash"><span class="co4">student@midgard:~$ </span><span class="kw2">sudo</span> <span class="kw2">apt-get update</span>; <span class="kw2">sudo</span> <span class="kw2">apt-get install</span> sqlite</pre>

</div>

<h1 class="sectionedit4" id="prezentare_generala">Prezentare generală</h1>
<div class="level1">

<p>
Pe parcursul acestui laborator, vom urmări moduri în care putem stoca, analiza și prelucra datele. Termenul în limba engleză pentru prelucrarea datelor este <strong><em>data processing</em></strong> sau <strong><em>data analysis</em></strong>.
</p>
<div class="hiddenGlobal  hiddenActive"><div class="hiddenElements"></div><div class="hiddenHead  hiddenSinceBeginning"><div class="hiddenOnHidden">
<p>
Click pentru mai multe informații
</p>
</div><div class="hiddenOnVisible">
<p>
Click pentru mai multe informații
</p>
</div></div> <!-- .hiddenHead --><div class="hiddenBody">
<p>
Prin prelucrarea datelor ne referim la preluarea acestora din formatul de stocare și prezentarea acestora într-o formă utilă unui observator uman. Operații de acest tip sunt convertirea datelor într-un alt format, căutarea și selectarea anumitor informații (care satisfac criterii date), sortarea datelor, sumarizarea informațiilor, realizarea de grafice. În general, procesul de prelucrare a datelor are la intrare date în formatul de stocare, iar la ieșire are un format de prezentare: diagrame sau grafice (numite și <em>plots</em> sau <em>charts</em>), rapoarte, date tabelare, date numerice. Formatul de prezentare trebuie să conțină informația într-o formă cât mai accesibilă și mai ușor de urmărit de observatorul uman.
</p>

<p>
Spre exemplu, fie situația în care avem un fișier cu date în format CSV (<em>Comma Separated Values</em>) cu studenți, grupele din care fac parte și notele la USO. Acest fișier reprezintă datele de intrare stocate în format CSV. În urma prelucrării datelor, putem avea următoarele forme de ieșire/output:
</p>
<ul>
<li class="level1"><div class="li"> lista studenților care au nota 10</div>
</li>
<li class="level1"><div class="li"> un tabel cu studenții și grupele din care fac parte care au nota 10</div>
</li>
<li class="level1"><div class="li"> un tabel cu studenții, grupele din care fac parte și notele studenților sortate în ordinea notelor</div>
</li>
<li class="level1"><div class="li"> un tabel cu studenții al căror nume de familie începe cu o literă din intervalul <code>A-M</code> și nota acestora la USO</div>
</li>
<li class="level1"><div class="li"> media notelor din tabel</div>
</li>
<li class="level1"><div class="li"> abaterea pătratică medie (<em>standard deviation</em>) a notelor din fișier</div>
</li>
<li class="level1"><div class="li"> un tabel cu grupele, media notelor studenților din grupă și abaterea pătratică medie</div>
</li>
<li class="level1"><div class="li"> un grafic de tipul <em>plot</em> (cu puncte) cu notele pe abscisă (1 până la 10) și numărul de note pe ordonată (câți studenți au luat acea notă)</div>
</li>
<li class="level1"><div class="li"> un grafic de tipul histogramă sau de tipul <em>barchart</em> (cu bare) cu numărul de note</div>
</li>
</ul>

<p>
Formatul de ieșire/output/prezentare (tabel, raport, număr, grafic) ține de cerințele observatorului uman. Datele selectate și prezentate țin, de asemenea, de relevanța acestora pentru utilizatorul uman. Este posibil ca într-o situație să nu conteze numele de familie al studentului, dar în alta să conteze. Poate pentru un observator contează data nașterii sau domiciliul (presupunând că aceste informații ar fi disponibile), dar pentru altul nu contează. Metodele de prelucrare a datelor sunt, astfel, doar metode, observatorul uman decidând cum le va folosi, pe ce date vor fi aplicate și care va fi formatul de ieșire.
</p>

<p>
Datele de intrare sunt într-un format anume. În general, parcurgerea datelor de intrare și interpretarea lor poartă numele de parsarea datelor (sau <strong><em>data parsing</em></strong>) (tradusă parțial în limba română ca <em>analiza datelor</em>). Dacă formatul de intrare este JSON spunem că parsăm datele în format JSON. În urma parsării datele sunt puse în memorie în formă de vectori, liste, arbori sau alte structuri de date, unde pot fi apoi prelucrate; utilitarul care face parsarea se cheamă <strong><em>parser</em></strong>. În cazul în care datele sunt stocate într-un format cunoscut (JSON, CSV, YAML, INI) putem apela la parsere deja existente. Altfel, dacă datele sunt stocate într-un format oarecare, va trebui să implementăm mecanismul de parsare.
</p>

<p>
Diagrama de mai jos sumarizează fazele procesului de prelucrare a datelor.
</p>

<p>
<a href="http://ocw.cs.pub.ro/courses/_detail/uso/laboratoare/prelucrarea-datelor.png?id=uso%3Alaboratoare%3Alaborator-10" class="media" title="uso:laboratoare:prelucrarea-datelor.png"><img src="http://ocw.cs.pub.ro/courses/_media/uso/laboratoare/prelucrarea-datelor.png?w=800&amp;tok=6b49d6" class="mediacenter" alt="" width="800" /></a>
</p>
</div></div>
</div>

<h1 class="sectionedit5" id="demo">Demo</h1>
<div class="level1">

<p>
În continuare, împreună cu asistentul veți parcurge câteva exerciții de tip demo/tutorial pentru a vă acomoda cu noțiunile, metodele și utilitarele pentru prelucrarea datelor. Vom insista pe aspectele practice; pentru aspectele conceptuale consultați <a href="../cursuri/curs-11.html" class="wikilink1" title="uso:cursuri:curs-11">cursul 11: Prelucrarea datelor</a>.
</p>

</div>

<h2 class="sectionedit6" id="formatul_tabelar">1. Formatul Tabelar</h2>
<div class="level2">

<p>
Un alt mod de stocare a informațiilor este sub formă tabelară. Fiecare o să ocupe propria linie în cadrul tabelului, iar fiecare atribut o să aibă propria coloană.
</p>
<div class="table sectionedit7"><table class="inline">
	<tr class="row0">
		<td class="col0">Nr.</td><td class="col1">Producator </td><td class="col2 leftalign"> Model         </td><td class="col3 leftalign"> Frecventa     </td><td class="col4 leftalign"> Cache      </td>
	</tr>
	<tr class="row1">
		<td class="col0">1. </td><td class="col1 leftalign">Intel	</td><td class="col2 leftalign"> i7-5960X	</td><td class="col3 leftalign"> 3.00GHz	</td><td class="col4"> 20MB Cache </td>
	</tr>
	<tr class="row2">
		<td class="col0">2. </td><td class="col1 leftalign">Intel	</td><td class="col2 leftalign"> i7-5930K	</td><td class="col3 leftalign"> 3.50GHz	</td><td class="col4"> 15MB Cache </td>
	</tr>
	<tr class="row3">
		<td class="col0">3. </td><td class="col1 leftalign">Intel	</td><td class="col2 leftalign"> i7-4790K	</td><td class="col3 leftalign"> 4.00GHz	</td><td class="col4 leftalign"> 8MB Cache  </td>
	</tr>
	<tr class="row4">
		<td class="col0">4. </td><td class="col1 leftalign">AMD	</td><td class="col2 leftalign"> FX X8 9370	</td><td class="col3 leftalign"> 4.70GHz	</td><td class="col4"> 16MB Cache </td>
	</tr>
	<tr class="row5">
		<td class="col0">5. </td><td class="col1 leftalign">AMD	</td><td class="col2 leftalign"> FX X8 9370	</td><td class="col3 leftalign"> 4.40GHz	</td><td class="col4"> 16MB Cache </td>
	</tr>
</table></div>

<p>
Există o mulțime de formate de fișiere, care se bazează pe stocarea informațiilor sub forma unor tabele. Cele mai importante sunt <strong>CSV</strong>, <strong>ODT</strong>, <strong>ODS</strong> etc. Datele pot fi stocate fie în forma binară, fie în text clar.
</p>

<p>
Aplicații care sunt specializate pe lucrul cu astfel de formate sunt: Microsoft Excel, LibreOffice Calc, Google Sheets.
</p>

</div>

<h2 class="sectionedit8" id="baze_de_date">2. Baze de date</h2>
<div class="level2">

<p>
O bază de date, reprezintă un mod de stocare a informațiilor pe un suport extern.
</p>

<p>
Ca şi utilitate, bazele de date ne permit:
</p>
<ul>
<li class="level1"><div class="li"> memorarea unor cantităţi mari de date</div>
</li>
<li class="level1"><div class="li"> regăsirea datelor pe baza unor criterii ce căutare (ce sunt legate în mod direct de structurarea datelor)</div>
</li>
<li class="level1"><div class="li"> prelucrarea unor volume mari de date (filtrare, ordonare, agregare).</div>
</li>
</ul>

<p>
Pornind de la același model de structurare a datelor (sub forma tabelară) s-au dezvoltat <strong>bazele de date relaționale</strong>.
Acestea sunt un tip de baze de date în care datele, văzute ca şi atribute ale entităţilor reale, sunt stocate în tabele şi sunt legate între ele prin relaţii. 
</p>

<p>
Acest mod de structurare a datelor, bazat pe legături între date, permite eliminarea redundanţei, astfel încât stocarea şi, mai ales, modificarea unei informaţii se face într-un singur loc, iar, din punct de vedere funcţional, această structură permite regăsirea, filtrarea, ordonarea şi agregarea datelor, în mod natural.
</p>

<p>
Pentru manipularea și accesul la bazele de date relaționale, se folosește limbajul <strong>SQL</strong>.
</p>

<p>
Pentru a putea rula comenzi SQL, avem nevoie de o bază de date pe care să lucrăm:
</p>
<pre class="code bash"><span class="co4">student@midgard:~/uso/lab10$ </span>sqlite3 lab10 <span class="sy0">&lt;</span> db<span class="sy0">/</span>lab10.dump</pre>

<p>
Cea mai simplă comandă, care listează toate intrările dintr-o tabelă este următoarea:
</p>
<pre class="code bash">student<span class="sy0">@</span>midgard:~<span class="sy0">/</span>uso<span class="sy0">/</span>lab10$ sqlite3 lab10 <span class="st0">&quot;select * from students&quot;</span>;
<span class="nu0">1</span><span class="sy0">|</span>Ionescu<span class="sy0">|</span>Ion<span class="sy0">|</span><span class="nu0">7.0</span>
<span class="nu0">2</span><span class="sy0">|</span>Gheorghescu<span class="sy0">|</span>Gheorghe<span class="sy0">|</span><span class="nu0">3.0</span>
<span class="nu0">3</span><span class="sy0">|</span>Vasilescu<span class="sy0">|</span>Vasile<span class="sy0">|</span><span class="nu0">8.0</span>
<span class="nu0">4</span><span class="sy0">|</span>Marinescu<span class="sy0">|</span>Marian<span class="sy0">|</span><span class="nu0">10.0</span></pre>

<p>
Dacă vrem să limităm afișarea doar la coloana cu nume (filtrare pe coloane), folosim comanda:
</p>
<pre class="code bash">student<span class="sy0">@</span>midgard:~<span class="sy0">/</span>uso<span class="sy0">/</span>lab10$ sqlite3 lab10 <span class="st0">&quot;select nume from students&quot;</span>;
Ionescu
Gheorghescu
Vasilescu
Marinescu</pre>

<p>
Dacă se dorește afișarea unui număr mai mic de intrări (filtrare pe linii), se folosește cuvântul cheie <strong>WHERE</strong>:
</p>
<pre class="code bash">student<span class="sy0">@</span>midgard:~<span class="sy0">/</span>uso<span class="sy0">/</span>lab10$ sqlite3 lab10 <span class="st0">&quot;select * from students WHERE nota &gt; 5&quot;</span>;
<span class="nu0">1</span><span class="sy0">|</span>Ionescu<span class="sy0">|</span>Ion<span class="sy0">|</span><span class="nu0">7.0</span>
<span class="nu0">3</span><span class="sy0">|</span>Vasilescu<span class="sy0">|</span>Vasile<span class="sy0">|</span><span class="nu0">8.0</span>
<span class="nu0">4</span><span class="sy0">|</span>Marinescu<span class="sy0">|</span>Marian<span class="sy0">|</span><span class="nu0">10.0</span></pre>

<p>
<p><div class="noteimportant">
Observați că toate instrucțiunile SQL se finalizează cu simbolul <strong>;</strong>

</div></p>
</p>

</div>

<h2 class="sectionedit9" id="sed">3. Sed</h2>
<div class="level2">

<p>
<a href="https://linux.die.net/man/1/sed" class="urlextern" title="https://linux.die.net/man/1/sed"  rel="nofollow">sed</a> este un <strong>stream editor</strong>. Sintaxa pentru <code>sed</code> este: 
</p>
<pre class="code bash"> <span class="kw2">sed</span> <span class="sy0">/</span>pattern<span class="sy0">/</span> action input_files </pre>

<p>
<strong>Pattern</strong> este o <strong>expresie regulată</strong> (vom învăța mai multe despre expresii regulate în laboratorul următor). Caracterele / din jurul expresiei regulate sunt folosite ca delimitatori. 
</p>

<p>
<strong>Action</strong> este acțiunea ce trebuie executată când este identificat un pattern. Acțiunea este executată asupra <strong>liniei</strong> pe care a fost găsit patternul. Acțiuni uzuale sunt: 
</p>
<ol>
<li class="level1"><div class="li"> <code>p</code> afișează linia </div>
</li>
<li class="level1"><div class="li"> <code>d</code> șterge linia </div>
</li>
<li class="level1"><div class="li"> <code>s/pattern1/pattern2/</code> substituie pattern1 cu pattern2 </div>
</li>
</ol>

<p>
Când este invocat, <code>sed</code> urmează un set de pași: 
</p>
<ol>
<li class="level1"><div class="li"> Caută patternul în input până când găsește o potrivire. Căutarea este realizată secvențial. </div>
</li>
<li class="level1"><div class="li"> Când găsește o potrivire, execută acțiunea action asupra liniei pe care a fost găsit patternul.  </div>
</li>
<li class="level1"><div class="li"> Continuă căutarea patternului și reia pașii de mai sus până la sfrasitul inputului. </div>
</li>
</ol>

<p>
Să luăm un exemplu: 
</p>
<pre class="code bash"> student<span class="sy0">@</span>ubuntu:~<span class="sy0">/</span>uso<span class="sy0">/</span>lab10<span class="sy0">/</span>sed_examples$ <span class="kw2">cat</span> db_select.out 
 <span class="nu0">1</span><span class="sy0">|</span>Ionescu<span class="sy0">|</span>Ion<span class="sy0">|</span><span class="nu0">7.0</span> 
 <span class="nu0">2</span><span class="sy0">|</span>Gheorghescu<span class="sy0">|</span>Gheorghe<span class="sy0">|</span><span class="nu0">3.0</span> 
 <span class="nu0">3</span><span class="sy0">|</span>Vasilescu<span class="sy0">|</span>Vasile<span class="sy0">|</span><span class="nu0">8.0</span> 
 <span class="nu0">4</span><span class="sy0">|</span>Marinescu<span class="sy0">|</span>Marian<span class="sy0">|</span><span class="nu0">10.0</span> 
&nbsp;
 student<span class="sy0">@</span>ubuntu:~<span class="sy0">/</span>uso<span class="sy0">/</span>lab10<span class="sy0">/</span>sed_examples$ <span class="kw2">sed</span> <span class="st_h">'p'</span> db_select.out  
 <span class="nu0">1</span><span class="sy0">|</span>Ionescu<span class="sy0">|</span>Ion<span class="sy0">|</span><span class="nu0">7.0</span> 
 <span class="nu0">1</span><span class="sy0">|</span>Ionescu<span class="sy0">|</span>Ion<span class="sy0">|</span><span class="nu0">7.0</span> 
 <span class="nu0">2</span><span class="sy0">|</span>Gheorghescu<span class="sy0">|</span>Gheorghe<span class="sy0">|</span><span class="nu0">3.0</span> 
 <span class="nu0">2</span><span class="sy0">|</span>Gheorghescu<span class="sy0">|</span>Gheorghe<span class="sy0">|</span><span class="nu0">3.0</span> 
 <span class="nu0">3</span><span class="sy0">|</span>Vasilescu<span class="sy0">|</span>Vasile<span class="sy0">|</span><span class="nu0">8.0</span> 
 <span class="nu0">3</span><span class="sy0">|</span>Vasilescu<span class="sy0">|</span>Vasile<span class="sy0">|</span><span class="nu0">8.0</span> 
 <span class="nu0">4</span><span class="sy0">|</span>Marinescu<span class="sy0">|</span>Marian<span class="sy0">|</span><span class="nu0">10.0</span> 
 <span class="nu0">4</span><span class="sy0">|</span>Marinescu<span class="sy0">|</span>Marian<span class="sy0">|</span><span class="nu0">10.0</span> 
&nbsp;
 student<span class="sy0">@</span>ubuntu:~<span class="sy0">/</span>uso<span class="sy0">/</span>lab10<span class="sy0">/</span>sed_examples$ <span class="kw2">sed</span> <span class="re5">-n</span> <span class="st_h">'p'</span> db_select.out  
 <span class="nu0">1</span><span class="sy0">|</span>Ionescu<span class="sy0">|</span>Ion<span class="sy0">|</span><span class="nu0">7.0</span> 
 <span class="nu0">2</span><span class="sy0">|</span>Gheorghescu<span class="sy0">|</span>Gheorghe<span class="sy0">|</span><span class="nu0">3.0</span> 
 <span class="nu0">3</span><span class="sy0">|</span>Vasilescu<span class="sy0">|</span>Vasile<span class="sy0">|</span><span class="nu0">8.0</span> 
 <span class="nu0">4</span><span class="sy0">|</span>Marinescu<span class="sy0">|</span>Marian<span class="sy0">|</span><span class="nu0">10.0</span> </pre>

<p>
Acțiunea <code>p</code> afișează fiecare linie din input. Observăm că pentru prima comandă dată fiecare linie din input apare de două ori. Asta se întâmplă deoarce <strong>sed afișează implicit fiecare linie pe care o procesează</strong>. Acțiunea <code>p</code> afișează încă o data fiecare linie la stdout. Pentru a anula acest comportament, vom folosi opțiunea <code>-n</code> care dezactivează afișarea implicită a fiecărei linii. 
</p>
<pre class="code bash"> student<span class="sy0">@</span>ubuntu:~<span class="sy0">/</span>uso<span class="sy0">/</span>lab10<span class="sy0">/</span>sed_examples$ <span class="kw2">sed</span> <span class="re5">-n</span> <span class="st_h">'/Marinescu/p'</span> db_select.out  
 <span class="nu0">4</span><span class="sy0">|</span>Marinescu<span class="sy0">|</span>Marian<span class="sy0">|</span><span class="nu0">10.0</span> </pre>

<p>
Putem folosi <code>sed</code> pentru a avea același comportament ca <code>grep</code>. Comanda de mai sus caută pe fiecare linie șirul &#039;Marinescu&#039; și afișează liniile pe care șirul este găsit. 
</p>
<pre class="code bash"> student<span class="sy0">@</span>ubuntu:~<span class="sy0">/</span>uso<span class="sy0">/</span>lab10<span class="sy0">/</span>șed_examples$ <span class="kw2">sed</span> <span class="re5">-n</span> <span class="st_h">'s/Vasil/Gigel/p'</span> db_select.out  
 <span class="nu0">3</span><span class="sy0">|</span>Gigelescu<span class="sy0">|</span>Vasile<span class="sy0">|</span><span class="nu0">8.0</span> 
&nbsp;</pre>

<p>
Cel mai adesea vom folosi <code>sed</code> pentru a <strong>substitui</strong> diverse patternuri. În exemplul de mai sus este căutat pe fiecare linie șirul &#039;Vasil&#039; și este înlocuit cu &#039;Gigel&#039;. Observăm că deși există mai multe potriviri pe aceeași linie, comportamentul default <code>sed</code> este să <strong>înlocuiască doar prima apariție</strong>. La ieșire sunt afișate liniile pe care patternul a fost găsit. 
</p>

<p>
Pentru a înlocui <strong>toate</strong> aparițiile din linie, folosim opțiunea <code>g</code> (global). 
</p>
<pre class="code bash"> student<span class="sy0">@</span>ubuntu:~<span class="sy0">/</span>uso<span class="sy0">/</span>lab10<span class="sy0">/</span>sed_examples$ <span class="kw2">sed</span> <span class="re5">-n</span> <span class="st_h">'s/Vasil/Gigel/gp'</span> db_select.out  
 <span class="nu0">3</span><span class="sy0">|</span>Gigelescu<span class="sy0">|</span>Gigele<span class="sy0">|</span><span class="nu0">8.0</span> 
&nbsp;</pre>

<p>
<p><div class="noteclassic">
Funcționalitatea <code>sed</code> o include pe cea a lui <a href="https://linux.die.net/man/1/tr" class="urlextern" title="https://linux.die.net/man/1/tr"  rel="nofollow">tr</a>.

</div></p>
</p>

</div>

<h2 class="sectionedit10" id="trasare_de_grafice">4. Trasare de grafice</h2>
<div class="level2">

<p>
De multe ori, una dintre cele mai bune forme de prezentare a datelor e în forma unor grafice. Există mai multe tipuri de grafice (cu puncte, cu linii, <em>pie chart</em>, <em>bar chart</em> etc.) decizia de a folosi un tip sau altul aparținând observatorului uman.
</p>

<p>
Pentru trasarea de grafice, putem folosi utilitarul <a href="http://www.gnuplot.info/" class="urlextern" title="http://www.gnuplot.info/"  rel="nofollow">gnuplot</a>. Gnuplot primește comenzi care pot fi trecute într-un script pentru a trasa grafice.
</p>

<p>
Pentru un exemplu de utilizare a gnuplot, accesăm subdirectorul <code>draw-plots/</code> din directorul laboratorului:
</p>
<pre class="code">student@mjolnir:~/uso.git/lab11/process-table-data$ cd ../draw-plots/
student@mjolnir:~/uso.git/lab11/draw-plots$ ls
draw-overhead-for-kpps.gnu     transcode-overhead-for-kpps.csv
memwalk-overhead-for-kpps.csv</pre>

<p>
În acest director sunt două fișiere format CSV care conțin rezultatele unor experimente ce folosesc trafic de rețea. Fișierele <code>memwalk-overhead-for-kpps.csv</code> și <code>transcode-overhead-for-kpps.csv</code> conțin overhead-ul în secunde pentru diverse viteze de trafic de rețea, măsurate în <em>kilopackets per second</em> (kpps). Prima coloană din fiecare fișier reprezintă viteza în <code>kpps</code>, iar a doua coloană overhead-ul în secunde. Cele două fișiere indică overhead-ul indus în momentul rulării unor aplicații numite respectiv <code>memwalk</code> și <code>transcode</code>.
</p>

<p>
Tot aici se găsește și un script gnuplot, <code>draw-overhead-for-kpps.gnu</code> care trasează graficul dependenței overhead-ului față de viteza de trafic pentru aplicația <code>memwalk</code>.
</p>
<div class="hiddenGlobal  hiddenActive"><div class="hiddenElements"></div><div class="hiddenHead  hiddenSinceBeginning"><div class="hiddenOnHidden">
<p>
Click pentru explicații legate de conținutul scriptului <code>draw-overhead-for-kpps.gnu</code>
</p>
</div><div class="hiddenOnVisible">
<p>
Click pentru explicații legate de conținutul scriptului <code>draw-overhead-for-kpps.gnu</code>
</p>
</div></div> <!-- .hiddenHead --><div class="hiddenBody">
<p>
Conținutul scriptului este:
</p>
<dl class="file">
<dt><a href="http://ocw.cs.pub.ro/courses/_export/code/uso/laboratoare/laborator-10?codeblock=12" title="Download Snippet" class="mediafile mf_gnu">draw-overhead-for-kpps.gnu</a></dt>
<dd><pre class="code file gnuplot"><span class="co1"># Create plot showing overhead (in seconds) for different traffic rates.</span>
<span class="co1"># Traffic is measured in kilopackets per second (kpps).</span>
<span class="co1"># We use a CSV file as input.</span>
<span class="co1">#</span>
<span class="co1"># Input file is memwalk-overhead-for-kpps.csv. Output file is</span>
<span class="co1"># overhead-for-kpps.pdf.</span>
<span class="co1">#</span>
<span class="co1"># Run using: gnuplot draw-overhead-for-kpps.gnu</span>
&nbsp;
<span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+autoscale%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">autoscale</span></a>
<span class="kw1">unset</span> <a href="http://www.google.com/search?q=%22set+log%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">log</span></a>
<span class="kw1">unset</span> <a href="http://www.google.com/search?q=%22set+label%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">label</span></a>
<span class="kw1">unset</span> <a href="http://www.google.com/search?q=%22set+key%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">key</span></a>
<span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+term%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">term</span></a> pdf
<span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+output%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">output</span></a> <span class="st0">'overhead-for-kpps.pdf'</span>
<span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+datafile%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">datafile</span></a> separator <span class="st0">','</span>
<span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+xlabel%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">xlabel</span></a> <span class="st0">'Kilopackets per Second (kpps)'</span>
<span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+ylabel%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">ylabel</span></a> <span class="st0">'Running Time Overhead (seconds)'</span>
<span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+title%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">title</span></a> <span class="st0">'Overhead for Different Traffic Rates'</span>
<span class="kw1">plot</span> <span class="st0">'memwalk-overhead-for-kpps.csv'</span> <span class="kw5">with</span> <span class="kw5">linespoints</span></pre>
</dd></dl>

<p>
Scriptul configurează următoarele:
</p>
<ul>
<li class="level1"><div class="li"> formatul de ieșire este PDF (din linia <code>set term pdf</code>)</div>
</li>
<li class="level1"><div class="li"> fișier de ieșire (format PDF) este fișierul <code>overhead-for-kpps.pdf</code></div>
</li>
<li class="level1"><div class="li"> separatorul fișierul de intrare (de date) este virgulă (<code>,</code>, <em>comma</em>) pentru că avem la intrare format CSV</div>
</li>
<li class="level1"><div class="li"> titlul graficului și axelor</div>
</li>
<li class="level1"><div class="li"> fișierul de intrare este <code>memwalk-overhead-for-kpps</code></div>
</li>
<li class="level1"><div class="li"> tipul de grafic este <code>linespoints</code>, însemnând că se trasează și puncte și linii care unesc punctele</div>
</li>
</ul>
</div></div>
<p>
Pentru a rula scriptul folosim comanda
</p>
<pre class="code">student@mjolnir:~/uso.git/lab11/draw-plots$ gnuplot draw-overhead-for-kpps.gnu</pre>

<p>
În urma rulării rezultă fișierul <code>overhead-for-kpps.pdf</code>:
</p>
<pre class="code">student@mjolnir:~/uso.git/lab11/draw-plots$ ls
draw-overhead-for-kpps.gnu     overhead-for-kpps.pdf
memwalk-overhead-for-kpps.csv  transcode-overhead-for-kpps.csv</pre>

<p>
Putem vizualiza fișierul cu ajutorul utilitarului <code>evince</code> folosind comanda
</p>
<pre class="code">student@mjolnir:~/uso.git/lab11/draw-plots$ evince overhead-for-kpps.pdf</pre>

<p>
Întrucât dorim să plasăm pe același grafic și datele pentru aplicația <code>transcode</code>, vom adăuga în script și fișierul de intrare <code>transcode-overhead-for-kpps.csv</code>. Pentru aceasta vom schimba ultima linie din script în două linii care vor avea conținutul
</p>
<pre class="code gnuplot"><span class="kw1">plot</span> <span class="st0">'memwalk-overhead-for-kpps.csv'</span> <span class="kw5">with</span> <span class="kw5">linespoints</span><span class="sy0">,</span> \
     <span class="st0">'transcode-overhead-for-kpps.csv'</span> <span class="kw5">with</span> <span class="kw5">linespoints</span></pre>

<p>
După ce schimbăm ultima linie din fișier conform indicațiilor de mai sus și după ce salvăm fișierul, rulăm din nou scriptul și deschidem fișierul rezultat <code>overhead-for-kpps.pdf</code>:
</p>
<pre class="code">student@mjolnir:~/uso.git/lab11/draw-plots$ gnuplot draw-overhead-for-kpps.gnu
student@mjolnir:~/uso.git/lab11/draw-plots$ evince overhead-for-kpps.pdf</pre>

<p>
Observăm că nu avem legendă și nu ne putem da ușor seama care grafic reprezintă care aplicație. În scriptul <code>draw-overhead-for-kpps.gnu</code> am dezactivat legenda prin folosirea liniei
</p>
<pre class="code gnuplot"><span class="kw1">unset</span> <a href="http://www.google.com/search?q=%22set+key%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">key</span></a></pre>

<p>
Pentru a activa legenda comentăm acea linie în cadrul scriptului prefixând-o cu simbolul diez (<code>#</code>, <em>hash</em>):
</p>
<pre class="code gnuplot"><span class="co1">#unset key</span></pre>

<p>
După ce am comentat linia care dezactiva legenda, rulăm din nou scriptul și deschidem fișierul rezultat <code>overhead-for-kpps</code>:
</p>
<pre class="code">student@mjolnir:~/uso.git/lab11/draw-plots$ gnuplot draw-overhead-for-kpps.gnu
student@mjolnir:~/uso.git/lab11/draw-plots$ evince overhead-for-kpps.pdf</pre>

<p>
Acum legenda apare pe grafic, dar este plasată neconvenabil în partea de sus a ecranului. Cel mai bine este ca legenda să fie plasată în partea dreapta centru. Pentru aceasta scriem în fișier linia
</p>
<pre class="code gnuplot"><span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+key%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">key</span></a> <span class="kw5">right</span> <span class="kw5">center</span></pre>

<p>
Putem scrie linia oriunde înainte de linia <code>plot</code>. O putem scrie imediat după linia comentată mai sus. După ce am adăugat linia care poziționează legenda în partea dreapta centru, rulăm din nou scriptul și deschidem fișierul rezultat <code>overhead-for-kpps</code>:
</p>
<pre class="code">student@mjolnir:~/uso.git/lab11/draw-plots$ gnuplot draw-overhead-for-kpps.gnu
student@mjolnir:~/uso.git/lab11/draw-plots$ evince overhead-for-kpps.pdf</pre>

<p>
Ca ultimă schimbare, putem configura graficul să folosească pe post de limite pentru ordonată (axa <code>Oy</code>) reprezentând overhead-ul, valorile <code>0</code> și <code>150</code>. Pentru aceasta adăugăm în script linia
</p>
<pre class="code gnuplot"><span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+yrange%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">yrange</span></a> <span class="br0">&#91;</span><span class="nu0">0</span><span class="sy0">:</span><span class="nu0">150</span><span class="br0">&#93;</span></pre>

<p>
Putem scrie linia oriunde înainte de linia <code>plot</code>.
</p>

<p>
Pentru estetică, putem să precizăm etichetelor din legendă. Pentru aceasta înlocuim liniile care defineau graficul (ultimele două linii din script) cu liniile de mai jos, care folosesc cuvântul cheie <code>title</code> pentru a preciza etichetele în legendă:
</p>
<pre class="code gnuplot"><span class="kw1">plot</span> <span class="st0">'memwalk-overhead-for-kpps.csv'</span> <span class="kw5">with</span> <span class="kw5">linespoints</span> <a href="http://www.google.com/search?q=%22set+title%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">title</span></a> <span class="st0">'memwalk'</span><span class="sy0">,</span> \
     <span class="st0">'transcode-overhead-for-kpps.csv'</span> <span class="kw5">with</span> <span class="kw5">linespoints</span> <a href="http://www.google.com/search?q=%22set+title%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">title</span></a> <span class="st0">'transcode'</span></pre>

<p>
Apoi rulăm din nou scriptul și deschidem fișierul rezultat. Rezultatul final trebuie să fie similar imaginii de mai jos.
</p>

<p>
<a href="http://ocw.cs.pub.ro/courses/_detail/uso/laboratoare/overhead-for-kpps.png?id=uso%3Alaboratoare%3Alaborator-10" class="media" title="uso:laboratoare:overhead-for-kpps.png"><img src="http://ocw.cs.pub.ro/courses/_media/uso/laboratoare/overhead-for-kpps.png?w=400&amp;tok=c4ca44" class="mediacenter" alt="" width="400" /></a>
</p>

<p>
În acest moment avem un grafic care indică dependența overhead-ului de viteza traficului pentru două aplicații. Datele au fost prelucrate din două fișiere de intrare în format CSV, conținând două coloane: prima cu viteza traficulului (în <em>kilopackets per second</em>) și a doua cu overhead-ul cauzat de aplicație (în secunde). Am trasat două grafice de tipul <em>linespoints</em> (puncte și linii între puncte), am plasat legenda în partea din centru dreapta a graficului, am creat etichete pentru legendă și am configurat pentru axa <code>Oy</code> limitele <code>0</code> și <code>150</code>.
</p>
<div class="hiddenGlobal  hiddenActive"><div class="hiddenElements"></div><div class="hiddenHead  hiddenSinceBeginning"><div class="hiddenOnHidden">
<p>
Click pentru un model de script finalizat
</p>
</div><div class="hiddenOnVisible">
<p>
Click pentru un model de script finalizat
</p>
</div></div> <!-- .hiddenHead --><div class="hiddenBody">
<p>
În final scriptul final gnuplot va avea o formă similară celui de mai jos
</p>
<dl class="file">
<dt><a href="http://ocw.cs.pub.ro/courses/_export/code/uso/laboratoare/laborator-10?codeblock=25" title="Download Snippet" class="mediafile mf_gnu">draw-overhead-for-kpps.gnu</a></dt>
<dd><pre class="code file gnuplot"><span class="co1"># Run using: gnuplot draw-overhead-for-kpps.gnu</span>
&nbsp;
<span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+autoscale%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">autoscale</span></a>
<span class="kw1">unset</span> <a href="http://www.google.com/search?q=%22set+log%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">log</span></a>
<span class="kw1">unset</span> <a href="http://www.google.com/search?q=%22set+label%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">label</span></a>
<span class="co1">#unset key</span>
<span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+key%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">key</span></a> <span class="kw5">right</span> <span class="kw5">center</span>
<span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+term%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">term</span></a> pdf
<span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+output%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">output</span></a> <span class="st0">'overhead-for-kpps.pdf'</span>
<span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+datafile%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">datafile</span></a> separator <span class="st0">','</span>
<span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+xlabel%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">xlabel</span></a> <span class="st0">'Kilopackets per Second (kpps)'</span>
<span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+ylabel%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">ylabel</span></a> <span class="st0">'Running Time Overhead (seconds)'</span>
<span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+title%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">title</span></a> <span class="st0">'Overhead for Different Traffic Rates'</span>
<span class="kw1">set</span> <a href="http://www.google.com/search?q=%22set+yrange%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">yrange</span></a> <span class="br0">&#91;</span><span class="nu0">0</span><span class="sy0">:</span><span class="nu0">150</span><span class="br0">&#93;</span>
<span class="kw1">plot</span> <span class="st0">'memwalk-overhead-for-kpps.csv'</span> <span class="kw5">with</span> <span class="kw5">linespoints</span> <a href="http://www.google.com/search?q=%22set+title%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">title</span></a> <span class="st0">'memwalk'</span><span class="sy0">,</span> \
     <span class="st0">'transcode-overhead-for-kpps.csv'</span> <span class="kw5">with</span> <span class="kw5">linespoints</span> <a href="http://www.google.com/search?q=%22set+title%22+site%3Ahttp%3A%2F%2Fwww.gnuplot.info%2Fdocs%2F&amp;btnI=lucky"><span class="kw2">title</span></a> <span class="st0">'transcode'</span></pre>
</dd></dl>
</div></div><div class="hiddenGlobal  hiddenActive"><div class="hiddenElements"></div><div class="hiddenHead  hiddenSinceBeginning"><div class="hiddenOnHidden">
<p>
Click pentru informații despre utilitare de trasare de grafice
</p>
</div><div class="hiddenOnVisible">
<p>
Click pentru informații despre utilitare de trasare de grafice
</p>
</div></div> <!-- .hiddenHead --><div class="hiddenBody">
<p>
<p><div class="noteclassic">
O gamă foarte largă de funcționalități de prelucrare a datelor (statistică și grafică) este furnizată de <a href="http://www.r-project.org/" class="urlextern" title="http://www.r-project.org/"  rel="nofollow">limbajul R</a>. R oferă un mediu de dezvoltare a aplicațiilor de prelucrarea statistică; are un limbaj propriu cu ajutorul căruia se pot prelucra date, în principal numerice și statistice. Funcționalitățile oferite sunt vaste de la lucru pe vectori și matrice, la operații pe date tabelare, agregare de date, trasare de grafice în diferite formate. <a href="http://www.r-project.org/" class="urlextern" title="http://www.r-project.org/"  rel="nofollow">Site-ul oficial</a> conține documentație de instalare, utilizare și configurare a R.

</div></p>
</p>

<p>
<p><div class="noteclassic">
O listă de utilitare pentru trasarea de grafice găsiți pe pagina <a href="http://en.wikipedia.org/wiki/Wikipedia:How_to_create_charts_for_Wikipedia_articles" class="urlextern" title="http://en.wikipedia.org/wiki/Wikipedia:How_to_create_charts_for_Wikipedia_articles"  rel="nofollow">How to create charts for Wikipedia articles</a>.

</div></p>
</p>
</div></div>
</div>

<h2 class="sectionedit11" id="exercitii">Exerciții</h2>
<div class="level2">

</div>

<h3 class="sectionedit12" id="importarea_unui_fisier_csv_intr-o_baza_de_date_4p">1. Importarea unui fișier CSV într-o bază de date (4p)</h3>
<div class="level3">

<p>
<p><div class="noteclassic">
Pentru acest exercițiu e nevoie să descărcăm <a href="https://docs.google.com/spreadsheets/d/1rX23ArPIJv3Qin6ortEAW5cVZ4YEGC0OCBvjhauNT54/edit#gid=957325511" class="urlextern" title="https://docs.google.com/spreadsheets/d/1rX23ArPIJv3Qin6ortEAW5cVZ4YEGC0OCBvjhauNT54/edit#gid=957325511"  rel="nofollow">fisierul spreadsheet de aici</a> cu studenți în format CSV.
</p>

<p>
Pentru a descărca fișierul, folosiți un browser în mod grafic și (Firefox sau Chrome) și apoi folosiți intrarea <code>File &gt; Download As &gt; Comma Separated Value</code>. <strong>Asigurați-vă că separatorul este virgula (,)</strong>

</div></p>
</p>

<p>
În exercițiile precedente, am modificat câteva fișiere de tip CSV. Am văzut că putem să și filtrăm textul în linie de comandă. 
</p>

<p>
Vrem acum să stocăm toate aceste informații într-o bază de date relațională ce poate fi interogată ulterior de mai multe aplicații. 
</p>

<p>
Trebuie să ne asigurăm că avem atât clientul cât și serverul de MySQL instalate pe stația pe care lucrăm:
</p>
<pre class="code bash"><span class="co4">student@uso:~$ </span><span class="kw2">sudo</span> <span class="kw2">apt-get install</span> mysql-server-<span class="nu0">5.5</span> mysql-client-core-<span class="nu0">5.5</span></pre>

<p>
Dacă nu puteți instala aceste pachete, încercați cu versiunea 5.6:
</p>
<pre class="code bash"><span class="co4">student@uso:~$ </span><span class="kw2">sudo</span> <span class="kw2">apt-get install</span> mysql-server-<span class="nu0">5.6</span> mysql-client-core-<span class="nu0">5.6</span></pre>

<p>
<p><div class="notetip">
Dacă aveți probleme în instalarea pachetelor, este posibil să nu fie actualizate listele de pachete. Pentru aceasta rulați comanda
</p>
<pre class="code">student@uso:~$ sudo apt-get update</pre>

<p>

</div></p>
</p>

<p>
<p><div class="noteimportant">
La instalarea serverului de MySQL configurați parola <code>root</code> pentru utilizatorul <code>root</code>.

</div></p>
</p>

<p>
După instalare pornim <code>mysql</code>:
</p>
<pre class="code bash">student<span class="sy0">@</span>uso:~<span class="sy0">/</span>uso$ mysql <span class="re5">-u</span> root <span class="re5">-proot</span>
&nbsp;
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection <span class="kw2">id</span> is <span class="nu0">42</span>
Server version: 5.5.44-0ubuntu0.14.04.1 <span class="br0">&#40;</span>Ubuntu<span class="br0">&#41;</span>
&nbsp;
Copyright <span class="br0">&#40;</span>c<span class="br0">&#41;</span> <span class="nu0">2000</span>, <span class="nu0">2015</span>, Oracle and<span class="sy0">/</span>or its affiliates. All rights reserved.
&nbsp;
Oracle is a registered trademark of Oracle Corporation and<span class="sy0">/</span>or its
affiliates. Other names may be trademarks of their respective
owners.
&nbsp;
Type <span class="st_h">'help;'</span> or <span class="st_h">'\h'</span> <span class="kw1">for</span> help. Type <span class="st_h">'\c'</span> to <span class="kw2">clear</span> the current input statement.</pre>

<p>
Creăm o bază de date goală, fără tabele:
</p>
<pre class="code bash">mysql<span class="sy0">&gt;</span> create database uso;
Query OK, <span class="nu0">1</span> row affected <span class="br0">&#40;</span><span class="nu0">0.00</span> sec<span class="br0">&#41;</span></pre>

<p>
Pentru a valida comanda de mai sus folosim:
</p>
<pre class="code bash">mysql<span class="sy0">&gt;</span> show databases;
+--------------------+
<span class="sy0">|</span> Database           <span class="sy0">|</span>
+--------------------+
<span class="sy0">|</span> information_schema <span class="sy0">|</span>
<span class="sy0">|</span> mysql              <span class="sy0">|</span>
<span class="sy0">|</span> performance_schema <span class="sy0">|</span>
<span class="sy0">|</span> uso                <span class="sy0">|</span>
+--------------------+
<span class="nu0">4</span> rows <span class="kw1">in</span> <span class="kw1">set</span> <span class="br0">&#40;</span><span class="nu0">0.00</span> sec<span class="br0">&#41;</span></pre>

<p>
Creăm o tabelă care imită CSV-ul descărcat. Trebuie să alegem baza de date cu care lucrăm. Aceasta va fi <code>uso</code>:
</p>
<pre class="code bash">mysql<span class="sy0">&gt;</span> use uso
Database changed
&nbsp;
mysql<span class="sy0">&gt;</span> create table studenti<span class="br0">&#40;</span> 
        nume varchar<span class="br0">&#40;</span><span class="nu0">100</span><span class="br0">&#41;</span> not null, 
        grupa varchar<span class="br0">&#40;</span><span class="nu0">10</span><span class="br0">&#41;</span> not null, 
        nota1 float, 
        nota2 float, 
        nota3 float<span class="br0">&#41;</span>;</pre>

<p>
Pentru a valida corectitudinea comenzii folosim comanda:
</p>
<pre class="code bash">mysql<span class="sy0">&gt;</span> describe studenti;</pre>

<p>
Pentru a importa un fișier CSV versiunea actuală de MySQL nu ne lasă în mod implicit. Trebuie să oprim consola folosind combinația de taste <strong><code>CTRL+d</code></strong> și să pornim <code>mysql</code> astfel:
</p>
<pre class="code bash"><span class="co4">student@uso:~/uso$ </span>mysql <span class="re5">-u</span> root <span class="re5">-proot</span> <span class="re5">--local-infile</span>=<span class="nu0">1</span> uso</pre>

<p>
Pentru importarea CSV-ului se folosește în <code>mysql</code> următoarea comandă:
</p>
<pre class="code bash">mysql<span class="sy0">&gt;</span> load data <span class="kw3">local</span> infile <span class="st_h">'/path/to/file/students.csv'</span> into table studenti columns terminated by <span class="st_h">','</span> lines terminated by <span class="st_h">'\n'</span>;</pre>

<p>
În loc de <code>/path/to/file/students.csv</code> dați calea către locul în care ați salvat fișierul Excel descărcat ca CSV din Google Spreadsheets. În caz de succes observați output-ul dat de <code>mysql</code>:
</p>
<pre class="code bash">Query OK, <span class="nu0">91</span> rows affected <span class="br0">&#40;</span><span class="nu0">0.01</span> sec<span class="br0">&#41;</span>
Records: <span class="nu0">91</span>  Deleted: <span class="nu0">0</span>  Skipped: <span class="nu0">0</span>  Warnings: <span class="nu0">0</span></pre>

<p>
<p><div class="noteclassic">
Dacă apar warning-uri le puteți ignora.

</div></p>
</p>

<p>
Aceasta ne spune că au fost adăugate 91 de intrări. Puteți verifica faptul că CSV-ul avea 91 de intrări folosind <a href="http://linux.die.net/man/1/wc" class="urlextern" title="http://linux.die.net/man/1/wc"  rel="nofollow">wc</a>:
</p>
<pre class="code bash"><span class="co4">student@uso:~/uso$ </span><span class="kw2">cat</span> students.csv <span class="sy0">|</span> <span class="kw2">wc</span> <span class="re5">-l</span></pre>

</div>

<h3 class="sectionedit13" id="selectie_sortare_date_din_baza_de_date_2p">2. Selecție, sortare date din baza de date (2p)</h3>
<div class="level3">

<p>
Bazei noastre de date îi lipsește o cheie primară. Aceasta se poate adăuga folosind comanda (asigurați-vă că folosiți baza de date <code>uso</code> când lucrați):
</p>
<pre class="code bash">mysql<span class="sy0">&gt;</span> alter table studenti add <span class="kw2">id</span> int unsigned not null auto_increment,add primary key <span class="br0">&#40;</span><span class="kw2">id</span><span class="br0">&#41;</span>;
&nbsp;
Query OK, <span class="nu0">92</span> rows affected <span class="br0">&#40;</span><span class="nu0">0.06</span> sec<span class="br0">&#41;</span>
Records: <span class="nu0">92</span>  Duplicates: <span class="nu0">0</span>  Warnings: <span class="nu0">0</span></pre>

<p>
Putem verifica acest lucru afișând primele 10 intrări din tabela <code>studenti</code>:
</p>
<pre class="code bash">mysql<span class="sy0">&gt;</span> <span class="kw1">select</span> <span class="sy0">*</span> from studenti limit <span class="nu0">10</span>;
+-----------------------------------+-------+-------+-------+-------+----+
<span class="sy0">|</span> nume                              <span class="sy0">|</span> grupa <span class="sy0">|</span> nota1 <span class="sy0">|</span> nota2 <span class="sy0">|</span> nota3 <span class="sy0">|</span> <span class="kw2">id</span> <span class="sy0">|</span>
+-----------------------------------+-------+-------+-------+-------+----+
<span class="sy0">|</span> VLĂDUȚU I. Liviu-Alexandru        <span class="sy0">|</span> 311CC <span class="sy0">|</span>     <span class="nu0">6</span> <span class="sy0">|</span>   <span class="nu0">3.5</span> <span class="sy0">|</span>  <span class="nu0">5.22</span> <span class="sy0">|</span>  <span class="nu0">1</span> <span class="sy0">|</span>
<span class="sy0">|</span> GEORGIU V. Alexandra-Maria        <span class="sy0">|</span> 311CC <span class="sy0">|</span>    <span class="nu0">10</span> <span class="sy0">|</span>    <span class="nu0">10</span> <span class="sy0">|</span>  <span class="nu0">9.67</span> <span class="sy0">|</span>  <span class="nu0">2</span> <span class="sy0">|</span>
<span class="sy0">|</span> PĂUNOIU N. Gabriel                <span class="sy0">|</span> 311CC <span class="sy0">|</span>     <span class="nu0">7</span> <span class="sy0">|</span>   <span class="nu0">6.5</span> <span class="sy0">|</span>   <span class="nu0">3.5</span> <span class="sy0">|</span>  <span class="nu0">3</span> <span class="sy0">|</span>
<span class="sy0">|</span> BĂCÎRCEA A. Andrei                <span class="sy0">|</span> 311CC <span class="sy0">|</span>     <span class="nu0">7</span> <span class="sy0">|</span>   <span class="nu0">5.5</span> <span class="sy0">|</span>  <span class="nu0">4.44</span> <span class="sy0">|</span>  <span class="nu0">4</span> <span class="sy0">|</span>
<span class="sy0">|</span> BOU V. Paul                       <span class="sy0">|</span> 311CC <span class="sy0">|</span>     <span class="nu0">7</span> <span class="sy0">|</span>  <span class="nu0">5.75</span> <span class="sy0">|</span>   <span class="nu0">3.6</span> <span class="sy0">|</span>  <span class="nu0">5</span> <span class="sy0">|</span>
<span class="sy0">|</span> PETRIA O.T. Cristina              <span class="sy0">|</span> 311CC <span class="sy0">|</span>     <span class="nu0">4</span> <span class="sy0">|</span>  <span class="nu0">2.25</span> <span class="sy0">|</span>     <span class="nu0">4</span> <span class="sy0">|</span>  <span class="nu0">6</span> <span class="sy0">|</span>
<span class="sy0">|</span> DRĂGAN Al. Andrei-Teodor          <span class="sy0">|</span> 311CC <span class="sy0">|</span>     <span class="nu0">6</span> <span class="sy0">|</span>  <span class="nu0">2.25</span> <span class="sy0">|</span>   <span class="nu0">4.9</span> <span class="sy0">|</span>  <span class="nu0">7</span> <span class="sy0">|</span>
<span class="sy0">|</span> BURGHELEA C. Stelian              <span class="sy0">|</span> 311CC <span class="sy0">|</span>     <span class="nu0">9</span> <span class="sy0">|</span>  <span class="nu0">8.75</span> <span class="sy0">|</span>     <span class="nu0">8</span> <span class="sy0">|</span>  <span class="nu0">8</span> <span class="sy0">|</span>
<span class="sy0">|</span> POPESCU A. Rodica                 <span class="sy0">|</span> 311CC <span class="sy0">|</span>     <span class="nu0">7</span> <span class="sy0">|</span>   <span class="nu0">7.5</span> <span class="sy0">|</span>   <span class="nu0">5.5</span> <span class="sy0">|</span>  <span class="nu0">9</span> <span class="sy0">|</span>
<span class="sy0">|</span> NIȚĂ‚ I. Diana-Maria              <span class="sy0">|</span> 311CC <span class="sy0">|</span>     <span class="nu0">5</span> <span class="sy0">|</span>   <span class="nu0">5.5</span> <span class="sy0">|</span>  <span class="nu0">2.67</span> <span class="sy0">|</span> <span class="nu0">10</span> <span class="sy0">|</span>
+-----------------------------------+-------+-------+-------+-------+----+</pre>

<p>
Ne propunem să efectuăm următoarele sarcini simple în MySQL:
</p>
<ul>
<li class="level1"><div class="li"> selecția DOAR a coloanelor <code>nume</code>, <code>grupa</code> și <code>nota1</code> - așadar, dorim afișarea notei 1 pentru toți studenții.</div>
</li>
<li class="level1"><div class="li"> sortarea studenților după <code>nota1</code> și afișarea tuturor coloanelor. </div>
</li>
<li class="level1"><div class="li"> afișarea unei sortări alfabetice a studenților</div>
</li>
</ul>

<p>
Puteți porni de la exemplele de SELECT oferite <a href="http://www.thegeekstuff.com/2013/09/mysql-select-command/" class="urlextern" title="http://www.thegeekstuff.com/2013/09/mysql-select-command/"  rel="nofollow">în această pagină</a>.
</p>

</div>

<h3 class="sectionedit14" id="prelucrare_fisier_json_2p">3. Prelucrare Fisier JSON  (2p)</h3>
<div class="level3">

<p>
<strong>JSON</strong> (JavaScript Object Notation) este un format de stocare a datelor ca text human-readable sub formă de perechi cheie-valoare. Este adesea folosit în limbaje de programare precum <strong>Javascript</strong> pentru a agrega și transmite date între diverse componente. Un exemplu clasic este transmiterea datelor de la un sever la o pagină web. 
</p>
<pre class="code file json">{
	&quot;title&quot;: &quot;Example Schema&quot;,
	&quot;type&quot;: &quot;object&quot;,
	&quot;properties&quot;: {
		&quot;firstName&quot;: {
			&quot;type&quot;: &quot;string&quot;
		},
		&quot;lastName&quot;: {
			&quot;type&quot;: &quot;string&quot;
		},
		&quot;age&quot;: {
			&quot;description&quot;: &quot;Age in years&quot;,
			&quot;type&quot;: &quot;integer&quot;,
			&quot;minimum&quot;: 0
		}
	},
	&quot;required&quot;: [&quot;firstName&quot;, &quot;lastName&quot;]
}</pre>

<p>
Mai multe detalii despre structura acestui fișier puteți găsi <a href="https://en.wikipedia.org/wiki/JSON" class="urlextern" title="https://en.wikipedia.org/wiki/JSON"  rel="nofollow"> aici</a>. 
</p>

<p>
Pentru acest exercițiu vom trimite un request către  <a href="https://jsonplaceholder.typicode.com/" class="urlextern" title="https://jsonplaceholder.typicode.com/"  rel="nofollow"> acest site</a> folosind <a href="https://linux.die.net/man/1/curl" class="urlextern" title="https://linux.die.net/man/1/curl"  rel="nofollow">curl</a>  pentru a obține lista de utilizatori înrolați. Răspunsul de la server va fi în formatul <code>JSON</code>. 
</p>

<p>
<p><div class="notetip">
Pentru a obține lista de utilizatori înrolați, intrați pe website și căutați după <code>resources</code>.

</div></p>
</p>

<p>
Salvați răspunsul în fișierul <code>user_list.json</code>.  
</p>

<p>
Folosind <code>sed</code>, afișați intrarea din<code>json</code> care corespunde utilizatorului cu <code>id-ul 2</code>. Va trebui să căutați după linia ce conține id-ul și să afișați următoarele linii din intrare.
</p>

<p>
<p><div class="notetip">
<code>Man sed</code> si căutați după <code>lines following</code>.

</div></p>
</p>

<p>
Folosind <code>sed</code>, modificați <code>user_list.json</code> astfel încât atributul “phone” din toate intrările să fie înlocuit cu “mobile_phone”. 
</p>

</div>

<h3 class="sectionedit15" id="prelucrarea_informatiilor_despre_sistemul_de_fisiere_2p">4. Prelucrarea informațiilor despre sistemul de fișiere (2p)</h3>
<div class="level3">

<p>
Este deseori util să știm să prelucrăm informațiile pe care le obținem de la utilitarele Linux. În acest sens dorim că datele să fie salvate într-un format bine precizat. 
</p>

<p>
Când dorim să aflat informații despre sistemul de fișiere, 2 utilitare des folosite sunt <a href="https://linux.die.net/man/1/find" class="urlextern" title="https://linux.die.net/man/1/find"  rel="nofollow">find</a> și <a href="https://linux.die.net/mân/1/stat" class="urlextern" title="https://linux.die.net/mân/1/stat"  rel="nofollow">stat</a>. Cu <strong>find</strong> am mai lucrat în <a href="laborator-06.html" class="urlextern" title="http://ocw.cs.pub.ro/courses/uso/laboratoare/laborator-06"  rel="nofollow">laboratorul 6</a>. 
</p>

<p>
Sarcina voastră este să listați primele 5 fișiere obișnuite (regular files) din ierarhia /etc (adică din toate directoarele, subdirectoarele și subdirectoarele acestora etc.) sortate crescător în ordinea dimesiunii ocupate de fiecare fișier. Outputul trebuie salvat în fișierul <code>&#039;uuuuge_files.txt</code>, fără a include erorile. 
</p>

<p>
<p><div class="noteclassic">
Folosiți find pentru a extrage fișierele. Apoi folosiți expandarea comenzii și stat pentru a afișa doar numele și dimensiunea fișierului. Adică o construcție de forma 
</p>
<pre class="code"> 
stat -c ... $(find ...) </pre>

<p>
Apoi filtrați output-ul comenzii de mai sus cu ajutorul comenzii <a href="https://linux.die.net/man/1/sort" class="urlextern" title="https://linux.die.net/man/1/sort"  rel="nofollow">sort</a> pentru a sorta <strong>numeric</strong> în funcție de dimensiunea fișierului. Adică o construcție de forma: 
</p>
<pre class="code"> 
stat -c ... $(find ...) | sort ... </pre>

<p>
Apoi filtrați output-ul pentru a extrage doar primele 5 fișiere, în ordinea dimensiunii. Folosiți <code>tail</code>.

</div></p>
</p>

</div>

<h2 class="sectionedit16" id="bonus">BONUS</h2>
<div class="level2">

</div>

<h3 class="sectionedit17" id="prelucrare_html_2_karma_wouso">1. Prelucrare HTML (2 karma WoUSO)</h3>
<div class="level3">

<p>
Obțineți fișierul <code>index.html</code> al paginii web  <a href="http://elf.cs.pub.ro" class="urlextern" title="http://elf.cs.pub.ro"  rel="nofollow">http://elf.cs.pub.ro</a>. <a href="https://linux.die.net/man/1/wget" class="urlextern" title="https://linux.die.net/man/1/wget"  rel="nofollow"> wget </a>
</p>

<p>
Dorim să eliminăm toate tag-urile <abbr title="HyperText Markup Language">HTML</abbr> din <code>index.html</code> folosind <code>sed</code>. Șed va primi ca pattern o <strong>expresie regulată</strong>. Fișierul ar trebui să aibă următorul conținut. 
</p>
<pre class="code file html4strict"><span class="sc2">&lt;<a href="http://december.com/html/4/element/html.html"><span class="kw2">html</span></a>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span>
		<span class="sc2">&lt;<a href="http://december.com/html/4/element/meta.html"><span class="kw2">meta</span></a> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;google-site-verification&quot;</span> <span class="kw3">content</span><span class="sy0">=</span><span class="st0">&quot;gTsIxyV43HSJraRPl6X1A5jzGFgQ3N__hKAcuL2QsO8&quot;</span> <span class="sy0">/</span>&gt;</span>
	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span>
&nbsp;
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span>
		<span class="sc2">&lt;<a href="http://december.com/html/4/element/h1.html"><span class="kw2">h1</span></a>&gt;</span>It works!<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/h1.html"><span class="kw2">h1</span></a>&gt;</span>
	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/html.html"><span class="kw2">html</span></a>&gt;</span></pre>

<p>
<p><div class="notetip">
Expresiile regulate sunt subiectul laboratorului următor. Totuși dacă vreți să încercați să scrieți RegExp-uri și să vedeți pe ce bucăți din text fac match, puteți încerca site-ul interactiv <a href="http://regexr.com/" class="urlextern" title="http://regexr.com/"  rel="nofollow">http://regexr.com/</a>.

</div></p>
</p>

<p>
<p><div class="notetip">
Un tag <abbr title="HyperText Markup Language">HTML</abbr> are forma &lt;tag&gt;. 
Trebuie să scrieți o expresie regulată care identifică orice expresie începe cu <code>&lt;</code> și apoi face match pe oricâte caractere până când este întâlnit carcaterul <code>&gt;</code>. Output-ul așteptat este următorul:
</p>
<pre class="code">
	
		
	

	
		It works!
	

</pre>

<p>

</div></p>
</p>

<p>
După ce am eliminat tag-urile, observăm că textul nu apare la început de rând întrucât este precedat de o suita de whitespaces. Dorim să eliminăm și toate whitespace-urile (<code>s</code>) aflate la început de linie. 
</p>

<p>
<p><div class="notetip">
Trebuie să scrieți o expresie regulată care identifică orice secvența de whitespaces care începe fix la începutul liniei. Apoi trebuie să o înlocuiți cu un șir vid. 
Atenție! Textul de pe linie nu trebuie eliminat. Output-ul așteptat este următorul: 
</p>
<pre class="code"> 






It works!


</pre>

<p>

</div></p>
</p>

<p>
Întrucât am eliminat toate spațiile de la început de linie, liniile care conțineau numai spații au rămas goale. Observăm că în output apar multe astfel de linii. Dorim să le eliminăm și pe acestea folosind șed. 
</p>

<p>
<p><div class="notetip">
Trebuie să scrieți o expresie regulată care identifică orice linie fără nici un caracter. Folosiți opțiunea <code>delete</code> a lui șed pentru a o șterge. 
</p>
<pre class="code">It works!</pre>

<p>

</div></p>
</p>

</div>

<h3 class="sectionedit18" id="creare_grafic_de_tip_histograma_cu_numar_de_note_2_karma_wouso">2. Creare grafic de tip histogramă cu număr de note (2 karma WoUSO)</h3>
<div class="level3">

<p>
Folosind datele din fișierul <code>grades.txt</code> ne propunem să creăm o <span class="curid"><a href="laborator-10.html" class="wikilink1" title="uso:laboratoare:laborator-10">histogramă</a></span> a notelor obținute de studenți; adică un grafic care are pe axa <code>Ox</code> notele studenților de la <code>1</code> la <code>10</code> iar pe axa <code>Oy</code> prezintă câți studenți au luat nota respectivă. Astfel, pentru fiecare notă va exista o bară care va indica câți studenți au obținut acea notă.
</p>

<p>
Fișierul <code>grades.txt</code> are formatul:
</p>
<pre class="file">[...]
15 8
15 9
13 10</pre>

<p>
Ultima linie înseamnă că au fost obținute 13 note de 10, penultima linie înseamnă ca au fost obținute 15 note de 9, iar antepenultima linie înseamnă că au fost obținute 15 note de 8
</p>

<p>
Pentru aceasta, accesați subdirectorul <code>draw-plots/</code> și creați o copie a scriptului <code>draw-overhead-for-kpps.gnu</code> numită <code>draw-student-grades-histogram.gnu</code>. Acest script va folosi la intrare fișierul <code>grades.txt</code> din directorul părinte și va genera la ieșire un fișier PDF numit <code>student-grades.pdf</code> cuprinzând histograma notelor studenților.
</p>
<div class="hiddenGlobal  hiddenActive"><div class="hiddenElements"></div><div class="hiddenHead  hiddenSinceBeginning"><div class="hiddenOnHidden">
<p>
Click pentru indicații
</p>
</div><div class="hiddenOnVisible">
<p>
Click pentru indicații
</p>
</div></div> <!-- .hiddenHead --><div class="hiddenBody">
<p>
Recomandăm să actualizați scriptul <code>draw-student-grades-histogram.gnu</code>, urmând pașii:
</p>
<ol>
<li class="level1"><div class="li"> Actualizarea numelui fișierului de intrare și a fișierului de ieșire: pe linia cu <code>output</code> și cea cu <code>plot</code>.</div>
</li>
<li class="level1"><div class="li"> Actualizarea titlurilor: <code>xlabel</code>, <code>ylabel</code>, <code>title</code>.</div>
</li>
<li class="level1"><div class="li"> Folosirea caracterului spațiu (<em>blank</em>) pe post de separator: pe linia <code>set datafile separator</code>.</div>
</li>
<li class="level1"><div class="li"> Dezactivarea afișării legendei. Adică linia<pre class="code">unset key</pre>

<p>
 trebuie să <strong>nu</strong> fie comentată. Și trebuie ștearsă (sau comentată) linia
</p>
<pre class="code">set key right center</pre>
</div>
</li>
<li class="level1"><div class="li"> Specificarea automată de limite pentru axa <code>Oy</code>. Adică ștergeți sau comentați linia<pre class="code">set yrange [0:150]</pre>
</div>
</li>
<li class="level1"><div class="li"> Trasarea unui grafic cu puncte, folosind a doua coloană pentru axa <code>Ox</code> și prima coloană pentru axa <code>Oy</code>. Vedeți și indicațiile.</div>
</li>
<li class="level1"><div class="li"> Trasarea unui grafic de tip histogramă, pornind de la cel anterior. Vedeți și indicațiile.</div>
</li>
</ol>

<p>
<p><div class="notetip">
Parcurgeți secțiunea <a href="laborator-10.html#trasare_de_grafice" title="uso:laboratoare:laborator-10 ↵" class="wikilink1">Trasare de grafice</a> pentru ajutor legat de crearea de scripturi gnuplot și folosirea comenzii <code>gnuplot</code>.

</div></p>
</p>
</div></div>
<p>
<p><div class="notetip">
Pașii de rezolvare sunt detaliați <strong>în subsecțiunile</strong> exercițiului (subsecțiunile 7.1 și 7.2). Parcurgeți subsecțiunile pentru indicații legate de acești pași și pentru rezolvarea exercițiului.

</div></p>
</p>

</div>

<h4 id="crearea_grafic_cu_puncte_cu_numar_de_note_1p">2.1. Crearea grafic cu puncte cu număr de note (1p)</h4>
<div class="level4">
<div class="hiddenGlobal  hiddenActive"><div class="hiddenElements"></div><div class="hiddenHead  hiddenSinceBeginning"><div class="hiddenOnHidden">
<p>
Click pentru indicații
</p>
</div><div class="hiddenOnVisible">
<p>
Click pentru indicații
</p>
</div></div> <!-- .hiddenHead --><div class="hiddenBody">
<p>
<p><div class="notetip">
Pentru a trasa graficul cu puncte și să folosiți a doua coloană pentru axa <code>Ox</code> și prima coloană pentru axa <code>Oy</code> folosiți construcția <code>using 2:1</code> la sfârșitul liniei cu <code>plot</code>. Nu mai e nevoie de construcția <code>with linespoints</code> întrucât nu dorim grafic cu linii între puncte.
</p>

<p>
Detalii despre folosirea construcției <code>using</code> găsiți <a href="http://www.cs.hmc.edu/~vrable/gnuplot/using-gnuplot.html" class="urlextern" title="http://www.cs.hmc.edu/~vrable/gnuplot/using-gnuplot.html"  rel="nofollow">aici</a>. Căutați după șirul <em>Using using</em> în cadrul paginii.

</div></p>
</p>
</div></div>
<p>
Folosiți comanda <code>gnuplot</code> cu argument scriptul <code>draw-student-grades-histogram.gnu</code> pentru a genera la ieșire graficul cu puncte în fișierul <code>student-grades.pdf</code>. Deschideți fișierul folosind comanda <code>evince</code>. Rezultatul final trebuie să fie similar imaginii de mai jos.
</p>

<p>
<a href="http://ocw.cs.pub.ro/courses/_detail/uso/laboratoare/student-grades-points.png?id=uso%3Alaboratoare%3Alaborator-10" class="media" title="uso:laboratoare:student-grades-points.png"><img src="http://ocw.cs.pub.ro/courses/_media/uso/laboratoare/student-grades-points.png?w=400&amp;tok=012e07" class="mediacenter" alt="" width="400" /></a>
</p>

</div>

<h4 id="creare_grafic_de_tip_histograma_cu_numar_de_note_1p">2.2. Creare grafic de tip histogramă cu număr de note (1p)</h4>
<div class="level4">
<div class="hiddenGlobal  hiddenActive"><div class="hiddenElements"></div><div class="hiddenHead  hiddenSinceBeginning"><div class="hiddenOnHidden">
<p>
Click pentru indicații
</p>
</div><div class="hiddenOnVisible">
<p>
Click pentru indicații
</p>
</div></div> <!-- .hiddenHead --><div class="hiddenBody">
<p>
<p><div class="notetip">
Pentru a trasa graficul în formă de histogramă, adăugați în script liniile
</p>
<pre class="code">set style data histogram
set style fill solid border</pre>

<p>
și modificați linia de plot pentru a specifica ce coloană este folosită pentru axa <code>0x</code> și ce coloană pentru axa <code>Oy</code>. Sintaxa pentru histogramă este de forma <code>using 1:xticlabels(2)</code> pentru a folosi a doua coloană pentru axa <code>Ox</code> și a prima coloană pentru axa <code>Oy</code>.
</p>

<p>
Detalii despre crearea de histograme în gnuplot găsiți <a href="http://psy.swansea.ac.uk/staff/carter/gnuplot/gnuplot_histograms.htm" class="urlextern" title="http://psy.swansea.ac.uk/staff/carter/gnuplot/gnuplot_histograms.htm"  rel="nofollow">aici</a> și <a href="http://gnuplot.sourceforge.net/demo/histograms.html" class="urlextern" title="http://gnuplot.sourceforge.net/demo/histograms.html"  rel="nofollow">aici</a>.

</div></p>
</p>
</div></div>
<p>
Folosiți comanda <code>gnuplot</code> cu argument scriptul <code>draw-student-grades-histogram.gnu</code> pentru a genera la ieșire graficul cu histogramă în fișierul <code>student-grades.pdf</code>. Deschideți fișierul folosind comanda <code>evince</code>. Rezultatul final trebuie să fie similar imaginii de mai jos.
</p>

<p>
<a href="http://ocw.cs.pub.ro/courses/_detail/uso/laboratoare/student-grades.png?id=uso%3Alaboratoare%3Alaborator-10" class="media" title="uso:laboratoare:student-grades.png"><img src="http://ocw.cs.pub.ro/courses/_media/uso/laboratoare/student-grades.png?w=400&amp;tok=5be94e" class="mediacenter" alt="" width="400" /></a>
</p>

</div>

        </div>
        <div class="right_sidebar">
          <form action="../../start.html" accept-charset="utf-8" class="search" id="dw__search" method="get"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>          <div class="namespace_sidebar sidebar_box">
<ul>
<li class="level1"><div class="li"> <a href="../anunturi.html" class="wikilink1" title="uso:anunturi">Anunțuri</a></div>
</li>
<li class="level1"><div class="li"> <a href="../need-to-know.html" class="wikilink1" title="uso:need-to-know">USO Need to Know</a></div>
</li>
<li class="level1"><div class="li"> <a href="../calendar.html" class="wikilink1" title="uso:calendar">Calendar</a></div>
</li>
<li class="level1"><div class="li"> <a href="../regulament.html" class="wikilink1" title="uso:regulament">Reguli generale și notare</a></div>
<ul>
<li class="level2"><div class="li"> <a href="../punctaj.html" class="wikilink1" title="uso:punctaj">Notare</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <a href="../orar.html" class="wikilink1" title="uso:orar">Orar</a></div>
</li>
<li class="level1"><div class="li"> <a href="../catalog.html" class="wikilink1" title="uso:catalog">Catalog</a></div>
</li>
<li class="level1"><div class="li"> <a href="../echipa.1.html" class="wikilink1" title="uso:echipa">Echipă</a></div>
</li>
</ul>

<h1 class="sectionedit1" id="resurse">Resurse</h1>
<div class="level1">

</div>
<!-- EDIT2 PLUGIN_INCLUDE_START "uso:resurse:start" [0-] --><div class="plugin_include_content plugin_include__uso:resurse:start">
<div class="level1">
<ul>
<li class="level1"><div class="li"> <a href="../resurse/bashcheatsheet.html" class="wikilink1" title="uso:resurse:bashcheatsheet">Cheatsheet Bash</a></div>
</li>
<li class="level1"><div class="li"> <a href="../resurse/cheatsheet.html" class="wikilink1" title="uso:resurse:cheatsheet">Cheatsheet</a></div>
</li>
<li class="level1"><div class="li"> <a href="../resurse/email.html" class="wikilink1" title="uso:resurse:email">Conturi de email @stud.acs.upb.ro</a></div>
</li>
<li class="level1"><div class="li"> <a href="../resurse/feed.html" class="wikilink1" title="uso:resurse:feed">Feed RSS</a></div>
</li>
<li class="level1"><div class="li"> <a href="../resurse/folosire-vim.html" class="wikilink1" title="uso:resurse:folosire-vim">Folosire Vim</a></div>
</li>
<li class="level1"><div class="li"> <a href="../resurse/mv.html" class="wikilink1" title="uso:resurse:mv">Mașina virtuală</a></div>
</li>
</ul>

</div>
<!-- EDIT4 PLUGIN_INCLUDE_EDITBTN "uso:resurse:start" [0-] --><!-- EDIT3 PLUGIN_INCLUDE_END "uso:resurse:start" [0-] --></div>
<div class="level1">

</div>
<!-- EDIT1 SECTION "Resurse" [263-335] -->
<h1 class="sectionedit5" id="cursuri">Cursuri</h1>
<div class="level1">

</div>
<!-- EDIT6 PLUGIN_INCLUDE_START "uso:cursuri:start" [0-] --><div class="plugin_include_content plugin_include__uso:cursuri:start">
<div class="level1">
<ul>
<li class="level1"><div class="li"> <a href="../cursuri/curs-00.html" class="wikilink1" title="uso:cursuri:curs-00">00. Bine ați venit!</a></div>
</li>
<li class="level1"><div class="li"> <a href="../cursuri/curs-01.html" class="wikilink1" title="uso:cursuri:curs-01">01. Introducere în sisteme de operare</a></div>
</li>
<li class="level1"><div class="li"> <a href="../cursuri/curs-02.html" class="wikilink1" title="uso:cursuri:curs-02">02. Utilizarea sistemului de fișiere</a></div>
</li>
<li class="level1"><div class="li"> <a href="../cursuri/curs-03.html" class="wikilink1" title="uso:cursuri:curs-03">03. Dezvoltarea programelor</a></div>
</li>
<li class="level1"><div class="li"> <a href="../cursuri/curs-04.html" class="wikilink1" title="uso:cursuri:curs-04">04. Procese și utilizatori</a></div>
</li>
<li class="level1"><div class="li"> <a href="../cursuri/curs-05.html" class="wikilink1" title="uso:cursuri:curs-05">05. Administrarea sistemului de fișiere</a></div>
</li>
<li class="level1"><div class="li"> <a href="../cursuri/curs-06.html" class="wikilink1" title="uso:cursuri:curs-06">06. Interfața în linia de comandă</a></div>
</li>
<li class="level1"><div class="li"> <a href="../cursuri/curs-07.html" class="wikilink1" title="uso:cursuri:curs-07">07. Servicii de rețea</a></div>
</li>
<li class="level1"><div class="li"> <a href="../cursuri/curs-08.html" class="wikilink1" title="uso:cursuri:curs-08">08. Configurări de rețea</a></div>
</li>
</ul>

</div>
<!-- EDIT8 PLUGIN_INCLUDE_EDITBTN "uso:cursuri:start" [0-] --><!-- EDIT7 PLUGIN_INCLUDE_END "uso:cursuri:start" [0-] --></div>
<div class="level1">

</div>
<!-- EDIT5 SECTION "Cursuri" [336-408] -->
<h1 class="sectionedit9" id="laboratoare">Laboratoare</h1>
<div class="level1">

</div>
<!-- EDIT10 PLUGIN_INCLUDE_START "uso:laboratoare:start" [0-] --><div class="plugin_include_content plugin_include__uso:laboratoare:start">
<div class="level1">
<ul>
<li class="level1"><div class="li"> <a href="laborator-01.html" class="wikilink1" title="uso:laboratoare:laborator-01">01. Introducere</a></div>
</li>
<li class="level1"><div class="li"> <a href="laborator-02.html" class="wikilink1" title="uso:laboratoare:laborator-02">02. Utilizarea sistemului de fișiere</a></div>
</li>
<li class="level1"><div class="li"> <a href="laborator-03.html" class="wikilink1" title="uso:laboratoare:laborator-03">03. Dezvoltarea programelor C sub Linux</a></div>
</li>
<li class="level1"><div class="li"> <a href="laborator-04.html" class="wikilink1" title="uso:laboratoare:laborator-04">04. Utilizatori și procese</a></div>
</li>
<li class="level1"><div class="li"> <a href="laborator-05.html" class="wikilink1" title="uso:laboratoare:laborator-05">05. Gestiunea sistemului de fișiere</a></div>
</li>
<li class="level1"><div class="li"> <a href="laborator-06.html" class="wikilink1" title="uso:laboratoare:laborator-06">06. Interfața în linia de comandă</a></div>
</li>
<li class="level1"><div class="li"> <a href="laborator-06b.html" class="wikilink1" title="uso:laboratoare:laborator-06b">06b. Recapitulare midterm</a></div>
</li>
<li class="level1"><div class="li"> <a href="laborator-07.html" class="wikilink1" title="uso:laboratoare:laborator-07">07. Servicii de rețea</a></div>
</li>
<li class="level1"><div class="li"> <a href="laborator-08.html" class="wikilink1" title="uso:laboratoare:laborator-08">08. Configurări de rețea</a></div>
</li>
</ul>

</div>
<!-- EDIT12 PLUGIN_INCLUDE_EDITBTN "uso:laboratoare:start" [0-] --><!-- EDIT11 PLUGIN_INCLUDE_END "uso:laboratoare:start" [0-] --></div>
<div class="level1">

</div>
<!-- EDIT9 SECTION "Laboratoare" [409-488] -->
<h1 class="sectionedit13" id="teme">Teme</h1>
<div class="level1">

</div>
<!-- EDIT14 PLUGIN_INCLUDE_START "uso:teme:start" [0-] --><div class="plugin_include_content plugin_include__uso:teme:start">
<div class="level1">
<ul>
<li class="level1"><div class="li"> <a href="../teme/instructiuni-checker.html" class="wikilink1" title="uso:teme:instructiuni-checker">Instrucțiuni de folosire a checkerului</a></div>
</li>
<li class="level1"><div class="li"> <a href="../teme/intrebari-frecvente.html" class="wikilink1" title="uso:teme:intrebari-frecvente">Întrebări frecvente</a></div>
</li>
<li class="level1"><div class="li"> <a href="../teme/tema-0.html" class="wikilink1" title="uso:teme:tema-0">Tema 0</a></div>
</li>
<li class="level1"><div class="li"> <a href="../teme/tema-1.html" class="wikilink1" title="uso:teme:tema-1">Tema 1</a></div>
</li>
<li class="level1"><div class="li"> <a href="../teme/tema-2.html" class="wikilink1" title="uso:teme:tema-2">Tema 2</a></div>
</li>
</ul>

</div>
<!-- EDIT16 PLUGIN_INCLUDE_EDITBTN "uso:teme:start" [0-] --><!-- EDIT15 PLUGIN_INCLUDE_END "uso:teme:start" [0-] --></div>
<div class="level1">

</div>
<!-- EDIT13 SECTION "Teme" [489-] -->
</div>
<div class="toc_sidebar sidebar_box">
<!-- TOC START -->
<div id="sb__right__dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="laborator-10.html#laborator_10_-_stocarea_si_prelucrarea_datelor">Laborator 10 - Stocarea si prelucrarea datelor</a></div></li>
<li class="level1"><div class="li"><a href="laborator-10.html#suport_laborator">Suport laborator</a></div></li>
<li class="level1"><div class="li"><a href="laborator-10.html#repository_laborator">Repository laborator</a></div></li>
<li class="level1"><div class="li"><a href="laborator-10.html#prezentare_generala">Prezentare generală</a></div></li>
<li class="level1"><div class="li"><a href="laborator-10.html#demo">Demo</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="laborator-10.html#formatul_tabelar">1. Formatul Tabelar</a></div></li>
<li class="level2"><div class="li"><a href="laborator-10.html#baze_de_date">2. Baze de date</a></div></li>
<li class="level2"><div class="li"><a href="laborator-10.html#sed">3. Sed</a></div></li>
<li class="level2"><div class="li"><a href="laborator-10.html#trasare_de_grafice">4. Trasare de grafice</a></div></li>
<li class="level2"><div class="li"><a href="laborator-10.html#exercitii">Exerciții</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="laborator-10.html#importarea_unui_fisier_csv_intr-o_baza_de_date_4p">1. Importarea unui fișier CSV într-o bază de date (4p)</a></div></li>
<li class="level3"><div class="li"><a href="laborator-10.html#selectie_sortare_date_din_baza_de_date_2p">2. Selecție, sortare date din baza de date (2p)</a></div></li>
<li class="level3"><div class="li"><a href="laborator-10.html#prelucrare_fisier_json_2p">3. Prelucrare Fisier JSON  (2p)</a></div></li>
<li class="level3"><div class="li"><a href="laborator-10.html#prelucrarea_informatiilor_despre_sistemul_de_fisiere_2p">4. Prelucrarea informațiilor despre sistemul de fișiere (2p)</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="laborator-10.html#bonus">BONUS</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="laborator-10.html#prelucrare_html_2_karma_wouso">1. Prelucrare HTML (2 karma WoUSO)</a></div></li>
<li class="level3"><div class="li"><a href="laborator-10.html#creare_grafic_de_tip_histograma_cu_numar_de_note_2_karma_wouso">2. Creare grafic de tip histogramă cu număr de note (2 karma WoUSO)</a></div>
<ul class="toc">
<li class="level4"><div class="li"><a href="laborator-10.html#crearea_grafic_cu_puncte_cu_numar_de_note_1p">2.1. Crearea grafic cu puncte cu număr de note (1p)</a></div></li>
<li class="level4"><div class="li"><a href="laborator-10.html#creare_grafic_de_tip_histograma_cu_numar_de_note_1p">2.2. Creare grafic de tip histogramă cu număr de note (1p)</a></div></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->
</div>
        </div>
      
    
      <div class="stylefoot">
        <div class="meta">
          <div class="user">
                    </div>
          <div class="doc">
          uso/laboratoare/laborator-10.txt · Last modified: 2016/11/22 23:35 by lucia.cojocaru          </div>
        </div>
      </div>

    <div class="clearer"></div>

    
                <div class="bar" id="bar__bottom">
      <div class="bar-left">
        <a href="http://ocw.cs.pub.ro/courses/uso/laboratoare/laborator-10?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]">Old revisions</a>      </div>
      <div class="bar-right">
        <a href="http://ocw.cs.pub.ro/courses/uso/laboratoare/laborator-10?do=media&amp;ns=uso%3Alaboratoare"  class="action media" rel="nofollow" title="Media Manager">Media Manager</a><a href="laborator-10.html#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]">Back to top</a>      </div>
    </div>
    <div class="clearer"></div>
            
    <div align="center" class="footerinc">
  <div class="license"><a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="../../lib/images/license/button/cc-by-sa.png" alt="CC Attribution-Share Alike 3.0 Unported" /></a></div>
  <a target="_blank" href="http://www.chimeric.de" title="www.chimeric.de"><img src="../../lib/tpl/arctic/images/button-chimeric-de.png" width="80" height="15" alt="www.chimeric.de" border="0" /></a>

  <a target="_blank" href="http://jigsaw.w3.org/css-validator/check/referer" title="Valid CSS"><img src="../../lib/tpl/arctic/images/button-css.png" width="80" height="15" alt="Valid CSS" border="0" /></a>

  <a target="_blank" href="http://wiki.splitbrain.org/wiki:dokuwiki" title="Driven by DokuWiki"><img src="../../lib/tpl/arctic/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" border="0" /></a>

  <a target="_blank" href="http://www.firefox-browser.de" title="do yourself a favour and use a real browser - get firefox"><img src="../../lib/tpl/arctic/images/button-firefox.png" width="80" height="15" alt="do yourself a favour and use a real browser - get firefox!!" border="0" /></a>
  
  <a target="_blank" href="../../feed.php" title="Recent changes RSS feed"><img src="../../lib/tpl/arctic/images/button-rss.png" width="80" height="15" alt="Recent changes RSS feed" border="0" /></a>

  <a target="_blank" href="http://validator.w3.org/check/referer" title="Valid XHTML 1.0"><img src="../../lib/tpl/arctic/images/button-xhtml.png" width="80" height="15" alt="Valid XHTML 1.0" border="0" /></a>
</div>

  </div>
</div>

<div class="no"><img src="http://ocw.cs.pub.ro/courses/lib/exe/indexer.php?id=uso%3Alaboratoare%3Alaborator-10&amp;1479900285" width="2" height="1" alt="" /></div>
</body>
</html>
